/*
 jQuery UI - v1.13.2 - 2022-09-06
 http://jqueryui.com
 Includes: position.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  jQuery UI Position 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(g){return g.raw=g};$jscomp.createTemplateTagFirstArgWithRaw=function(g,a){g.raw=a;return g};$jscomp.arrayIteratorImpl=function(g){var a=0;return function(){return a<g.length?{done:!1,value:g[a++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};$jscomp.makeIterator=function(g){var a="undefined"!=typeof Symbol&&Symbol.iterator&&g[Symbol.iterator];return a?a.call(g):$jscomp.arrayIterator(g)};
$jscomp.arrayFromIterator=function(g){for(var a,b=[];!(a=g.next()).done;)b.push(a.value);return b};$jscomp.arrayFromIterable=function(g){return g instanceof Array?g:$jscomp.arrayFromIterator($jscomp.makeIterator(g))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,a,b){if(g==Array.prototype||g==Object.prototype)return g;g[a]=b.value;return g};$jscomp.getGlobal=function(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<g.length;++a){var b=g[a];if(b&&b.Math==Math)return b}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(g,a){var b=$jscomp.propertyToPolyfillSymbol[a];if(null==b)return g[a];b=g[b];return void 0!==b?b:g[a]};
$jscomp.polyfill=function(g,a,b,d){a&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(g,a,b,d):$jscomp.polyfillUnisolated(g,a,b,d))};$jscomp.polyfillUnisolated=function(g,a,b,d){b=$jscomp.global;g=g.split(".");for(d=0;d<g.length-1;d++){var c=g[d];if(!(c in b))return;b=b[c]}g=g[g.length-1];d=b[g];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(b,g,{configurable:!0,writable:!0,value:a})};
$jscomp.polyfillIsolated=function(g,a,b,d){var c=g.split(".");g=1===c.length;d=c[0];d=!g&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<c.length-1;f++){var l=c[f];if(!(l in d))return;d=d[l]}c=c[c.length-1];b=$jscomp.IS_SYMBOL_NATIVE&&"es6"===b?d[c]:null;a=a(b);null!=a&&(g?$jscomp.defineProperty($jscomp.polyfills,c,{configurable:!0,writable:!0,value:a}):a!==b&&($jscomp.propertyToPolyfillSymbol[c]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(c):$jscomp.POLYFILL_PREFIX+c,c=
$jscomp.propertyToPolyfillSymbol[c],$jscomp.defineProperty(d,c,{configurable:!0,writable:!0,value:a})))};$jscomp.polyfill("Number.isNaN",function(g){return g?g:function(a){return"number"===typeof a&&isNaN(a)}},"es6","es3");
$jscomp.polyfill("Array.from",function(g){return g?g:function(a,b,d){b=null!=b?b:function(n){return n};var c=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if("function"==typeof f){a=f.call(a);for(var l=0;!(f=a.next()).done;)c.push(b.call(d,f.value,l++))}else for(f=a.length,l=0;l<f;l++)c.push(b.call(d,a[l],l));return c}},"es6","es3");$jscomp.polyfill("Object.is",function(g){return g?g:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(g){return g?g:function(a,b){var d=this;d instanceof String&&(d=String(d));var c=d.length;b=b||0;for(0>b&&(b=Math.max(b+c,0));b<c;b++){var f=d[b];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(g,a,b){if(null==g)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return g+""};$jscomp.polyfill("String.prototype.includes",function(g){return g?g:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");
$jscomp.findInternal=function(g,a,b){g instanceof String&&(g=String(g));for(var d=g.length,c=0;c<d;c++){var f=g[c];if(a.call(b,f,c,g))return{i:c,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(g){return g?g:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(g){return g?g:function(a,b){var d=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===b&&(b=d.length);b=Math.max(0,Math.min(b|0,d.length));for(var c=a.length;0<c&&0<b;)if(d[--b]!=a[--c])return!1;return 0>=c}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(g){return g?g:function(a,b){var d=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var c=d.length,f=a.length;b=Math.max(0,Math.min(b|0,d.length));for(var l=0;l<f&&b<c;)if(d[b++]!=a[l++])return!1;return l>=f}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(g){function a(){this.batch_=null}function b(l){return l instanceof c?l:new c(function(n,p){n(l)})}if(g&&!$jscomp.FORCE_POLYFILL_PROMISE)return g;a.prototype.asyncExecute=function(l){if(null==this.batch_){this.batch_=[];var n=this;this.asyncExecuteFunction(function(){n.executeBatch_()})}this.batch_.push(l)};var d=$jscomp.global.setTimeout;a.prototype.asyncExecuteFunction=function(l){d(l,0)};a.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var l=
this.batch_;this.batch_=[];for(var n=0;n<l.length;++n){var p=l[n];l[n]=null;try{p()}catch(t){this.asyncThrow_(t)}}}this.batch_=null};a.prototype.asyncThrow_=function(l){this.asyncExecuteFunction(function(){throw l;})};var c=function(l){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var n=this.createResolveAndReject_();try{l(n.resolve,n.reject)}catch(p){n.reject(p)}};c.prototype.createResolveAndReject_=function(){function l(t){return function(v){p||(p=!0,t.call(n,v))}}var n=this,p=!1;
return{resolve:l(this.resolveTo_),reject:l(this.reject_)}};c.prototype.resolveTo_=function(l){if(l===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof c)this.settleSameAsPromise_(l);else{a:switch(typeof l){case "object":var n=null!=l;break a;case "function":n=!0;break a;default:n=!1}n?this.resolveToNonPromiseObj_(l):this.fulfill_(l)}};c.prototype.resolveToNonPromiseObj_=function(l){var n=void 0;try{n=l.then}catch(p){this.reject_(p);return}"function"==typeof n?
this.settleSameAsThenable_(n,l):this.fulfill_(l)};c.prototype.reject_=function(l){this.settle_(2,l)};c.prototype.fulfill_=function(l){this.settle_(1,l)};c.prototype.settle_=function(l,n){if(0!=this.state_)throw Error("Cannot settle("+l+", "+n+"): Promise already settled in state"+this.state_);this.state_=l;this.result_=n;this.executeOnSettledCallbacks_()};c.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var l=0;l<this.onSettledCallbacks_.length;++l)f.asyncExecute(this.onSettledCallbacks_[l]);
this.onSettledCallbacks_=null}};var f=new a;c.prototype.settleSameAsPromise_=function(l){var n=this.createResolveAndReject_();l.callWhenSettled_(n.resolve,n.reject)};c.prototype.settleSameAsThenable_=function(l,n){var p=this.createResolveAndReject_();try{l.call(n,p.resolve,p.reject)}catch(t){p.reject(t)}};c.prototype.then=function(l,n){function p(r,w){return"function"==typeof r?function(x){try{t(r(x))}catch(B){v(B)}}:w}var t,v,u=new c(function(r,w){t=r;v=w});this.callWhenSettled_(p(l,t),p(n,v));return u};
c.prototype.catch=function(l){return this.then(void 0,l)};c.prototype.callWhenSettled_=function(l,n){function p(){switch(t.state_){case 1:l(t.result_);break;case 2:n(t.result_);break;default:throw Error("Unexpected state: "+t.state_);}}var t=this;null==this.onSettledCallbacks_?f.asyncExecute(p):this.onSettledCallbacks_.push(p)};c.resolve=b;c.reject=function(l){return new c(function(n,p){p(l)})};c.race=function(l){return new c(function(n,p){for(var t=$jscomp.makeIterator(l),v=t.next();!v.done;v=t.next())b(v.value).callWhenSettled_(n,
p)})};c.all=function(l){var n=$jscomp.makeIterator(l),p=n.next();return p.done?b([]):new c(function(t,v){function u(x){return function(B){r[x]=B;w--;0==w&&t(r)}}var r=[],w=0;do r.push(void 0),w++,b(p.value).callWhenSettled_(u(r.length-1),v),p=n.next();while(!p.done)})};return c},"es6","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(g){if(g)return g;var a=function(c,f){this.$jscomp$symbol$id_=c;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};a.prototype.toString=function(){return this.$jscomp$symbol$id_};var b=0,d=function(c){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(c||"")+"_"+b++,c)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(g){if(g)return g;g=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var d=$jscomp.global[a[b]];"function"===typeof d&&"function"!=typeof d.prototype[g]&&$jscomp.defineProperty(d.prototype,g,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return g},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(g){g={next:g};g[Symbol.iterator]=function(){return this};return g};$jscomp.iteratorFromArray=function(g,a){g instanceof String&&(g+="");var b=0,d={next:function(){if(b<g.length){var c=b++;return{value:a(c,g[c]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill("Array.prototype.values",function(g){return g?g:function(){return $jscomp.iteratorFromArray(this,function(a,b){return b})}},"es8","es3");$jscomp.owns=function(g,a){return Object.prototype.hasOwnProperty.call(g,a)};$jscomp.polyfill("Object.values",function(g){return g?g:function(a){var b=[],d;for(d in a)$jscomp.owns(a,d)&&b.push(a[d]);return b}},"es8","es3");gx.setGxObyCtx=function(g,a){var b;void 0!=g&&(b=gx.getObj(g,a))&&gx.setGxO(g,a);return gx.O};
gx.parentGridRow=function(g,a){var b=gx.fn.currentGridRowImpl(g);return b=(g=a.getGridById(g,b))&&g.parentGrid?gx.fn.currentGridRow(g.parentGrid.gridId):void 0};
gx.applyPicture=function(g,a,b){if(!gx.lang.emptyObject(g)&&!gx.lang.emptyObject(gx.rtPicture(g,b))&&!gx.lang.emptyObject(g.type))try{switch(g.type){case "int":case "decimal":return a=Number.isNaN(Number(a))?gx.num.extractValue(gx.rtPicture(g,b),gx.thousandSeparator,a):a,gx.num.formatNumber(a,g.dec,gx.rtPicture(g,b),g.len,g.sign,!0,g.emptyAsNull);case "char":return a;default:return a}}catch(d){}return a};
gx.SetOld=function(g,a,b){var d=a;g=gx.fn.controlGridId(g);0<g&&(d=a+"_"+gx.fn.currentGridRow(g));gx.fn.setHidden(d,gx.getVar(b))};gx.Old=function(g,a){try{var b=a,d=gx.fn.controlGridId(g);0<d&&(b=a+"_"+gx.fn.currentGridRow(d));var c=gx.fn.getHidden(b);"undefined"==typeof c&&""!=gx.O.CmpContext&&(c=gx.fn.getHidden(gx.O.CmpContext+b));return c}catch(f){gx.dbg.logEx(f,"gxapi.js","Old")}return""};gx.OldInteger=function(g,a){g=parseInt(gx.Old(g,a),10);return isNaN(g)?0:g};
gx.OldDecimal=function(g,a){g=gx.num.parseFloat(gx.Old(g,a),gx.thousandSeparator,gx.decimalPoint);return isNaN(g)?0:g};gx.OldDate=function(g,a){return(new gx.date.gxdate(gx.Old(g,a),"Y4MD")).getStringWithFmt(gx.dateFormat)};gx.OldDateTime=function(g,a){g=new gx.date.gxdate(gx.Old(g,a),"Y4MD");return g.getStringWithFmt(gx.dateFormat)+" "+g.getTimeString(!0,!0)};
gx.dom_i=function(g){return{el:function(a,b,d,c,f){if(a){if("string"===typeof a){c=this.byId(a);if(null!=c||!d&&(c=this.byId("span_"+a),null!=c))return c;if(b)return null;c=this.byName(a);return null!=c&&0<c.length?(c[0].id||(c[0].id=a),a=Array.from(c).filter(function(l){return l.checked}),0===a.length?c[0]:a[0]):null}return a}return null},matchesSelector:function(){var a;return function(b,d){b=gx.dom.byId(b);var c=b.matches||b.matchesSelector||b.msMatchesSelector||b.mozMatchesSelector||b.webkitMatchesSelector||
b.oMatchesSelector;void 0===a&&(a=gx.util.browser.isIE()&&8>=gx.util.browser.ieVersion());return a||!c?g(b).is(d):c?c.call(b,d):!1}}(),hasAttribute:function(a,b){return a.hasAttribute?a.hasAttribute(b):void 0!==a[b]},hasClass:function(a,b){if(a=gx.dom.el(a,!0))return a.classList?a.classList.contains(b):b&&-1!=(" "+a.className+" ").indexOf(" "+b+" ")},isRoundedBtnWrapper:function(a){return a.hasClass("BtnRight")||a.hasClass("BtnLeft")||a.hasClass("BtnBackground")},addPrefixClass:function(a,b){if(a){var d=
g(a);a.className&&!d.attr("data-gx-unprefixed-class")&&(d.attr("data-gx-unprefixed-class",a.className),d=a.className.split(" "),d.splice(0,0,""),a.className+=d.join(" "+b))}},removePrefixClass:function(a,b){if(a){var d=g(a);if(0<=a.className.search(new RegExp("(^|\\s)"+b))){var c=d.attr("data-gx-unprefixed-class");d.removeAttr("data-gx-unprefixed-class");a.className=c||a.className.substring(b.length)}}},addClass:function(a,b){var d=gx.dom.el(a,!0);d&&b&&(d.classList?0<b.indexOf(" ")?d.classList.add.apply(d.classList,
b.split(" ")):d.classList.add(b):this.hasClass(a,b)||(d.className=d.className+(d.className?" ":"")+b))},classReCache:{},removeClass:function(a,b){var d=gx.dom.el(a,!0);d&&(d.classList?d.classList.remove(b):this.hasClass(a,b)&&(a=this.classReCache[b],a||(a=new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","g"),this.classReCache[b]=a),d.className=d.className.replace(a," ")))},hasTransition:function(a){if(a&&Modernizr.csstransitions){var b=gx.util.browser,d="transitionDuration";b.isIE()&&(d="msTransitionDuration");
b.isWebkit()?d="webkitTransitionDuration":b.isFirefox()?d="MozTransitionDuration":b.isOpera()&&(d="OTransitionDuration");a=parseFloat(gx.dom.getComputedStyle(a)[d],10);return 0!==a&&!isNaN(a)}return!1},hasAnimation:function(a){if(a&&Modernizr.csstransitions){var b=gx.util.browser,d="animationName";b.isIE()&&(d="msAnimationName");b.isWebkit()?d="webkitAnimationName":b.isFirefox()?d="MozAnimationName":b.isOpera()&&(d="OAnimationName");return(a=gx.dom.getComputedStyle(a)[d])&&"none"!=a}return!1},isMultimediaElement:function(a){return"SPAN"==
a.tagName&&(gx.dom.hasClass(a,"gx-video-placeholder")||gx.dom.hasClass(a,"gx-audio-placeholder")||gx.dom.hasClass(a,"gx-download-placeholder"))},purgeElement:function(a,b){b=b||a.attributes;if(b){var d=b.length;for(var c=0;c<d;c+=1){var f=b[c].name||b[c];"function"===typeof a[f]&&(a[f]=null)}}},purge:function(a,b){b||this.purgeElement(a);if(a=a.childNodes){b=0;for(var d=a.length;b<d;b++)gx.dom.purge(a[b],!1)}},shouldPurge:function(){return gx.purgeElements&&gx.util.browser.isOldIE()},form:function(){null==
this._form&&(this._form=document.forms.MAINFORM,this._form||(this._form=document.forms[0]));return this._form},indexElements:function(){try{for(var a=gx.fn.getFormElements(),b=a.length,d=0;d<b;d++)a[d].gxIndex=d}catch(c){gx.dbg.logEx(c,"gxapi.js","indexElements")}},setAttribute:function(a,b,d){var c=function(){try{var f=gx.dom.byName(a);if(null!=f&&0<f.length)for(var l=f.length,n=0;n<l;n++)f[n].setAttribute(b,d);else n=gx.dom.byId(a),null!=n&&n.setAttribute(b,d)}catch(p){gx.dbg.logEx(p,"gxapi.js",
"setAttribute")}};"loading"==document.gxReadyState?gx.fx.obs.addObserver("gx.onload",this,c,{single:!0}):c.apply(this)},createInput:function(a,b){var d=document.createElement("input");d.type=b;d.id=a;d.name=a;gx.dom.form().appendChild(d);return d},hasSelectedFile:function(){var a=g('input[type="file"]'),b=a.length;if(!b)return!1;for(var d=0;d<b;d++)if(!gx.lang.emptyObject(a[d].value))return!0;return!1},hasSubmitControl:function(){var a=this.byTag("input"),b=a.length;if(!b)return!1;for(var d=0;d<b;d++){var c=
a[d].getAttribute("type");if("submit"==c||"image"==c)return!0}return!1},styles:function(){var a=[].concat($jscomp.arrayFromIterable(document.styleSheets)).map(function(d){return d.href}).filter(function(d){return!gx.lang.emptyObject(d)}),b=[].concat($jscomp.arrayFromIterable(document.querySelectorAll("style["+gx.html.STYLE_ELEMENT_HREF+"]"))).map(function(d){return d.getAttribute(gx.html.STYLE_ELEMENT_HREF)});return[].concat($jscomp.arrayFromIterable(a),$jscomp.arrayFromIterable(b))},getComputedStyle:function(a){try{return"#document"==
a.nodeName?null:"function"==typeof window.getComputedStyle?window.getComputedStyle(a):"undefined"!=typeof a.currentStyle?a.currentStyle:a.style}catch(b){return gx.dbg.logEx(b,"gxapi.js","getComputedStyle"),null}},getStyle:function(a,b){var d="";try{d="function"==typeof window.getComputedStyle?window.getComputedStyle(a,null)[b]:"undefined"!=typeof a.currentStyle?a.currentStyle[b]:a.style[b];var c=parseInt(d);isNaN(c)||(d=c)}catch(f){gx.dbg.logEx(f,"gxapi.js","getStyle")}return d},CSS_URL_REGEXP:/url\(["']?(?!(?:https?:|\/))([^"\)]+)["']?\)/ig,
CSS_BASE_URL_REGEXP:/(.+\/)[^\/]+$/ig,cssRules:null,cacheStyleSheet:function(a,b){var d=a.href?a.href.replace(this.CSS_BASE_URL_REGEXP,"$1"):document.location.href,c;this.cssRules||(this.cssRules=[]);try{if(c=a.cssRules||a.rules){a=0;for(var f=c.length;a<f;a++){var l=c[a].cssText;b&&!l.includes("@import")&&(l=l.replace(this.CSS_URL_REGEXP,'url("'+d+'$1")'));this.cssRules.push(l)}}}catch(n){}},getCssRules:function(a,b){var d=document.styleSheets;if(null===this.cssRules||a){this.cssRules=[];a=0;for(var c=
d.length;a<c;a++)try{d[a].disabled||this.cacheStyleSheet(d[a],b)}catch(f){}}return this.cssRules},setStyleElement:function(a,b,d){try{a.innerHTML=(d?a.innerHTML:"")+b}catch(c){a.styleSheet.cssText=(d?a.styleSheet.cssText:"")+b}},isButton:function(a){return void 0!=a&&null!=a?"submit"==a.type||"button"==a.type:!1},isRadio:function(a){return a&&"INPUT"==a.tagName&&"radio"==a.type},editControls:{text:!0,password:!0,color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,number:!0,search:!0,url:!0,
tel:!0,month:!0,week:!0},isEditControl:function(a){return a&&"INPUT"==a.tagName?this.editControls[a.type]||!1:!1},isTextControl:function(a){return a&&"INPUT"===a.tagName&&"text"===a.type||"TEXTAREA"===a.tagName},isDateControl:function(a){return"date"==a.type||"datetime"==a.type||"datetime-local"==a.type},isButtonLike:function(a){return a?this.isButton(a)||gx.dom.hasAttribute(a,gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR)?!0:a&&"INPUT"===a.nodeName?"file"===a.type||("image"===a.type||"checkbox"===a.type)&&
"function"==typeof a.onclick:!1:!1},iFrameDoc:function(a){try{if(a.contentDocument)return a.contentDocument;if(a.contentWindow)return a.contentWindow.document}catch(b){}return null},forEachChild:function(a,b,d){if(a&&a.childNodes&&"function"==typeof d)for(var c=a.childNodes.length,f=0;f<c&&!1!==d.call(b,a.childNodes[f]);f++);},isTextWithLink:function(a){return null!=a&&"A"==a.tagName&&a.childNodes&&0<a.childNodes.length&&this.innerChildIsText(a.firstChild)?!0:!1},isImageWithLink:function(a){return a&&
"A"===a.tagName&&a.href&&(a=a.firstElementChild,!gx.dom.hasClass(a,"gx-prompt")&&a&&"IMG"===a.tagName)?!0:!1},isChildNode:function(a,b){a.frameElement&&(a=a.frameElement);if(a==b)return!0;for(;a.parentNode;){if(a==b||a.parentNode==b)return!0;a=a.parentNode}return!1},NodeLevel:function(a){for(var b=0;a.parentNode;)(a.id||a.name)&&b++,a=a.parentNode;return b},findRadioContainer:function(a){return a.parentNode&&"SPAN"==a.parentNode.tagName?a.parentNode:gx.dom.findParentByTagName(a,"table")||gx.dom.findParentByTagName(a,
"span")||a.parentNode},findParentByTagName:function(a,b,d){a=a.parentNode;b=b.toUpperCase();for(var c=0;a&&(!d||c!=d);){c++;if(a.tagName==b)return a;a=a.parentNode}},innerChildIsText:function(a){for(;null!=a;){if(a.nodeName&&"#text"==a.nodeName)return!0;a=a.firstChild}return!1},allChildrenAreText:function(a){for(a=a.firstChild;a;){var b=a.nodeName.toLowerCase();if("#text"!==b&&"pre"!==b&&null!=a.offsetParent)return!1;a=a.nextSibling}return!0},position:function(a){a=g(a).offset();return{x:Math.floor(a.left),
y:Math.floor(a.top)}},dimensions:function(a){a=g(a);return{w:a.outerWidth(),h:a.outerHeight()}},windowDimensions:function(a){var b=a.documentElement;a=a.body;return b&&b.scrollHeight?{scrollWidth:Math.max(b.scrollWidth,a.scrollWidth),scrollHeight:Math.max(b.scrollHeight,a.scrollHeight),clientHeight:Math.max(b.clientHeight,a.clientHeight),clientWidth:Math.max(b.clientWidth,a.clientWidth)}:{scrollWidth:a.scrollWidth,scrollHeight:a.scrollHeight,clientHeight:a.clientHeight,clientWidth:a.clientWidth}},
documentScroll:function(a){a=a||document;var b=-1,d=-1;try{b=a.documentElement.scrollTop||a.body.scrollTop,d=a.documentElement.scrollLeft||a.body.scrollLeft}catch(c){}return{scrollTop:b,scrollLeft:d}},documentScrollable:function(a){a=a||document;var b={x:!1,y:!1};a=gx.dom.windowDimensions(a);a.scrollHeight>a.clientHeight&&(b.x=!0);a.scrollWidth>a.clientWidth&&(b.x=!0);return b},autofitIFrame:function(a){a=gx.evt.source(window.event||a);var b=window.frames[a.name].document;if(b&&""==a.width&&""==a.height){var d=
gx.dom.windowDimensions(b);b=d.scrollWidth?d.scrollWidth+10:null;d=d.scrollHeight?d.scrollHeight+10:null;b&&d&&(a.style.width=b+"px",a.style.height=d+"px")}},fitToParent:function(a){if(!gx.util.browser.isIE()&&a&&a.childNodes){for(var b=null,d=a.childNodes.length,c=0;c<d;c++){var f=a.childNodes[c];if("TABLE"==f.nodeName){b=f;break}}null!=b&&(-1!=b.style.width.indexOf("%")&&(a.style.width=gx.dom.addUnits(b.style.width)),-1!=b.style.height.indexOf("%")&&(a.style.height=gx.dom.addUnits(b.style.height)))}},
redrawControl:function(a){!gx.util.browser.isIE()||6<=gx.util.browser.ieVersion()?gx.html.setOuterHtml(a,a.outerHTML):setTimeout(function(){gx.html.setOuterHtml(a,a.outerHTML)},100)},setCaretPosition:function(a,b){null!=a&&(a.createTextRange?(a=a.createTextRange(),a.move("character",b),a.select()):a.selectionStart?(a.focus(),a.setSelectionRange(b,b)):a.focus())},replaceAtCaretPosition:function(a,b){if(document.selection){var d=document.selection.createRange().getBookmark();a.selection=a.createTextRange();
a.selection.moveToBookmark(d);a.selectLeft=a.createTextRange();a.selectLeft.collapse(!0);a.selectLeft.setEndPoint("EndToStart",a.selection);d=a.selectLeft.text.length+1;var c=a.selectLeft.text.length+(0==a.selection.text.length?1:a.selection.text.length)}else d=a.selectionStart,c=a.selectionEnd;a.setRangeText?a.setRangeText(b,d,c,"end"):(a.value=a.value.substr(0,d)+b+a.value.substr(d,a.value.length),gx.dom.setCaretPosition(a,d+b.length))},spanValue:function(a){var b=a.nodeValue;gx.lang.emptyObject(b)&&
(b=a.innerText||a.textContent);gx.lang.emptyObject(b)&&(b="");return b},removeControlSafe:function(a){gx.dom.shouldPurge()?(this._avoidLeaksDiv||(this._avoidLeaksDiv=document.createElement("DIV")),this._avoidLeaksDiv.appendChild(a),gx.dom.purge(this._avoidLeaksDiv),this.removeControl(this._avoidLeaksDiv),this._avoidLeaksDiv=null):this.removeControl(a)},removeControl:function(a){if(null==document.createRange)a.removeNode(!0);else{var b=document.createRange();a&&(b.selectNode(a),b.deleteContents())}},
radioToObj:function(a,b){b={s:"",v:[]};if(!a)return b;if(gx.dom.isRadio(a)){b.s=a.value;a=gx.dom.byName(a.name);for(var d=a.length,c=0;c<d;c++){var f=g(a[c]),l=g("label[for='"+a[c].id+"']").first();b.v.push([f.val(),l.text().trim()])}}return b},comboBoxToObj:function(a,b){try{var d={s:"",v:[]};if(!a)return d;if("SELECT"===a.tagName){d.s=a.value;var c=a.options.length;for(b=0;b<c;b++){var f=g(a.options[b]);d.v.push([f.val(),f.text()])}}else if("SPAN"===a.tagName){if(a.hasAttribute(gx.GxObject.GX_DATA_RAW_VALUE_ATTR))return gx.json.evalJSON(a.getAttribute(gx.GxObject.GX_DATA_RAW_VALUE_ATTR));
var l=gx.fn.getControlValue_span(a);d.v.push([b,l]);d.s=b}return d}catch(n){gx.dbg.logEx(n,"gxapi.js","comboBoxToObj")}return null},unitPattern:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc|s|ch|rem|vh|vw|vmin|vmax|q)$/i,addUnits:function(a,b){return""===a||"auto"==a?a:void 0===a?"":"number"!=typeof a&&this.unitPattern.test(a)?a:a+(b||"px")},getScrollbarWidth:function(){var a=document.createElement("div"),b=a.style;b.display="block";b.position="absolute";b.width="100px";b.height="100px";b.left="-999px";b.top=
"-999px";b.overflow="scroll";document.body.insertBefore(a,null);b=a.clientWidth;if(0===b)document.body.removeChild(a);else return document.body.removeChild(a),100-b},getActiveElement:function(a){a=a||document;try{var b=a.activeElement;b&&b.nodeName||(b=a.body)}catch(d){b=a.body}return b},getCaretOffset:function(a){return a&&"INPUT"===a.tagName&&"text"===a.type&&"undefined"!==typeof a.selectionStart?{s:a.selectionStart,e:a.selectionEnd}:{s:0,e:0}},setCaretOffset:function(a,b){a&&"INPUT"==a.tagName&&
"text"==a.type&&a.setSelectionRange&&a.setSelectionRange(b.s,b.e)},write:function(a,b){b=b||document;b.write(a)},writeError:function(a,b,d,c){gx.dbg.write(a);c=c||document;c.head.innerHTML="";c.body.innerHTML=a},MASK_CLASS:"gx-mask",UNMASK_CLASS:"gx-unmask",MASK_RELATIVE_CLASS:"gx-masked-relative",MASK_ZINDEX:2,MASKED_CLASS:"gx-masked",isMaskElement:function(a){return this.hasClass(a,this.MASK_CLASS)},mask:function(a,b){b=b||0;if((a=this.el(a))&&!this.hasClass(a,this.MASK_RELATIVE_CLASS)){var d=gx.util.browser,
c=d.ieVersion(),f=6==c||d.isIE&&d.isCompatMode(),l=!!a.style.setExpression,n=g(a);n.css("caret-color","transparent");n.is("body")&&"static"==this.getComputedStyle(a).position||this.addClass(a,this.MASK_RELATIVE_CLASS);var p=document.createElement("div");p.className=this.MASK_CLASS;p.style.zIndex=this.MASK_ZINDEX;if("TABLE"==a.tagName){var t=g(p);n=g(a);t.width(n.width());t.insertAfter(n);t.parent().addClass(this.MASK_RELATIVE_CLASS)}else a.appendChild(p);try{p.style.animationDelay=b/2+"ms",p.style.webkitAnimation=
b/2+"ms"}catch(v){}this.addClass(a,this.MASKED_CLASS);if(f&&l)try{p.style.setExpression("height","this.parentNode."+(a==document.body?"scrollHeight":"offsetHeight")+' + "px"')}catch(v){}else a=this.getComputedStyle(a).height,d.isIE&&(7!=d.ieVersion||d.isCompatMode())&&"auto"==a&&(p.style.height=a);d.isIE()&&(7>=c||d.isCompatMode())&&(g(p),(d=this.getComputedStyle(p).opacity)&&g(p).css("opacity",d));return p}},unmask:function(a){a=this.el(a);var b;g(a).css("caret-color","");if("TABLE"==a.tagName){var d=
a.nextSibling;d&&"DIV"==d.tagName&&this.hasClass(d,this.MASK_CLASS)&&(b=d)}else{d=0;for(var c=a.childNodes.length;d<c;d++)if("DIV"==a.childNodes[d].tagName&&this.hasClass(a.childNodes[d],this.MASK_CLASS)&&!this.hasClass(a.childNodes[d],this.UNMASK_CLASS)){b=a.childNodes[d];break}}b&&!b.removed?(b.removed=!0,b.style.clearExpression&&(b.style.clearExpression("width"),b.style.clearExpression("height")),this.removeClass(a,this.MASKED_CLASS),d=gx.dom.hasTransition(b)?gx.dom.TRANSITION_END_EVENT:gx.dom.hasAnimation(b)?
gx.dom.ANIMATION_END_EVENT:!1,c=function(){"TABLE"==a.tagName?b.parentNode&&(gx.dom.removeClass(b.parentNode,this.MASK_RELATIVE_CLASS),b.parentNode.removeChild(b)):b.parentNode==a&&a.removeChild(b);gx.dom.removeClass(a,this.MASK_RELATIVE_CLASS)}.closure(this),d?gx.evt.attach(b,d,c,!1,{single:!0,useCapture:!0,timeout:300}):c(),this.addClass(b,this.UNMASK_CLASS)):(this.removeClass(a,this.MASKED_CLASS),this.removeClass(a,this.MASK_RELATIVE_CLASS))},replaceWithFx:function(a,b,d){d=d||{};var c=d.enteringClass||
"entering",f=d.leavingClass||"leaving",l=d.enterDurationClass||"enter-fx-duration",n=d.leaveDurationClass||"leave-fx-duration",p=d.transitioningClass||"transitioning",t=d.transitionTimeout||1500,v=function(I){return 0<I.childNodes.length&&(gx.dom.hasAnimation(I)||gx.dom.hasTransition(I))&&!gx.dom.hasClass(I.parentNode,p)},u=function(I){return gx.dom.hasAnimation(I)?gx.dom.ANIMATION_END_EVENT:gx.dom.hasTransition(I)?gx.dom.TRANSITION_END_EVENT:!1};"BODY"==a.tagName&&(gx.dom.addClass(a,a.className+
"-fx"),a.style.position="static");"BODY"==b.tagName&&gx.dom.addClass(b,b.className+"-fx");var r=a.parentNode,w=v(a),x=v(b),B="BODY"!=a.tagName;if(w||x){v=document.createElement("iframe");var A=document.createElement("div"),D=this.getComputedStyle(a),F=D.width;D=D.height;var G=u(a),k=u(b),m,q,y,z,C,E=0;gx.dom.addClass(r,p);if("BODY"!=a.tagName&&"BODY"!=b.tagName)if(w){v.setAttribute("scrolling","no");v.setAttribute("frameborder","0");v.style.width=gx.dom.addUnits(window.innerWidth);v.style.height=
gx.dom.addUnits(window.innerHeight);v.style.display="none";A.appendChild(v);A.style.width=F;A.style.height=D;A.style.overflow="hidden";gx.spa.dettachContent(a);a.insertBefore(A,a.firstChild);u=v.contentDocument;try{u.open(),u.write(this.getDocTypeDeclaration(document)),u.write("<html>"),u.write("<head></head>"),u.write("<body><div></div></body>"),u.write("</html>"),u.close()}catch(I){gx.dbg.logEx(I,"gxapi.js","replaceWithFx"),A=u.createElement("div"),u.body.appendChild(A)}u.documentElement&&(u.documentElement.className=
"gx-fx-iframe");u.body.style.margin="0";u.body.className=gx.dom.form().className;u.head.appendChild(document.createElement("style"));var J=u.styleSheets[0];A=gx.dom.getCssRules(!0,!0);var H=[];A=A.filter(function(I,K){if(I.includes("@import"))return I;H.push(I)});var L=function(I){I.forEach(function(K){try{J.insertRule(K,J.cssRules.length)}catch(M){gx.dbg.write("Warning: CSS Stylesheet rule not loaded:"+K)}})};L(A);L(H);u.body.firstChild.style.width=F;for(u.body.firstChild.style.height=D;a.childNodes[1];)u.body.firstChild.appendChild(a.childNodes[1]);
v.style.display="block"}else x&&(a.style.display="none");gx.dom.addClass(b,c);gx.dom.addClass(b,l);gx.dom.addClass(a,n);!1!==d.domAdd&&r.appendChild(b);n=function(){y=function(){2===E?(gx.dom.removeClass(r,p),B&&(d.transitionEndCallback&&(b=d.transitionEndCallback(a,b)),!1!==d.domRemove&&a.parentNode==r&&r.removeChild(a)),gx.dom.removeClass(b,l)):B||(d.transitionEndCallback&&(b=d.transitionEndCallback(a,b)),gx.dom.removeClass(b,c),x&&(C=setTimeout(q,t)))};w?(m=function(){clearTimeout(z);E++;d.leavingTransCallback&&
d.leavingTransCallback(a,b);y()},gx.evt.attach(a,G,m,!1,{single:!0,useCapture:!0})):(E++,y());x?(q=function(){2<=E?gx.evt.detach(b,k,q):(clearTimeout(C),E++,d.enteringTransCallback&&d.enteringTransCallback(a,b),y())},gx.evt.attach(b,k,q,!1,{single:!0,useCapture:!0})):(E++,y());gx.lang.requestAnimationFrame(function(){gx.dom.addClass(a,f);B&&(gx.dom.removeClass(b,c),x&&(C=setTimeout(q,t)));w&&(z=setTimeout(m,t))})};d.beforeTransitionStart?!0!==d.beforeTransitionStart(n)&&n():n()}else!1!==d.domRemove&&
r.removeChild(a),!1!==d.domAdd&&(a.parentNode==r?r.replaceChild(b,a):r.appendChild(b)),d.beforeTransitionStart&&d.beforeTransitionStart(),d.leavingTransCallback&&d.leavingTransCallback(a,b),d.enteringTransCallback&&d.enteringTransCallback(a,b),d.transitionEndCallback&&(b=d.transitionEndCallback(a,b))},getDocTypeDeclaration:function(a){a=a||document;a=a.doctype;parts=["!DOCTYPE"];if(!a)return"";parts.push(a.name||"html");a.publicId&&(parts.push("PUBLIC"),parts.push('"'+a.publicId+'"'));a.systemId&&
parts.push('"'+a.systemId+'"');return"<"+parts.join(" ")+">"},createShadowRoot:function(a){a=this.el(a);return a.createShadowRoot?a.createShadowRoot():a.webkitCreateShadowRoot?a.webkitCreateShadowRoot():!1},fixes:function(){var a=/gx-tab-padding-fix-\d+/ig,b=/gx-tab-spacing-fix-\d+/ig,d={},c={},f,l,n,p={center:{marginLeft:"auto",marginRight:"auto",className:"gx-center-align",alignment:"center"},right:{marginLeft:"auto",marginRight:0,className:"gx-right-align",alignment:"right"},left:{marginLeft:0,
marginRight:"auto",className:"gx-left-align",alignment:"left"}};return{resetFixesStyleElement:function(){d={};c={};g("#gx-dom-fixes").empty()},getFixesStyleElement:function(){var t=g("#gx-dom-fixes")[0];if(!t){t=document.createElement("style");t.id="gx-dom-fixes";var v=gx.getThemeElement();g("head")[0].insertBefore(t,v);gx.util.browser.isIE()&&g(v).insertAfter(t)}return t},html5:function(t){var v=gx.util.browser,u=v.isIE(),r=gx.O.DSO?["@layer gx-dom-fixes {"]:[];g("TABLE",t||document.body).each(function(){var x=
g(this);x.attr({align:x.data("align")})});if(!t){if(!n){for(w in p)gx.lang.apply(p[w],{wcClassName:gx.GxObject.WEBCOMPONENT_CLASS_NAME,wcBodyClassName:gx.GxObject.WEBCOMPONENT_BODY_CLASS_NAME,contHolderClassName:"gx-content-placeholder",contHolderBodyClassName:"gx-ct-body",elements:[{el:"p"},{el:"table"},{el:"div"},{el:"fieldset",last:!0}]});n=".{{className}} {text-align:{{alignment}};}{{#elements}}.{{className}} > {{el}},.{{className}} > div.{{contHolderClassName}} > div.{{contHolderBodyClassName}} > {{el}}, .{{className}} > div.{{wcClassName}} > div.{{wcBodyClassName}} > {{el}}{{^last}},{{/last}}{{/elements}}{margin-left:{{marginLeft}};margin-right:{{marginRight}};}";
Mustache.parse(n)}for(w in p)r.push(Mustache.render(n,p[w]));gx.O.DSO&&r.push("}");var w=this.getFixesStyleElement();gx.dom.setStyleElement(w,r.join(""),!0)}(u||v.isOpera())&&g("td[data-align]",t||document.body).each(function(){var x=g(this),B=x.attr("data-align").toLowerCase(),A=p[B].className,D=x.attr("class")||"";D&&(D=" "+D);x.attr("align",B);x.hasClass(A)||x.attr("class",A+D);x.children("div."+p[B].contHolderClassName).children("div."+p[B].contHolderBodyClassName).addClass(A);x.children("div."+
p[B].wcClassName).children("div."+p[B].wcBodyClassName).addClass(A)})},setPopupMinWidth:function(){var t=gx.popup.getPopup();if(t){var v=!0;if(gx.runtimeTemplates){try{v=window.parent.gx.runtimeTemplates}catch(u){}v||(v=this.getPopupMinWidth(),g(document.documentElement).css("min-width",gx.dom.addUnits(v)));g(document.documentElement).addClass("gx-popup-document")}(t.autoresize||void 0===t.autoresize)&&g(document.documentElement).css("height","auto")}},getPopupMinWidth:function(){var t=gx.popup.getPopup(),
v=g(t?t.window:window).width();t=800;1200<=v&&(t=900);768<=v&&992>v&&(t=600);768>v&&(t=v-20);return t},fixTableResets:function(t){var v=[],u=[],r=this.getFixesStyleElement();f||(f="{{#.}}.gx-tab-padding-fix-{{.}}{padding:{{.}}px}{{/.}}",Mustache.parse(f));l||(l="{{#.}}.gx-tab-spacing-fix-{{.}}{border-collapse:separate; border-spacing:{{.}}px}{{/.}}",Mustache.parse(l));g("table[data-cellpadding], table[data-cellspacing]",t||document.body).each(function(){var w=this.getAttribute("data-cellpadding");
void 0!==w&&(d[w]||(d[w]=w,v.push(w)),g("tbody > tr > td, tbody > tr > th, tr > td, tr > th",this).each(function(){this.className="gx-tab-padding-fix-"+w+" "+this.className.replace(a,"").trim()}));var x=this.getAttribute("data-cellspacing");void 0!==x&&(c[x]||(c[x]=x,u.push(x)),this.className="gx-tab-spacing-fix-"+x+" "+this.className.replace(b,"").trim())});t=""+Mustache.render(f,v)+Mustache.render(l,u);0<t.length&&(gx.O.DSO?gx.dom.setStyleElement(r," @layer gx-dom-fixes { "+t+" }",!0):gx.dom.setStyleElement(r,
t,!0))},createLegacyNotification:function(){g("div#gx_ajax_notification").length||g('<div id="gx_ajax_notification" style="display:none;"></div>').appendTo(document.body)}}}(),_deinit:function(){this._form=null;null!=this._avoidLeaksDiv&&(gx.dom.shouldPurge()&&gx.dom.purge(this._avoidLeaksDiv),this._avoidLeaksDiv=null);window&&(window.__objs=null,window.__funs=null,window.__args=null)},element_in_scroll:function(a,b){var d=g(b)[0].offsetTop-g(a)[0].offsetTop-g(a).scrollTop();return a&&g(b)[0]?d<g(a).height():
!1}}}(gx.$);$.extend(gx.dom,gx.dom_i);
gx.evt_i=function(g){return{eachKeyAutorefreshType:function(a){return!gx.lang.isNumericType(a)&&!gx.lang.isDateType(a)},waitGridRefresh:function(a){gx.evt.refreshGridCallback instanceof Array?gx.evt.refreshGridCallback.push(a):a.call()},notifyRefreshGrid:function(){if(gx.evt.refreshGridCallback&&gx.evt.refreshGridCallback instanceof Array){for(;0<gx.evt.refreshGridCallback.length;){var a=gx.evt.refreshGridCallback.pop();"function"==typeof a&&a.call()}gx.evt.refreshGridCallback=void 0}},clearHooks:function(){for(var a=
this.hooks.length,b=0;b<a;b++){var d=this.hooks[b];try{this.detach(d.c,d.e,d.f),d.c=null,d.f=null}catch(c){gx.dbg.logEx(c,"gxapi.js","clearHooks")}this.hooks[b]=null}this.hooks=[]},source:function(a){return a.target||a.currentTarget||a.srcElement},createEvent:function(a,b,d,c){b=void 0===b?!0:b;d=void 0===d?!0:d;c=c||{};if(window.CustomEvent)var f=new CustomEvent(a,{bubbles:b,cancelable:d,detail:c});else f=document.createEvent("CustomEvent"),f.initCustomEvent(a,b,d,c);return f},dispatch:function(a,
b){return a.dispatchEvent?a.dispatchEvent(b):a.fireEvent("on"+b.type,b)},fireEvent:function(a,b){gx.evt.dispatch(a,gx.evt.createEvent(b))},detach:function(a,b,d,c){try{if(c=c||{},"string"==typeof b)a.removeEventListener?a.removeEventListener(b,d,c.useCapture||!1):a.detachEvent?a.detachEvent("on"+b,d):a["on"+b]=null;else if(gx.lang.isArray(b))for(var f=0,l=b.length;f<l;f++)this.detach(a,b[f],d,c)}catch(n){gx.dbg.logEx(n,"gxapi.js","detach")}},stopPropagation:function(a){a&&(a.stopPropagation?a.stopPropagation():
a.cancelBubble=!0)},cancel:function(a,b){if(b&&gx.util.browser.isIE()&&typeof("undefined"!=a.keyCode))try{a.keyCode=0}catch(d){}"undefined"==typeof a.preventDefault?(a.cancelBubble=b,a.returnValue=!b):b&&(a.preventDefault(),a.stopPropagation())},checkCtrlFocus:function(a){try{if(gx.evt.fixWebKitOnFocus()&&"button"==a.type&&gx.fn.isAccepted(a)&&void 0!=a.onfocus)a.onfocus()}catch(b){gx.dbg.logEx(b,"gxapi.js","checkCtrlFocus")}},doClick:function(a,b){if(gx.isInputEnabled()&&(b=gx.evt.source(b),"button"!=
b.type&&"submit"!=b.type&&(a=gx.dom.el(a),gx.fn.isAccepted(a)))){if(void 0!=a.onfocus)a.onfocus();if(void 0!=a.onclick)a.onclick();"INPUT"==a.nodeName&&"submit"==a.type&&gx.dom.form().submit()}},executeOnblur:function(a,b){var d=gx.csv.lastId,c=gx.O.focusControl;gx.O.focusControl=a;this.onblur(b,gx.O.focusControl);gx.O.focusControl=c;gx.csv.lastId=d},onblur:function(a,b){if(gx.O&&!0!==gx.csv.IgnoreBlur){a=gx.fn.controlRowId(a);gx.csv.lastId=b;gx.O.GXLastCtrlId===b&&window.event&&null===window.event.relatedTarget&&
(gx.csv.ExecutingOnBlur=!0,gx.csv.validControls(b,b+1,!0,gx.O),gx.csv.ExecutingOnBlur=!1);try{var d=gx.fn.validStruct(b);d&&null!=d.gxgrid&&d.gxgrid.updateControlValue(d,!1,a);var c=gx.csv.lastControl;if(c){var f=c.getAttribute("maxlength");0<f&&c.value.length>f&&(c.value=c.value.substring(0,f));if(d&&"bits"==d.type&&0==d.ro){var l=gx.fn.getControlGridRef(d.fld,d.gxgrid?d.gxgrid.gridId:"");gx.util.browser.isWebkit()&&0>c.id.indexOf(d.fld)&&(c=l);var n=gx.html.multimediaUpload.getContainer(l);gx.html.multimediaUpload.refreshPreviewImg(n,
c)}}}catch(p){gx.dbg.logEx(p,"gxapi.js","onblur")}}},onfocus:function(){var a=function(){var b=g.Deferred();gx.fx.obs.notify("gx.onbeforefocus",arguments);gx.evt.onfocus_impl.apply(gx.evt,arguments).then(function(){gx.fx.obs.notify("gx.onafterfocus");b.resolve()});return b.promise()};!0===gx.evt.is_button_mouse_event||gx.fx.delayedValidation?gx.fx.obs.addObserver("gx.validation",this,a.closure(this,arguments),{single:!0,async:!0}):a.apply(gx.evt,arguments)},onfocus_impl:function(a,b,d,c,f,l,n){var p=
g.Deferred();f=gx.fn.controlRowIndex(a)||f;try{gx.grid.clearActiveGrid();if(gx.spa.isNavigating())return p.resolve(!1).promise();gx.evt.setReady(!1,"onfocus_impl");if(!gx.fn.checkPopupFocus(a))return gx.evt.setReady(!0,"onfocus_impl"),p.resolve(!1).promise();var t=!1;gx.csv.cmpCtx!=d&&(t=!0,gx.O.fromValid=0);gx.setGxO(d,c);gx.fn.refreshControlOldValue(a);t&&gx.fn.changeCmpContext();gx.fn.initOld(a);try{null!=gx.grid.lastFocusCtrl&&(gx.csv.lastId=gx.grid.lastFocusCtrl,gx.grid.lastFocusCtrl=null)}catch(k){gx.dbg.logEx(k,
"gxapi.js","onfocus")}gx.csv.rowChanged=!1;gx.csv.lastControl=a;0!=l&&""==f||gx.fn.setCurrentGridRow(l,f);gx.fx.installSuggest(a);var v=!1;if(gx.csv.lastGrid!=l){gx.csv.lastRow[l]=null;if(!n){if(gx.csv.lastGrid<l){var u=gx.fn.firstGridControl(l);gx.O.fromValid>u&&(gx.O.fromValid=u)}gx.csv.lastGrid=l}v=!0}0<b&&(gx.O.focusControl=b);if(gx.csv.disableFocus)return gx.csv.disableFocus=!1,gx.evt.setReady(!0,"onfocus_impl"),p.resolve(!0).promise();if(!gx.csv.onloadFocus)try{gx.fx.ctx.notify(a)}catch(k){gx.dbg.logEx(k,
"gxapi.js","onfocus")}try{var r=gx.fn.getControlValue("Mode");if("DLT"==r||"DSP"==r||gx.O.isTransaction()&&gx.dom.isButton(a)&&!gx.evt.isEnterEvtCtrl(a)&&!gx.evt.isCheckEvtCtrl(a)&&!n)return gx.evt.setReady(!0,"onfocus_impl"),p.resolve(!0).promise()}catch(k){gx.dbg.logEx(k,"gxapi.js","onfocus")}if(gx.O.isTransaction()&&a.gxdisabled&&null!=gx.csv.lastControl){cn=gx.fn.getControlIndex(a)+1;if(-1!=cn&&(NextFocus=gx.fn.searchFocusFwd(cn),null!=NextFocus))return gx.fn.setFocus(NextFocus),gx.evt.setReady(!0,
"onfocus_impl"),p.resolve(!0).promise();gx.fn.setFocus(gx.csv.lastControl);gx.evt.setReady(!0,"onfocus_impl");return p.resolve(!0).promise()}if(gx.csv.invalidForcedCtrl){var w=gx.fn.setFocusOnError(gx.csv.invalidForcedCtrl.Ctrl.id);gx.csv.invalidForcedCtrl=null;if(w)return gx.evt.setReady(!0,"onfocus_impl"),p.resolve(!0).promise()}if(null!=gx.csv.invalidControl&&gx.csv.invalidControl!=a&&gx.O.focusControl>=gx.csv.invalidId&&gx.csv.invalidControl==a)return gx.csv.validate(gx.csv.invalidControl,gx.csv.invalidId,
!1,gx.O,f).done(function(k){k&&(gx.csv.invalidControl=null,gx.evt.setReady(!0,"onfocus_impl"));p.resolve(!0)}),p.promise();n?(gx.O.fromValid=gx.fn.firstGridControl(gx.csv.lastGrid),gx.O.toValid=gx.fn.firstCtrlAfterGrid(gx.O.fromValid,gx.csv.lastGrid),gx.O.focusControl=gx.O.toValid):(gx.O.toValid=gx.O.focusControl,gx.O.focusControl<gx.O.fromValid&&(gx.O.fromValid=gx.O.focusControl));void 0==gx.csv.lastRow[l]||gx.csv.lastRow[l]==f||v||gx.O.fromValid!=gx.O.toValid||(gx.csv.lastId=gx.O.fromValid);var x=
gx.fn.controlIds();0<x.length&&gx.O.fromValid<x[0]&&(gx.O.fromValid=x[0]);gx.lang.emptyObject(gx.csv.lastRow[l])&&0!=l&&(gx.csv.rowChanged=!0,gx.csv.lastRow[l]=f);var B=gx.O,A=gx.csv.lastId,D=gx.fn.validStruct(A,B);if(D)var F=gx.csv.lastRow[D.grid];gx.csv.checkRowChange(A,v,B,F).done(function(k){var m=!1,q=!1,y=function(){null==gx.csv.invalidControl&&a===document.activeElement&&("SELECT"===a.nodeName||gx.dom.isTextControl(a)&&a.selectionStart===a.selectionEnd)&&gx.fn.setSelection(a);gx.csv.disableFocusCondition();
p.resolve(!0)};!gx.lang.emptyObject(F)&&!gx.lang.emptyObject(f)&&F.length>f.length&&(m=F.substring(F.length-f.length),m=parseInt(m)<parseInt(f));gx.csv.backwardGridValidation&&(!gx.lang.emptyObject(F)&&!gx.lang.emptyObject(f)&&F.length==f.length&&parseInt(F)>parseInt(f)&&(q=B.focusControl>gx.fn.firstGridControl(l)),!gx.lang.emptyObject(F)&&!gx.lang.emptyObject(f)&&F.length==f.length&&parseInt(F)<parseInt(f)&&(q=B.focusControl<A&&B.focusControl>gx.fn.firstGridControl(l)));k&&null==gx.csv.invalidControl&&
q?(B.fromValid=gx.fn.firstGridControl(l),gx.csv.validControls(B.fromValid,B.focusControl,!0,gx.O)):k&&!v||!(B.focusControl>=A||m)?(B.toValid=B.focusControl,y()):(gx.fn.lastMainLevelCtrlId(A,l)&&(k=gx.fn.getControlRefById(A))&&1===k.getAttribute(gx.csv.GX_VALID_ATTRIBUTE)&&(B.fromValid=A+1),gx.csv.validateAll(B).done(y))});if(l&&f){var G=gx.O.getGridById(l,f);G&&G.allowSelection&&G.setSelection(parseInt(f,10)-1)}gx.evt.setReady(!0,"onfocus_impl");return p.promise()}catch(k){gx.dbg.logEx(k,"gxapi.js",
"onfocus")}gx.evt.setReady(!0,"onfocus_impl");return p.resolve(!1).promise()},userOnload:function(){try{"function"==typeof window.GXOnloadUsr&&GXOnloadUsr()}catch(a){gx.dbg.logEx(a,"gxapi.js","userOnload")}},onload:function(){gx.objectLoad().done(function(){gx.spa.start({listeners:{onnavigatestart:function(){gx.dom.addClass(document.body,"gx-spa-navigating")},onnavigate:function(){gx.dom.removeClass(document.body,"gx-spa-navigating")},onbeforesend:function(a,b,d){gx.pO.MasterPage&&a.req.setRequestHeader(d,
gx.pO.MasterPage.ServerClass)},onbeforeprocessresponse:function(a,b,d,c,f,l){gx.reinit(!l)},oncontentreplace:function(a,b,d,c,f,l,n,p){a=gx.lang.getType(c);l=(l=l==n?l:n)?gx.lang.getType(l.toLowerCase()):!1;var t=gx.ajax.getJsonResponse();t&&gx.fn.setJsonHiddens(null,t.gxHiddens,!1);a.prototype=new gx.GxObject;gx.setParentObj(new a);p?gx.setMasterPage(f):l&&gx.setMasterPage(new l);gx.ajax.clearJsonResponse();t?gx.ajax.setJsonResponse({response:t,isPostBack:!1,afterCmpLoaded:function(){p&&(f.restoreTargetComponents(),
f.restoreExoEventHandlers());gx.objectLoad(t.gxGrids,t.gxHiddens).done(function(){gx.pO.SetStandaloneVars()})},gxObject:gx.O}):gx.objectLoad()}}});gx.livePrevWS._init()})},onunload:function(a){gx.objectUnload(a);gx.spa.stop()},onclick:function(a){var b={event:a};gx.fx.obs.notify("gx.onclick",[b]);b.cancel||(gx.evt.setReady(!1,"onclick"),gx.isInputEnabled(a)||gx.evt.cancel(a,!0),gx.evt.mouse.update(a),setTimeout(function(){gx.fx.ctx.notify()},10),gx.evt.setReady(!0,"onclick"))},ontouchstart:function(a){a=
gx.evt.onmousedown.closure(this,[a]);gx.dom.documentScrollable().x||gx.dom.documentScrollable().y?gx.evt.touchTimer=window.setTimeout(a,150):a()},onmousedown:function(a){var b=window.event||a,d=gx.evt.source(b);if(d&&8>=gx.util.browser.ieVersion()&&g(d).is("shape"))return!1;gx.evt.is_button_mouse_event=gx.dom.isButtonLike(d);gx.evt.mouse.update(a);a=gx.fx.dnd;a.deleteClonControl();d=a.getSource(b);gx.dom.isMaskElement(b.target)||null==d||(gx.evt.cancel(b,!0),gx.setGxO(d.obj),a.drag(d.obj,d.types,
d.hdl))},onmousemove:function(a){gx.evt.mouse.update(a);var b=gx.fx.dnd;gx.util.browser.isIE();if(gx.popup.ispopup()&&gx.popup.ext.compatMode()){var d=gx.popup.ext;d.movepopup();if(null!=d.currIDb||null!=d.currRS)return!1}null!=b.obj&&(a=window.event||a,gx.evt.cancel(a,!0),null!=gx.fx.dnd.getTarget(a,b.obj.gxDragTypes)&&b.over(),b.moveControl(b.dragCtrl))},onmouseup:function(a){window.clearTimeout(gx.evt.touchTimer);gx.evt.is_button_mouse_event=!1;gx.evt.mouse.update(a);var b=gx.fx.dnd;if(null!=b.dragCtrl){var d=
window.event||a;d=b.getTarget(d,b.obj.gxDragTypes);null!=d?(b.deleteClonControl(),gx.setGxO(d.obj),b.drop(b.dropCtrl,d.obj,d.hdl)):b.restoreControl();d=window.event||a;gx.evt.cancel(d,!0)}b.out();b.dragCtrl=null;b.obj=null;gx.popup.ispopup()&&(gx.popup.ext.currRS=null)},ondblclick:function(a){gx.evt.mouse.update(a);var b=window.event||a;!gx.util.browser.isOldIE()&&gx.fx.dom.delayedDispatch(a)||gx.fx.dom.raiseEvent("dblclick",b)},onwindowblur:function(a){gx.fx.dnd.deleteClonControl()},checkMaxLength:function(a,
b,d){d=window.event||d;var c=gx.util.browser.isIE(),f=d.keyCode;if(c){if("keydown"==d.type&&229==f)return a.value.length<=b?a.ImeKey=!0:!1;if("keyup"==d.type&&8==f&&a.ImeKey&&a.value.length+1>=b)return a.value=a.value.substring(0,a.value.length-1),a.ImeKey=!1,!0}if("keyup"==d.type||c)return a.value.length+1<=b||8==f||9==f||46==f||35<=f&&40>=f},fireControlValueChange:function(a,b,d){var c=g.Deferred();if(!a||!b)return c.resolve();c=a.getValidStructFld(b);if(c&&c.evt_cvc){var f=gx.evt.startValidation(c.gxgrid);
gx.evt.stopPropagation(d);if(c.grid){gx.evt.setEventRow(a,b);var l=gx.fn.controlRowIndex(b)}gx.fn.disableKeys();return a[c.evt_cvc].call(a,l).always(function(){gx.evt.endValidation(f,gx.evt.types.VALUECHANGED);gx.fn.enableKeys()})}return g.Deferred().resolve()},fireControlValueChanging:function(a){var b=gx.fn.getControlContext(a)||gx.O,d=g.Deferred();if(!b||!a)return d.resolve();var c=b.getValidStructFld(a);if(c){var f=c.gxgrid&&c.gxgrid.isFreestyle,l=c.evt_cvcing&&!c.gxsgprm;if(l)var n=gx.evt.startValidation(c.gxgrid);
if(l||f)f=gx.O,gx.setGxO(b),"function"==typeof c.c2v&&c.c2v(),gx.fn.call_v2bc(c,b),gx.setGxO(f);if(l)return c.grid&&gx.evt.setEventRow(b,a),b[c.evt_cvcing].call(b).always(function(){gx.evt.endValidation(n,gx.evt.types.VALUECHANGING)})}return d.resolve()},oncontrolvaluechanging:function(a){var b=a.keyCode;8!=b&&32>b||33<=b&&46>b||112<=b&&123>=b&&121!=b||(a=gx.evt.source(a))&&gx.evt.fireControlValueChanging(a)},oncontrolpasting:function(a){(a=gx.evt.source(a))&&gx.lang.doCallTimeout(gx.evt.fireControlValueChanging,
gx.evt,[a],0)},onkeypress:function(a,b,d){if(a=a||window.event){var c=13===a.keyCode;27===a.keyCode&&gx.evt.shouldIgnoreEscKey()&&gx.evt.cancel(a,!0);var f=gx.fn,l=gx.util.browser;b={event:a,hasEnter:b,skipOnEnter:d,cancel:!1};if(27===a.keyCode&&gx.popup.ispopup())f.cancelWindow();else if(gx.fx.obs.notify("gx.keypress",[b]),!b.cancel){c&&!gx.isInputEnabled()&&this.cancel(a,!0);if(!gx.O||gx.O.isTransaction()&&"DSP"==gx.O.Gx_mode&&this.invalidDSPKey(a))return this.cancel(a,!0),!1;this.lastKey=a.keyCode;
this.shiftPressed=a.shiftKey;var n=a.ctrlKey;b=gx.evt.source(a)||gx.dom.getActiveElement()||gx.csv.lastControl;gx.evt.validKeypressForCtrl(b,a)||this.cancel(a,!0);9!==a.keyCode&&gx.csv.invalidateCtrl(b,a);if(!(this.isEnterEvtCtrl(b)&&this.isTriggerKey(a)&&this.cancelAndRefresh(a))&&(this.checkFuncKey(a,b),(32==a.charCode||32==a.keyCode||c&&!d)&&gx.dom.hasClass(b,"gx_newrow")&&g(b).find("span").trigger("click"),c&&d||!gx.grid.handleKeyPressEvt(a)))switch(a.keyCode){case 13:c=this.triggersEvt(b),d?
f.enterHasFocus()||this.shiftPressed&&"TEXTAREA"===b.nodeName||(n&&"TEXTAREA"===b.nodeName?(gx.dom.replaceAtCaretPosition(b,"\n"),this.cancel(a,!0)):(l.isIE()&&"file"!=b.type?(gx.evt.isEnterEvtCtrl(b)&&gx.O.executeEnterEvent(a,b),this.lastKey=9,a.keyCode=this.lastKey,this.cancel(a,!0),f.skipFocus(d,b)):(b.value&&l.isIE()&&"SELECT"!=b.tagName&&(l=b.value,b.value="",b.value=l),f.skipFocus(d),this.cancel(a,!0)),this.enter=!1)):c||gx.O.executeEnterEvent(a,b)}}}},onkeyup:function(a){var b=window.event?
window.event:a;a=gx.evt.source(b);var d=a.getAttribute("maxlength")||(a.getAttribute("max")?a.getAttribute("max").length:0),c="undefined"==typeof a.value?"":a.value;gx.evt.isComposing&&!b.isComposing&&gx.fx.obs.notify("gx.endcomposing");gx.evt.isComposing=b.isComposing;if(""==a.type&&9==b.keyCode||this.autoSkip&&""!=a.type&&!this.isControlKey(this.lastKey)&&c.length>=d&&0<d){if(!this.skipPromptCtrl)return;if(gx.dom.isTextWithLink(a)||gx.dom.isImageWithLink(a)){if(d=a.id||("A"==a.tagName&&a.parentNode?
a.parentNode.id:""))d=gx.O.getValidStructId(d),gx.evt.onfocus(a,d,"",!1,"",0);return}a=a.getAttribute("gxfocusable");if(null!=a&&"1"==a)return;a=gx.fn.getControlIndex(gx.csv.invalidControl?gx.csv.invalidControl:gx.csv.lastControl);if(-1==a)return!0;var f=gx.fn.searchFocus(this.shiftPressed?a-1:a+1,!this.shiftPressed);a=f.value;gx.fn.setFocus(f);gx.lang.doCallTimeout(function(l){b.isComposing&&(f.value=l)},this,[a],50)}gx.grid.handleKeyUpEvt(b)},shouldIgnoreEscKey:function(){var a=gx.popup.getPopup();
return gx.evt.processing||a&&"opening"==a.state},validKeypressForCtrl:function(a,b){if(!a||"text"!==a.type&&"number"!==a.type)return!0;var d=gx.O.getValidStructFld(a);if(d){var c=gx.rtPicture(d,a),f=gx.numericLenDec(c),l=f.Decimals;f=f.Integers;var n=d.type;d=a.value;if("int"==n||"decimal"==n){if("e"===b.key)return!1;a:{try{if(null!==a.selectionStart&&void 0!==a.selectionStart){var p=a.selectionEnd-a.selectionStart;break a}else if(window.getSelection){p=window.getSelection().toString().length;break a}}catch(t){}p=
void 0}if(void 0===p)return!0;if(gx.util.browser.isFirefox()&&"number"==a.type&&0===l)!a.gxoninput&&a.max&&a.min&&(a.gxoninput=!0,gx.evt.attach(a,"input",function(t){if(t.max&&t.min){var v=Number(t.value);if(v>t.max||v<t.min)t.value=t.value.substr(0,t.max.length)}}.closure(this,[a])));else{if(1<b.key.length)return!0;if(/[^\+\-\.,]/.test(b.key)&&/\D/.test(b.key)&&!b.ctrlKey&&isNaN(Number(b.key)))return!1;a=document.getSelection().toString();if(b.key===gx.thousandSeparator)return!0;if(b.key===gx.decimalPoint)return 0<
a.length&&gx.text.contains(a,b.key)?!0:!gx.text.contains(d,b.key);if(/[\+\-]/.test(b.key))return!gx.text.contains(d,b.key)||gx.text.contains(a,b.key);b=d.split("").filter(function(t){return"0"<=t&&"9">=t}).length;d=gx.num.normalize_decimal_sep(c,gx.thousandSeparator,gx.decimalPoint,d);c=f+(-1==d.indexOf(gx.decimalPoint)?0:l);return b-p<c}}}return!0},setEventRow:function(a,b){var d=gx.fn.rowGridId(b),c=d&&(gx.fn.controlRowId(b)||gx.fn.currentGridRowImpl(d)||"0001");d&&c&&(void 0!=b.gxGridName&&gx.fn.setHidden(a.CmpContext+
b.gxGridName.toUpperCase()+"_ROW",c),gx.evt.setCurrentGridRows(d,c));gx.csv.lastEvtRow=c},ctrlOnchange:function(a,b,d,c,f){gx.csv.pkDirty=d;"UPD"==a.value?"1"==b.value?(d?null!=c&&(c.value=gx.getMessage("GXM_captionadd")):null!=c&&(c.value=gx.getMessage("GXM_captionupdate")),b.value="0"):d&&null!=c&&(c.value=gx.getMessage("GXM_captionadd")):"INS"==a.value&&"1"==b.value&&(null!=c&&(c.value=gx.getMessage("GXM_captionadd")),b.value="0")},onchange:function(){var a=function(){return gx.evt.onchange_impl.apply(gx.evt,
arguments)};gx.fx.delayedValidation?gx.fx.obs.addObserver("gx.validation",this,a.closure(this,arguments),{single:!0,async:!0}):a.apply(gx.evt,arguments)},onchange_impl:function(a,b,d){if(gx.evt.fixWebKitOnFocus()&&"radio"===a.type)a.onfocus();var c=gx.fn.getControlContext(a)||gx.O,f=c.getValidStructFld(a),l=f&&f.hasRVFmt,n=g.Deferred();if(a.GXFormatError&&!l)n.resolve();else{gx.evt.setReady(!1,"onchange_impl");gx.evt.lastControl=a;l=gx.fn.getControlValue("radio"==a.type?a.name:gx.dom.id(a));var p=
!1,t=gx.O.focusControl,v=function(){delete gx.fx.delayedValidation;gx.evt.setReady(!0,"onchange_impl");var x=gx.util.browser.isWebkit()&&("radio"==a.type||"checkbox"==a.type||"file"==a.type),B="radio"==a.type||"checkbox"==a.type;p&&f&&(gx.fn.lastMainLevelCtrlId(t,f.grid)||f.gxsgprm)&&(B=x=!0);d&&(B=!1);if(x&&a.onblur)a.onblur();x=function(){gx.evt.execUsrOnchange(a);gx.fx.obs.notify("gx.validation");n.resolve()};!B||"undefined"!=typeof a.GXFormatError&&0!=a.GXFormatError?x():gx.csv.validControls(t,
t+1,!0,c).then(x)};if(gx.csv.controlValueHasChanged(a,l,f)){p=!0;gx.fn.setControlValue("IsModified","1");gx.fn.setControlValue("IsConfirmed","0");gx.csv.invalidateGXCtrl(a);var u=!0;if(f){var r=f.grid?gx.fn.controlRowIndex(a):void 0;"function"==typeof f.c2v&&f.c2v(r);gx.fn.call_v2bc(f,c,r)}d||gx.fn.setControlOldValue(a,l);var w=function(){var x=g.Deferred();if("select-one"==a.type||"checkbox"==a.type||"radio"==a.type){u=!1;gx.evt.setReady(!1,"validationCallback");var B=f?gx.fn.currentGridRowImpl(f.grid):
null;gx.csv.validate(a,f.id||t,!0,c,B).done(function(A){A&&gx.csv.invalidControl==a&&(gx.csv.invalidControl=null);gx.evt.execOnchange(a,A);gx.evt.setReady(!0,"validationCallback");x.resolve()}).fail(function(){gx.evt.setReady(!0,"validationCallback");x.resolve()})}u&&(gx.evt.execOnchange(a,!1),x.resolve());return x.promise()};l=function(){w.call(this).then(v.closure(this))}.closure(this);gx.evt.fireControlValueChange(c,a,b).always(l)}else v.call(this);return n.promise()}},execOnchange:function(a,
b,d){var c="";if(a.attributes["data-gxoch1"])try{c+=a.attributes["data-gxoch1"].value+";"}catch(f){gx.dbg.logEx(f,"gxapi.js","execOnchange")}if(gx.fn.isAccepted(a)&&a.attributes["data-gxoch2"])try{c+=a.attributes["data-gxoch2"].value+";"}catch(f){gx.dbg.logEx(f,"gxapi.js","execOnchange")}try{""!=c&&eval(c)}catch(f){gx.dbg.logEx(f,"gxapi.js","execOnchange")}b||gx.fn.setControlGxValid(a,"0");d||(a.setAttribute("gxctrlchanged","1"),gx.fn.setControlValue("IsModified","1"));!0!==d&&gx.fn.setControlValue("IsConfirmed",
"0")},execUsrOnchange:function(a){var b="";if(!gx.dom.hasAttribute(a,"data-gxoch0"))return!0;try{b=a.attributes["data-gxoch0"].value}catch(d){return!0}return(new Function(b)).call(a)},jsEvent:function(a){if(!gx.isInputEnabled())return!1;a=a.getAttribute?a.getAttribute("data-jsevent")||a.getAttribute("jsevent"):a.jsevent;return gx.lang.emptyObject(a)?!0:eval(a)},isEnterEvtCtrl:function(a){if(gx.O.EnterCtrl){var b=gx.dom.id(a);b||"A"!=a.tagName||(b=a.parentNode.id);b&&0==b.indexOf("span_")&&(b=b.substring(5));
if(!b)return!1;var d=gx.O.EnterCtrl;a=gx.fn.rowGridId(a);for(var c=0,f=d.length;c<f;c++){var l=gx.csv.ctxControlId(d[c]);if(a&&-1!=b.search(new RegExp(".*"+l+"_[0-9]{4}$"))||l==b)return!0}}return!1},isCheckEvtCtrl:function(a){if(!gx.lang.emptyObject(gx.O.CheckCtrl)){a=gx.dom.id(a);for(var b in gx.O.CheckCtrl)if(gx.O.CheckCtrl[b]==a||gx.O.CmpContext+gx.O.CheckCtrl[b]==a)return!0}return!1},isTriggerKey:function(a){for(var b=this.triggerKeys.length,d=0;d<b;d++)if(a.keyCode==this.triggerKeys[d]||a.charCode==
this.triggerKeys[d])return!0;return!1},isControlKey:function(a){for(var b=this.controlKeys.length,d=0;d<b;d++)if(a==this.controlKeys[d])return!0;return!1},invalidDSPKey:function(a){var b=a.keyCode-111;a.shiftKey&&(b+=12);return this.keyListeners[b]&&"ENTER"==this.keyListeners[b][gx.O.CmpContext]||13==a.keyCode?!0:!1},addKeyListener:function(a,b,d){1==b&&(document.body.onhelp=gx.falseFn);void 0==this.keyListeners[b]&&(this.keyListeners[b]=[]);this.keyListeners[b][a]=d},setEvtName:function(a,b){gx.fn.setHidden("_EventName",
a)},cancelAndRefresh:function(a){var b=gx.O;if(b&&b.conditionsChanged){this.cancel(a,!0);b.autoRefresh||this.resetGridsPagingVarsIfConditionsChanged(b.Grids||[]);if(b.autoRefresh||b.hasEnterEvent||b.anyGridBaseTable)b.executeServerEvent("RFR",!1);else return!1;return!0}return!1},resetGridsPagingVarsIfConditionsChanged:function(a){var b=!1;g.each(a,function(d,c){c.conditionsChanged&&c.conditionsChanged()&&(c.setPagingVars(0,0),b=!0)});return b},setGridEvt:function(a,b,d){d=d||gx.O;if(gx.isInputEnabled()&&
!gx.lang.emptyObject(a)){if(gx.lang.emptyObject(b)){var c=gx.fn.getGridObj(a);c&&(b=gx.fn.getHidden(d.CmpContext+c.gridName.toUpperCase()+"_ROW"))}gx.fn.setHidden("_EventGridId",a);gx.fn.setHidden("_EventRowId",b);b&&gx.fn.setCurrentGridRow(a,b)}},checkFuncKey:function(a,b){var d=this.lastKey-111;a.shiftKey&&(d+=12);if(0<d&&24>=d&&void 0!=this.keyListeners[d]){var c=this.keyListeners[d][gx.O.CmpContext];if("undefined"!=typeof c)this.execFnKeyEvt(a,gx.O,c,b);else for(var f in this.keyListeners[d])if(c=
this.keyListeners[d][f],"undefined"!=typeof c){var l=gx.getObj(f,!1);if(null!=l){this.execFnKeyEvt(a,l,c,b);break}}}},execFnKeyEvt:function(a,b,d,c){if(!gx.evt.processing&&!gx.spa.isNavigating())if(this.cancel(a,!0),"PROMPT"==d){if((a=b.getValidStructFld(c))&&a.attachedCtrls){d=a.attachedCtrls;for(var f=0,l=d.length;f<l;f++)if((c=d[f])&&c.info&&c.info.isPrompt){var n=d[f].id;"function"==typeof b.promptKeyHandlers[n]&&(c=0<a.grid?"_"+gx.fn.currentGridRowImpl(a.grid):"",c=gx.dom.el(b.CmpContext+n+c),
b.promptKeyHandlers[n].call(b,c))}}}else b.isTransaction()&&"SELECT"==d?(b=gx.dom.byId(b.CmpContext+"BTN_SELECT"))&&"function"==typeof b.click&&b.click():b.executeEvent(d,!1)},keyModifiesValue:function(a){a=window.event?a.keyCode:a.which;return 32<=a&&127>=a||229==a?!0:!1},triggersEvt:function(a){if(!gx.lang.emptyObject(a)){if(a==gx.evt.dummyCtrl)return!0;var b=gx.config.evt.triggersEvtNodes||{};if("A"===a.nodeName||"TEXTAREA"===a.nodeName||b[a.nodeName])return!0;if("INPUT"===a.nodeName){if("button"===
a.type||"image"===a.type)return!0}else if("IMG"===a.tagName&&gx.dom.hasAttribute(a,gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR))return!0}return!1},setProcessing:function(a){var b=a.status;a=a.cond;"undefined"!=typeof a&&!a||gx.evt.redirecting||(gx.evt.processing=b,gx.dbg.enabled&&(console.groupCollapsed("setProcessing ${ctx} ${gx.evt.processing}"),console.trace(),console.groupEnd()),gx.evt.setReady(!gx.evt.processing,"setProcessing"),gx.evt.processing||gx.fx.obs.notify("gx.endprocessing"))},doAfterProcessing:function(a,
b){gx.evt.processing?gx.fx.obs.addObserver("gx.endprocessing",b,a,{single:!0}):a.call(b)},doAfterComposing:function(a,b){gx.evt.isComposing?gx.fx.obs.addObserver("gx.endcomposing",b,a,{single:!0}):a.call(b)},doAfterValidating:function(a,b){gx.csv.isvalidating()?gx.fx.obs.addObserver("gx.onaftervalidatecompleted",b,a,{single:!0}):a.call(b)},startValidation:function(a,b){if(a||b)gx.csv.validatingGrid=a,gx.csv.validating+=1;return{gxgrid:a,force:b}},endValidation:function(a,b){if(a.gxgrid||a.force)--gx.csv.validating,
0===gx.csv.validating&&(gx.csv.validatingGrid=null,gx.fx.obs.notify("gx.onaftervalidatecompleted")),0>gx.csv.validating&&gx.dbg.logMsg("WARNING! endValidation unexpected condition (gx.csv.validating < 0)"),gx.fx.obs.notify("gx.onaftervalidate",[b])},userReadyThresholdWait:function(){gx.evt.userReadyTStamp||(gx.evt.userReadyTStamp=Date.now());return Date.now()>gx.evt.userReadyTStamp+gx.evt.userReadyThreshold},setReady:function(a,b){gx.evt.userReadyCnt+=a?-1:1;gx.evt.userReadyCnt=0>gx.evt.userReadyCnt?
0:gx.evt.userReadyCnt;0==gx.evt.userReadyCnt?(gx.evt._userReady=!0,gx.evt.userReadyTStamp=Date.now()):gx.evt._userReady=!1;isNaN(gx.evt.userReadyCnt)&&(gx.evt.userReadyCnt=0);gx.dbg.enabled&&(console.groupCollapsed("setReady ${Context} ${gx.evt.userReadyCnt}"),console.trace(),console.groupEnd())},EVT_ROW_ID_REGEXP:/\.(([0-9]{4})+)$/,setCurrentGridRows:function(a,b){for(;0<a&&b&&b.length&&4<=b.length;){var d=b.substr(0,4),c=b.substr(4);gx.fn.setCurrentGridRow(a,d);if(a=gx.O.getGridById(a,c))a=a.parentGrid;
a=a?a.gridId:0;b=b.substr(4,b.length)}},canExecuteEvent:function(a,b){return!(!b&&(gx.spa.isNavigating()||gx.evt.redirecting||!gx.csv.isvalidating()&&(gx.lang.emptyObject(a)||gx.evt.processing)))},execEvt:function(a,b,d,c,f,l,n,p,t,v,u,r){gx.dbg.logPerf("execEvt");gx.text.contains(d,"EENTER")&&gx.ajax.saveFormForAutoComplete();if(this.canExecuteEvent(d,v)){var w=gx.getObj(a,b),x=f,B=(a=this.EVT_ROW_ID_REGEXP.exec(d))&&1<a.length?a[1]:null;a&&2<a.length&&gx.evt.setCurrentGridRows(x,B);B||(B=gx.fn.currentGridRowImpl(x));
a=function(){gx.fx.obs.notify("gx.validation",null,function(){if(!v&&w&&w.inputHasFormatErrors(d,f,B))u&&u.call();else{n&&(gx.evt.srvCommand=!0,c&&(x=gx.fn.rowGridId(c),B=gx.fn.controlRowId(c),gx.lang.emptyObject(x)||gx.lang.emptyObject(B)||(gx.csv.lastGrid=x,gx.fn.setCurrentGridRow(x,B))));if(0<gx.csv.lastId&&!gx.csv.validatingAll){var A=w.getValidStruct(gx.csv.lastId);if((gx.evt.isEnterEvtCtrl(c)&&0<c.id?w.getValidStructId(c.id):w.focusControl)<gx.csv.lastId&&(gx.evt.isEnterEvtCtrl(c)||A&&A.isuc)||
r)gx.csv.validatingAll=!0,w.fromValid=gx.csv.lastId,w.toValid=gx.csv.lastId+1,gx.csv.validateAll(),gx.csv.validatingAll=!1}this.setEvtName(d,c);this.lastEvent=d;if(!n&&(gx.grid.drawAtServer||c&&"INPUT"==c.nodeName&&"submit"==c.type))this.execEvtSubmit(d,c);else{gx.evt.setProcessing({status:!0,ctx:"notifyValidation"});var D=function(){gx.evt.setProcessing({status:!1,ctx:"notifyValidation"})};A=function(){gx.ajax.doPost((gx.http.useNamedParameters(gx.ajax.selfUrl())?"gxevent=":"")+gx.ajax.encryptParms(gx.pO,
"gxajaxEvt"),l,!0,f,B,t,w,d);D()};gx.pO.supportAjaxEvents?gx.evt.dispatcher.dispatch(d,w,x,B,!0,void 0,p).done(function(F){F||u&&u.call();t&&t(F);D()}).fail(A):gx.evt.execNonFullAjaxEvent(A)}}}.closure(this))};gx.evt.fixWebKitOnFocus()&&gx.dom.isButtonLike(c)&&c!=gx.csv.lastControl&&void 0!=c.onfocus?(gx.fx.obs.addObserver("gx.onafterfocus",this,a,{single:!0}),c.onfocus()):a.call(this)}else u&&u.call()},execEvtSubmit:function(a,b){if(gx.isInputEnabled()){gx.evt.setProcessing({status:!0,ctx:"execEvtSubmit"});
gx.O.startFeedback();gx.fx.obs.notify("gx.onbeforeevent",[a,b]);gx.fn.objectOnpost();gx.http.saveState();gx.fn.forceEnableControls(!1);a=gx.dom.form();var d=gx.popup.getPopup();if(null!=d&&(b=a.action,d=d.window.gx.popup.lvl,-1!=d)){var c=gx.http.urlParameterPrefix(b);c+=encodeURIComponent("gxPopupLevel="+d+";");a.action=b+c}a.submit()}},execCliEvt:function(a,b,d,c,f,l){var n=g.Deferred();if(!this.canExecuteEvent(!0,!1))return n.reject();gx.fx.obs.notify("gx.validation");l=void 0!=l?l:[];var p=gx.getObj(a,
b);if(null!=p){gx.setGxO(a,b);if("string"==typeof c&&""!=c&&4<arguments.length){var t=p.getGrid(c);t.instanciateRow(f);t=t.gridId}if(p.inputHasFormatErrors(p.getServerEventName(d),t,f))return n.reject();var v=p.isServerEvent(d);gx.evt.setProcessing({status:!0,cond:!v,ctx:"execCliEvt"});p.execC2VFunctions();var u=function(){gx.popup.waitCallback(function(){gx.evt.setProcessing({status:!1,cond:!v,ctx:"execCliEvt"})});p.conditionsChanged?p.executeServerEvent("RFR",!0):gx.fx.obs.notify("gx.onafterevent",
[]);n.resolve()},r=function(){p[d](l);u();gx.fx.obs.notify("gx.afterNonFullajax")};gx.pO.supportAjaxEvents?gx.evt.dispatcher.dispatch(p.getServerEventName(d),p,t,f,!1,l).done(u).fail(r):gx.evt.execNonFullAjaxEvent(r);return n.promise()}return n.reject()},execNonFullAjaxEvent:function(a){gx.evt.NonFullAjaxserialRunner=gx.evt.NonFullAjaxserialRunner||gx.evt.serialRunner();gx.fx.obs.addObserver("gx.afterNonFullajax",gx.evt,function(){gx.evt.NonFullAjaxserialRunner.signalEndTask()},{single:!0});gx.evt.NonFullAjaxserialRunner.addTask(a)},
fixWebKitOnFocus:function(){var a=gx.util.browser;return a.isWebkit()&&!a.isChrome()||a.isChrome()&&30>a.chromeVersion()?!0:!1},dispatcherTimeout:30,dispatcher:function(){var a=function(b,d){d=[];var c,f={};for(c=0;c<b.length;c++){var l=b[c];f[l.eventName]||(f[l.eventName]=[]);f[l.eventName].push(l.deferred);0!==d.length&&l.eventName===d[d.length-1].eventName||d.push(l)}for(c=0;c<d.length;c++){l=d[c];var n=f[l.eventName];for(b=0;b<n.length;b++)l.deferred!==n[b]&&l.deferred.done(function(){this.resolve.apply(this,
arguments)}.closure(n[b]))}return d};return{dispatchedEvents:{},serialRunner:gx.evt.serialRunner(),getContextKey:function(b,d,c,f){return f+(b.CmpContext+b.ServerClass)+(d||"")+(c||"")},getEventParmsMetadata:function(b,d,c){return d.EvtParms[b]["input"==c?0:1]},eventDepends:function(b,d,c){d=this.getEventParmsMetadata(d,c,"output");b=this.getEventParmsMetadata(b,c,"input");for(var f,l=0,n=d.length;l<n;l++){c=gx.ajax.resolveParmKey(d[l]);for(var p=0,t=b.length;p<t;p++)if(f=gx.ajax.resolveParmKey(b[p]),
c==f)return!0}return!1},initialize:function(){this.t&&clearTimeout(this.t);this.serialRunner=gx.evt.serialRunner();this.dispatchedEvents={}},beforeDispatch:function(b){var d=gx.ajax.getSecurityToken(b);d&&(b.InternalParms[d.id]=d.value)},types:{event:"event",validation:"validation"},dispatch:function(b,d,c,f,l,n,p,t){t=t||gx.evt.dispatcher.types.event;l=void 0===l||l;var v=g.Deferred();if("object"===typeof b){var u=b.fn;b=b.eventName}d.cleanEventName(b);d.getClientEventName(b);if(t===gx.evt.dispatcher.types.validation){var r=
b.toUpperCase();var w=b}else r=d.cleanEventName(b),w=d.getClientEventName(b);this.beforeDispatch(d);if(!d.EvtParms[r])return v.reject(),v.promise();b=this.getContextKey(d,c,f,t);var x=this.dispatchedEvents[b];l={eventName:r,clientSideEventName:w,clientSideFunction:l?null:(u||d[w]).closure(d,n||[]),serverSide:l,deferred:v,arguments:n,disableForm:p};x?x.events.push(l):(x={gxO:d,grid:c,row:f,type:t,events:[l]},this.dispatchedEvents[b]=x,this.t=setTimeout(this.serialRunner.addTask.closure(this.serialRunner,
[this.dispatchTimeoutCallback.closure(this,[b])]),gx.evt.dispatcherTimeout));return v.promise()},dispatchTimeoutCallback:function(b){var d=this.dispatchedEvents[b],c=d.type,f=d.gxO,l=d.grid,n=d.row,p=[],t=[],v=[],u={};delete this.dispatchedEvents[b];if(c!==gx.evt.dispatcher.types.validation){b=0;for(var r=d.events.length;b<r;b++){var w=d.events[b];if(w.serverSide)t.push(w);else{var x=!0;for(var B=0;B<b;B++)if(this.eventDepends(w.eventName,d.events[B].eventName,f)){x=!1;break}x?p.push(w):t.push(w)}}}else t=
d.events;d=a(p,c).concat(a(t,c));p=!1;b=0;for(r=d.length;b<r;b++){t=d[b].eventName;u[t]||(u[t]=[]);u[t].push(d[b].deferred);if(p&&d[b].serverSide)A.addMethod(t);else{var A=this.createMessage(c,t,f,l,n,d[b].serverSide,d[b].disableForm);d[b].serverSide||(A.callback=d[b].clientSideFunction);v.push(A)}p=d[b].serverSide}var D=function(m,q,y){for(var z=0,C=m.methods.length;z<C;z++)for(var E=u[m.methods[z]],J=0;J<E.length;J++){var H=E[J];H&&(q?H.resolve(y):H.reject(y))}},F=0,G=this.serialRunner,k=function(){if(F<
v.length){var m=v[F++],q=F==v.length;m.call().done(function(y){D(m,!0,y);k();q&&G.signalEndTask()}).fail(function(y){D(m,!1,y);for(var z=F;z<v.length;z++)D(v[z],!1,y);G.signalEndTask()})}};k()},createMessage:function(b,d,c,f,l,n,p){return b===gx.evt.dispatcher.types.validation?new gx.ajax.validationMessage(d,c,f,l,n,p):new gx.ajax.message(d,c,f,l,n,p)}}}(),mouse:{x:-1,y:-1,update:function(a){try{gx.lang.emptyObject(a.touches)?gx.util.browser.isIE()?(this.x=event.clientX+gx.dom.documentScroll().scrollLeft,
this.y=event.clientY+gx.dom.documentScroll().scrollTop):(this.x=a.pageX,this.y=a.pageY):0<a.touches.length&&(this.x=a.touches[0].pageX,this.y=a.touches[0].pageY)}catch(b){gx.dbg.logEx(b,"gxapi.js","mouse update")}}},_deinit:function(){this.lastEvent=this.lastControl=null;this.dummyCtrl={};this.keyListeners={};this.hooks=[]}}}(gx.$);
gx.csv_i=function(g){var a=function(b,d,c,f){f=[];for(var l=0;l<b.length;l++)f.push(d.validControl.apply(d,b[l]));g.when.apply(g,f).done(c)};return{GX_OLD_VALUE_ATTRIBUTE:"data-gxoldvalue",GX_VALID_ATTRIBUTE:"data-gxvalid",pkDirty:!1,validating:0,lastRow:[],rowChanged:!1,currentId:0,lastId:0,lastControl:null,lastActiveControl:null,lastGrid:0,cmpCtx:"",anyError:!1,userFocus:null,focusControl:null,invalidControl:null,invalidForcedCtrl:null,validActivatedControl:null,disableFocus:!1,validatingUC:null,
validatingGrid:null,instanciatedRowGrid:null,lastEvtResponse:null,lastEvtRow:null,invalidId:0,stopOnError:!1,dismissSeconds:0,messagePosition:"right",oneAtAtime:!0,gxFormatErrors:[],resetRow:function(){gx.csv.lastEvtRow=null;gx.csv.validatingGrid=null;gx.csv.instanciatedRowGrid=null},isvalidating:function(){return 0<gx.csv.validating},validateAll:function(b){var d=g.Deferred();b=b||gx.O;this.validControls(b.fromValid,b.toValid,!1,b).done(function(c,f){try{null!=this.invalidControl&&gx.csv.stopOnError||
(b.fromValid=f||b.toValid)}catch(l){gx.dbg.logEx(l,"gxapi.js","validateAll")}d.resolve()}.closure(this));return d.promise()},validControls:function(b,d,c,f,l){var n=g.Deferred(),p=[],t=0,v=0,u=0,r=gx.csv.fullGridValidation&&1<=d-b&&gx.O.isTransaction();f=f||gx.O;f.startFeedback();var w=function(I,K){gx.csv.stopOnError&&(-1!=K?(I=gx.fn.validStruct(K,f),I=gx.fn.getControlGridRef(I.fld,I.grid),gx.csv.disableFocus=document.activeElement!==I,gx.fn.isAccepted(I,f)?gx.fn.setFocus(I):gx.fn.setFocus(gx.evt.lastControl)):
gx.dom.isButton(gx.csv.lastControl)||null==gx.csv.validActivatedControl||gx.fn.setFocus(gx.csv.validActivatedControl))};try{gx.csv.validActivatedControl=null;gx.csv.invalidControl=null;gx.csv.invalidId=0;var x=null;if(d>b){r&&(x=gx.fn.validStruct(b),void 0!=x&&void 0!=x.lvl&&(t=x.lvl),x=gx.fn.validStruct(d),void 0!=x&&void 0!=x.lvl&&(v=x.lvl));p=[];for(var B=b;B<d;B++){x=gx.fn.validStruct(B);var A=null;if(x){var D=gx.fn.currentGridRowImpl(x.grid);var F=!!x.hasRVFmt;A=1==x.isuc?x.uc.getRealControl():
gx.fn.getControlGridRef(x.fld,x.grid)}else F=!1;if(A&&A.GXFormatError&&!0===A.GXFormatError&&!F){var G=B;break}p.push([B,c,f,D,l]);if(r&&B>b&&B<d&&void 0!=x&&void 0!=x.lvl&&(u=x.lvl,u!=t&&u!=v&&x&&x.grid)){var k=gx.fn.getGridObj(x.grid),m=k.grid.rows.length,q=gx.fn.currentGridRowImpl(x.grid),y=gx.fn.lastGridControl(x.grid);if(B==y){var z=gx.fn.firstGridControl(x.grid);for(A=0;A<m;A++){var C=k.grid.rows[A],E=C.gxDeleted(),J=C.gxExists(),H=C.gxIsMod();if(!E&&(J||H)&&C.gxId!=q)for(var L=z;L<=y;L++)p.push([L,
c,f,q,C.gxId])}}}}if(0<p.length)return gx.evt.setProcessing({status:!0,ctx:"validControls"}),a(p,this,function(){for(var I=!0,K=-1,M=0,N=arguments.length;M<N;M++){var O=arguments[M].ret;if(I&&!O){K=arguments[M].ctrl;I=!1;break}}w(I,K);gx.evt.setProcessing({status:!1,ctx:"validControls"});f.endFeedback();n.resolve(I,G)}),n.promise()}w(!0,-1);f.endFeedback();n.resolve(!0,G)}catch(I){gx.dbg.logEx(I,"gxapi.js","validControls")}return n.promise()},validControl:function(b,d,c,f,l){var n=g.Deferred();c=
c||gx.O;var p=gx.fn.validStruct(b,c),t=!0;if(void 0!=p){if(0!=p.grid){var v=f?f:gx.fn.currentGridRowImpl(p.grid);gx.lang.emptyObject(v)||gx.fn.setCurrentGridRow(p.grid,v)}1==p.isuc?(v=0!=p.grid?f?f:gx.fn.currentGridRowImpl(p.grid):null,p.getUCInstance(v),p.uc.execC2VFunctions()):"function"==typeof p.c2v&&p.c2v();gx.fn.call_v2bc(p,c);try{if(0==p.lvl||0!=p.grid&&gx.fn.gridRowIsMod(p.lvl,gx.fn.currentGridRow(p.grid))||!c.isTransaction()){var u=null;if(u=1==p.isuc?p.uc.getRealControl():gx.fn.getControlGridRef(p.fld,
p.grid))return this.validate(u,b,d,c,f,l).done(function(r){try{var w=!1,x=!0,B=-1;0!=p.grid&&(w=gx.fn.rowIsRemoved(p.grid,gx.fn.currentGridRow(p.grid)));r||w||(gx.csv.invalidControl=u,gx.csv.invalidId=b,x=!1,B=b);gx.csv.lastId=b;0==gx.fn.isAccepted(u)&&(gx.csv.ExecutingOnBlur||gx.evt.executeOnblur(b,u),u.getAttribute("data-gxhiddenonchange")!=u.value&&(u.setAttribute("data-gxhiddenonchange",u.value),gx.evt.execOnchange(u,!1,!0)))}catch(A){gx.dbg.logEx(A,"gxapi.js","validControl - callback")}n.resolve({ret:x,
ctrl:B})}),t=!1,n.promise()}}catch(r){gx.dbg.logEx(r,"gxapi.js","validControl")}}t&&n.resolve({ret:!0,ctrl:-1});return n.promise()},validate:function(b,d,c,f,l,n){var p=g.Deferred();f=f||gx.O;var t=!0;gx.csv.anyError=!1;var v=gx.fn.validStruct(d,f);if(void 0==v)return p.resolve(!0),p.promise();gx.csv.refreshVars(v,f);if(null==v.fnc&&null==v.isvalid){if("SELECT"!=b.tagName&&"checkbox"!=b.type&&!gx.evt.eachKeyAutorefreshType(v.type)&&!gx.lang.emptyObject(v.rgrid)){t=v.rgrid.length;for(var u=0;u<t;u++)v.rgrid[u].filterVarChanged()}p.resolve(!0);
return p.promise()}try{if(-1!=d&&(c||"1"!=b.getAttribute(gx.csv.GX_VALID_ATTRIBUTE))){gx.csv.currentId=d;var r=gx.evt.startValidation(v.gxgrid,!0);gx.csv.refreshVars(v);c=function(w){1==f.AnyError&&(gx.lang.emptyObject(gx.csv.invalidControl)&&(gx.csv.invalidControl=b),gx.csv.anyError=!0,f.AnyError=0);gx.csv.anyError&&(w=!gx.csv.anyError);if(!w)return gx.evt.endValidation(r),p.resolve(!1),p.promise();gx.csv.refreshControls(v,f,l);gx.csv.invalidateDeps(d,f);if(!gx.lang.emptyObject(v.rgrid)&&!gx.lang.emptyObject(v.hc)){w=
v.rgrid.length;for(var x=0;x<w;x++)v.rgrid[x].filterVarChanged()}var B=gx.fn.isAccepted(b,!1,f),A=function(){p.resolve(!0);try{if(!n){var G=gx.dom.byId(b.id);B?gx.fn.setControlGxValid(G,"1"):gx.fn.setControlGxValid(G,"0")}gx.evt.endValidation(r)}catch(k){gx.dbg.logEx(k,"gxapi.js","validate")}};if(null!=v.isvalid&&B&&"1"!=b.getAttribute(gx.csv.GX_VALID_ATTRIBUTE)&&!n)if(x=v.gxgrid?v.gxgrid:null,w=v.isvalid,gx.pO.supportAjaxEvents){x=v.gxgrid?v.gxgrid.gridId:!1;var D=f.isServerEvent(w);w?gx.evt.dispatcher.dispatch(f.getServerEventName(w),
f,x,l,D).done(A).fail(A):f[w](l).then(A)}else{var F=gx.csv.instanciatedRowGrid;gx.csv.instanciatedRowGrid=x;f[w](l).then(function(){gx.csv.instanciatedRowGrid=F;A()})}else A()};t=!1;v.isuc?c.call(this,v.fnc.call(v.uc)):null!=v.fnc?(u=v.fnc.call(f))&&u.done?u.done(c.closure(this)):c.call(this,u):c.call(this,!0)}}catch(w){gx.dbg.logEx(w,"gxapi.js","validate")}t&&p.resolve(!0);return p.promise()},invalidateForm:function(){if(1!=gx.O.AnyError)for(var b=gx.fn.controlIds(),d=b.length,c=0;c<d;c++){var f=
gx.fn.validStruct(b[c]);f&&f.fld&&!f.isuc&&(f=gx.fn.getControlGridRef(f.fld,f.grid),this.invalidateGXCtrl(f,!1))}},invalidateGXCtrl:function(b,d){"undefined"===typeof d&&(d=!0);b&&(1!=b.getAttribute(gx.csv.GX_VALID_ATTRIBUTE)||d&&!gx.csv.controlValueHasChanged(b)||gx.fn.setControlGxValid(b,"0"))},invalidateCtrl:function(b,d){try{this.invalidateGXCtrl(b);var c=gx.fn.validStruct(gx.O.focusControl);if(c&&0!=c.grid&&(!0===d||gx.evt.keyModifiesValue(d))){var f=gx.fn.controlRowId(b)||gx.fn.currentGridRowImpl(c.grid)||
"0001";c.gxgrid.setRowModified(f)}}catch(l){gx.dbg.logEx(l,"gxapi.js","invalidateCtrl")}},invalidateDeps:function(b,d){for(var c=gx.fn.controlIds(d),f=c.length,l=0;l<f;l++){var n=c[l];if(n>b){n=gx.fn.validStruct(n,d);for(var p=n.ip?n.ip.length:0,t=0;t<p;t++)if(n.ip[t]==b)if(0==n.grid){var v=gx.fn.getControlGridRef(n.fld,n.grid);v&&gx.fn.setControlGxValid(v,"0")}else{var u=gx.fn.getGridObj(n.grid);if(u)for(var r=u.grid.rows.length,w=0;w<r;w++){v=u.grid.rows[w];var x=v.gxDeleted(),B=v.gxExists();!x&&
B&&(u.setRowModified(v.gxId),(v=gx.fn.getControlRef(n.fld+"_"+v.gxId))&&gx.fn.setControlGxValid(v,"0"))}}}}},controlValueHasChanged:function(b,d,c){if(!b)return!1;"undefined"===typeof d&&(d=b.value);var f=b.getAttribute(gx.csv.GX_OLD_VALUE_ATTRIBUTE),l=gx.applyPicture(c,f,b);return null===f||l!==gx.applyPicture(c,d,b)||gx.evt.fixWebKitOnFocus()&&"radio"===b.type},setFormatError:function(b,d){b=gx.dom.el(b);if(b.id){var c=void 0!==this.gxFormatErrors[b.id];d||"undefined"==typeof d?(c||(this.gxFormatErrors[b.id]=
this.gxFormatErrors.push(b.id)-1),b.GXFormatError=!0):(c&&this.gxFormatErrors.splice(this.gxFormatErrors[b.id],1),delete this.gxFormatErrors[b.id],b.GXFormatError=!1)}},anyFormatError:function(){return!1===gx.lang.emptyObj(this.gxFormatErrors)},disableFocusCondition:function(){if("undefined"==typeof gx.fn.validStruct(gx.O.focusControl))return!1;try{var b=gx.getVar("Gx_mode");0<gx.csv.lastGrid&&gx.setVar("Gx_mode",gx.fn.getGridRowMode(gx.fn.gridLvl(gx.csv.lastGrid),gx.csv.lastGrid));var d=gx.fn.validStruct(gx.O.focusControl);
if(d&&d.nac&&1==d.nac.call(gx.O)){cn=gx.fn.getControlIndex(gx.csv.lastControl)+1;var c=gx.fn.searchFocusFwd(cn);null!=c&&gx.fn.setFocus(c);gx.setVar("Gx_mode",b);return!0}gx.setVar("Gx_mode",b)}catch(f){}return!1},loadScreen:function(b){try{gx.csv.pkDirty&&(gx.csv.pkDirty=!1,gx.fn.clearOldKeys(),gx.evt.execEvt(gx.csv.cmpCtx,!1,gx.csv.cmpCtx+"ELSCR.",gx.evt.dummyCtrl,null,!0,void 0,void 0,b,!1))}catch(d){gx.dbg.logEx(d,"gxapi.js","loadScreen")}},CTRL_ROW_INDEX_REGEXP:/(.*)_([0-9]{4})+$/,ctxControlId:function(b,
d){var c=d||gx.O;return c&&c.IsMasterPage&&0!=b.indexOf("MP")&&(c=this.CTRL_ROW_INDEX_REGEXP.exec(b))&&1<c.length?(b=c[1],d=2<c.length?"_"+c[2]:"",b+(-1===b.indexOf("_MPAGE")?"_MPAGE":"")+d):(d=(d?d.CmpContext:this.cmpCtx)||"")&&0==b.indexOf(d)||0<=b.search(gx.GxObject.CONTROL_CMP_REGEX)?b:d+b},isProperty:function(b){return b instanceof Array&&2==b.length||"object"==typeof b&&"undefined"!=typeof b[0]&&"undefined"!=typeof b[1]?!0:!1},checkGridChange:function(b,d,c,f){if(b){var l=b.gridId;b=gx.fn.currentGridRowImpl(l);
gx.csv.validGridRowChange(l,b,c,b).done(function(){var n=c.getGridById(l,f);gx.csv.checkGridChange(n.parentGrid,!0,c,f)})}},checkRowChange:function(b,d,c,f){var l=g.Deferred();try{var n=gx.fn.validStruct(b,c);if("undefined"!=typeof n){var p=n.grid;if(0!=p){var t=gx.fn.currentGridRowImpl(p);if(t&&(t!=f||d)&&1<t.length&&f&&1<f.length){gx.csv.rowChanged=!0;var v=c.Gx_BScreen;c.Gx_BScreen=1;gx.csv.validGridRowChange(p,t,c,f).done(function(u){u&&(u=c.getGridById(p,f))&&(u.instanciateRow(t),u.parentGrid&&
gx.csv.checkGridChange(u.parentGrid,!0,c,f));c.Gx_BScreen=v;l.resolve(!0)})}else l.resolve(!1);void 0!=t&&gx.fn.setCurrentGridRow(p,t)}else l.resolve(!1)}else l.resolve(!1)}catch(u){gx.dbg.logEx(u,"gxfrmutl.js","checkRowChange")}return l.promise()},validGridRow:function(b,d){void 0!=d&&gx.fn.setCurrentGridRow(b,d);d=gx.fn.firstGridControl(b);b=gx.fn.lastGridControl(b);gx.csv.validControls(d,b+1,!0,gx.O)},validGridRowChange:function(b,d,c,f){var l=g.Deferred();void 0!=f&&gx.fn.setCurrentGridRow(b,
f);var n=gx.fn.firstGridControl(b,c),p=gx.fn.lastGridControl(b,c);f=!gx.lang.emptyObject(f)&&!gx.lang.emptyObject(d)&&f.length==d.length&&parseInt(f)>parseInt(d);gx.csv.anyFormatError()?(c=gx.csv.gxFormatErrors,gx.csv.invalidForcedCtrl=gx.csv.invalidForcedCtrl||{},gx.csv.invalidForcedCtrl.Ctrl=gx.dom.el(c[0]),gx.csv.invalidForcedCtrl.ForceFocus=!0,gx.fn.setFocus(gx.csv.invalidForcedCtrl.Ctrl),l.resolve(!1)):gx.csv.validControls(n,p+1,!0,c,f).done(function(t){!t&&gx.csv.stopOnError||gx.csv.changeGridRow(b,
n,d);l.resolve(t)});return l.promise()},changeGridRow:function(b,d,c){gx.csv.lastId=d;gx.O.fromValid>d&&(gx.O.fromValid=d);gx.csv.lastRow[b]=c;gx.O.Gx_BScreen=1},targetRowIsMod:function(b){return(b=gx.fn.validStruct(b))?gx.fn.gridRowIsMod(b.lvl,gx.fn.currentGridRow(b.grid)):!1},refreshVars:function(b,d){for(var c=b.ip?b.ip.length:0,f=0;f<c;f++)try{"function"==typeof gx.fn.validStruct(b.ip[f],d).c2v&&gx.fn.validStruct(b.ip[f],d).c2v()}catch(l){gx.dbg.logEx(l,"gxapi.js","refreshVars")}},refreshControls:function(b,
d,c){for(var f=b.op?b.op.length:0,l=0;l<f;l++)try{var n=gx.fn.validStruct(b.op[l],d),p=null;if(0==n.grid)gx.fn.v2c(n),p=gx.dom.el(gx.csv.ctxControlId(n.fld));else{var t=gx.fn.currentGridRowImpl(n.grid);gx.text.endsWith(c,t)&&(gx.fn.v2c(n),p=gx.fn.getControlGridRef(n.fld,n.grid))}p&&gx.fn.setControlGxValid(p,"0")}catch(v){gx.dbg.logEx(v,"gxapi.js","refreshControls")}f=b.ucs?b.ucs.length:0;for(l=0;l<f;l++)try{gx.fn.validStruct(b.ucs[l],d).uc.execV2CFunctions(!0)}catch(v){gx.dbg.logEx(v,"gxapi.js","refreshControls")}},
setValidValues:function(b,d,c){var f=[];if(1<c.length-d.length){var l=gx.json.evalJSON(c[c.length-1]);for(h in l)gx.fn.setHidden(h,l[h]);f=gx.json.evalJSON(c[c.length-2])}l={};b={fields:b,msgs:f};gx.O.cmpCtx?l[gx.O.cmpCtx]=b:l.MAIN=b;gx.fn.setErrorViewer(l);if(!gx.O.AnyError){var n=!1;b=d.length;for(l=0;l<b;l++){var p=d[l];f=c[l];if(this.isProperty(p)){var t=gx.fn.vStructForVar(p[0])||gx.O.getValidStructFld(p[0]);null!=t&&gx.fn.setCtrlProperty(t.fld,p[1],f)}else if(t=gx.fn.validStruct(this.currentId),
gx.lang.emptyObject(t)||gx.lang.emptyObject(t.hc)||(t.hc==p?(gx.O[t.hc]=f,gx.fn.setHidden(this.cmpCtx+"GXH_"+t.fld,f)):t.hd==p&&(gx.O[t.hd]=f)),t=gx.fn.vStructForVarWId(p,this.currentId),gx.lang.emptyObject(t)){t=gx.fn.vStructForHC(p);if(null!=t){var v="";0!=t.grid&&(v="_"+gx.fn.currentGridRow(t.grid));gx.fn.setHidden(this.cmpCtx+"GXHC"+t.fld+v,f)}t=gx.fn.gridObjFromGxO(p);void 0!=t?(n=!0,t.loadGrid({rowProps:f})):gx.fn.saveLvlOldParm(p,f)&&(gx.setVar(p,f),gx.fn.setGridHidden(p,f))}else p=gx.fn.screen_CtrlRef(t.fld),
!gx.lang.emptyObject(p)&&f instanceof Object&&("SELECT"==p.tagName?(-1!=p.selectedIndex&&gx.fn.invalidEmptyValue(f)&&(f.s=p.options[p.selectedIndex].value),v=gx.dom.id(p),gx.fn.loadComboBox(v,f.v),gx.fn.setComboBoxValue(v,f.s)):gx.lang.emptyObject(f.s)||(f.s=gx.fn.trimSelectValue(f.s,t.type)),v=gx.fn.selectedDescription(f,t.type),f=gx.lang.emptyObject(f.s)&&!gx.lang.emptyObject(p.value)?p.value:"SPAN"!=p.tagName||gx.lang.emptyObject(f.s)||gx.lang.emptyObject(v)?f.s:v,gx.fn.setControlValue_span_safe(this.cmpCtx+
t.fld,f,0)),t.v2v&&(t.v2v(f),gx.fn.v2c(t,f,"bits"==t.type))}}gx.O.refreshOlds();gx.fn.enableDisableDelete(gx.O);n&&gx.dom.indexElements()},_deinit:function(){this.lastRow=[];this.gxFormatErrors=[];this.lastEvtRow=this.lastEvtResponse=this.validatingGrid=this.validatingUC=this.validActivatedControl=this.invalidForcedCtrl=this.invalidControl=this.focusControl=this.userFocus=this.lastActiveControl=this.lastControl=null}}}(gx.$);
gx.http_i=function(g){return{STATE_UNSENT:0,STATE_DONE:4,STATUS_OK:200,STATUS_UNAUTHORIZED:401,STATUS_FORBIDDEN:403,STATUS_SESSION_TO:440,iframeName:"gxPostIFrame",viewState:null,viewStateLoaded:!1,oldState:null,useBase64State:!1,useStateSignature:!1,lastStatus:0,lastResponse:"",modes:{none:0,full:1,call:2,retval:3},validJsonResponse:function(a,b){return"{"!=b[0]&&200==a.status&&0!=a.getResponseHeader("Content-Type").toLowerCase().indexOf("application/json")?(gx.dbg.logEx('Unexpected AJAX respose format "'+
a.getResponseHeader("Content-Type")+'"; Reloading page'),gx.http.reload(!0),!1):!0},saveHidden:function(a,b,d){null!=gx.dom.el(a,!1,!0,!0)?gx.fn.setControlValue_impl(a,b):d&&(gx.dom.createInput(a,"hidden"),gx.fn.setControlValue_impl(a,b))},clearMultipartHidden:function(){this.saveHidden("GXAjaxMultipart","",!1)},clearState:function(){this.viewState=null;this.viewStateLoaded=!1;g(gx.dom.el("GXState")).val("{}")},applyWellKnownPtys:function(){gx.wpo(function(){this.viewState.FORM_Caption&&gx.fn.setCtrlPropertyImpl(document,
"Caption",this.viewState.FORM_Caption)},this)},loadState:function(){gx.dbg.logPerf("loadState");this.viewState={};this.viewStateLoaded=!1;var a=gx.dom.el("GXState");if(a){var b=a=a.value;this.useBase64State&&(b=gx.base64.decode(a));this.viewState=gx.json.evalJSON(b);this.viewStateLoaded=!0;this.applyWellKnownPtys()}gx.dbg.logPerf("loadState","GXState Loaded")},saveState:function(a){if(this.viewState){var b=gx.json.serializeJson(this.viewState,a);a=b;this.useBase64State&&(a=gx.base64.encode(b));b=
gx.dom.el("GXState");null==b?gx.dom.createInput("GXState","hidden"):this.oldState=b.value;gx.fn.setControlValue_impl("GXState",a);this.useStateSignature&&(gx.http.setStateHsh(a),gx.http.setHsh())}},setStateHsh:function(a){null==gx.dom.el("GXHSH12")&&gx.dom.createInput("GXHSH12","hidden");a=gx.MD5.getHsh(a);gx.fn.setControlValue_impl("GXHSH12",a)},setHsh:function(){for(var a=gx.pO.WebComponents.length,b=0;b<a;b++)gx.http.setObjectHsh(gx.pO.WebComponents[b]);gx.http.setObjectHsh(gx.pO)},setObjectHsh:function(a){var b=
a.getControlIdsh();if(null!=b){var d="";a.IsComponent&&null!=a.CmpContext&&(d=a.CmpContext);for(var c="",f=0;f<b.length;f++)if((validStruct=a.getValidStruct(b[f]))&&"function"==typeof validStruct.val){var l=gx.fn.getControlValue_impl(d+validStruct.fld);c="checkbox"==validStruct.ctrltype&&""==gx.text.trim(l)?c+validStruct.val():c+l}gx.http.createHsh(d+"GXHSH11",c)}},createHsh:function(a,b){null==gx.dom.el(a)&&gx.dom.createInput(a,"hidden");b=gx.MD5.getHsh(b);gx.fn.setControlValue_impl(a,b)},refreshState:function(){null!=
this.oldState&&(gx.dom.el("GXState").value=this.oldState,this.oldState=null)},getCookie:function(a){a+="=";for(var b=document.cookie.split(";"),d=b.length,c=0;c<d;c++){for(var f=b[c];" "==f.charAt(0);)f=f.substring(1,f.length);if(0==f.indexOf(a))return f.substring(a.length,f.length)}return null},setCookie:function(a,b,d,c,f){d=d||1;var l=[];d=new Date((new Date).getTime()+864E5*d);l.push(a+"="+escape(b));f&&l.push("path="+f);l.push(c?"session":"expires="+d.toGMTString());"https:"===location.protocol&&
(l.push("secure"),l.push("samesite=none"));document.cookie=l.join(";");return this.getCookie(a)==b},checkResponseStatus:function(a,b){return a.status==this.STATUS_FORBIDDEN?!1:a.status==this.STATUS_SESSION_TO?(gx.http.reloadOnTimeout(b),!0):this.isBadResponse(a)?(gx.ajax.enableForm(),gx.util.alert.showError(gx.getMessage("GXM_NetworkError").replace("%1",a.status)),!0):a.status==this.STATUS_UNAUTHORIZED?(gx.pO.OnSessionTimeout==gx.timeoutActions.ignore?gx.http.reload():gx.pO.OnSessionTimeout==gx.timeoutActions.warn&&
gx.http.reloadOnTimeout(b),!0):!1},isSessionTimeoutError:function(a,b){return!gx.gen.isDotNet()&&b&&a&&gx.pO.AjaxSecurity&&a.readyState==this.STATE_DONE&&("NS_ERROR_FAILURE"==b.name&&2147500037==b.result||"Error"==b.name&&-2146697209==b.number||"NETWORK_ERR"==b.name&&101==b.code)?!0:!1},reloadOnTimeout:function(a){if((a||gx.pO.fullAjax||gx.pO.AjaxSecurity)&&confirm(gx.getMessage("GXM_sessionexpired")))return gx.http.reload(),!0;gx.ajax.enableForm();return!1},reload:function(a){""==document.location.hash?
this.redirect(location.href,!1,a):document.location.reload()},redirect:function(a,b,d,c,f){f=void 0===f?!0:f;c=c||gx.O;var l=gx.popup.getPopup();if(null!=l&&gx.util.sameAppUrl(a)&&(l=l.window.gx.popup.lvl,-1!=l)){var n=gx.http.urlParameterPrefix(a);n+=encodeURIComponent("gxPopupLevel="+l+";");a+=n}f&&!gx.isabsoluteurl(a)&&(a=gx.absoluteurl(a));b?gx.evt.redirecting=!0:setTimeout(function(){gx.ajax.enableForm()},200);gx.spa.started&&!d?(gx.spa.redirect(a),gx.pO!=c?c.endFeedback():gx.ajax.enableForm()):
(gx.pO.startFeedback(!1),location.href=a)},getRequest:function(){var a=null;window.XMLHttpRequest&&(a=new XMLHttpRequest);if(!a)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}}return a},postDataFormat:{HTTP:0,JSON:1},getPostData:function(a,b){b=b||gx.http.postDataFormat.HTTP;var d=b==gx.http.postDataFormat.HTTP?[]:{};if(a.reqData)d=a.reqData;else{a=a.formNode;a="Form"==a.tagName?a.elements:g("input[type!=file],textarea,select");for(var c=
a.length,f=0;f<c;f++){var l=gx.http.elementPostData(a[f],b);null!=l&&(b==gx.http.postDataFormat.HTTP?d.push(l):d[l[0]]=l[1])}}gx.lang.isArray(d)&&b==gx.http.postDataFormat.HTTP&&(d=d.join("&")+"&");return d},elementPostData:function(a,b){if(gx.json.isNonSerializable(a.name)||"FIELDSET"==a.tagName)return null;var d="";if("select-multiple"==a.type)for(var c=a.options.length,f=0;f<c;f++)a.options[f].selected&&(d=a.options[f].value);else if("radio"==a.type||"checkbox"==a.type)if(a.checked)d=a.value;else{if("radio"==
a.type)return null}else d="image"===a.type?a.src:this.element_gxvalue(a);return b==gx.http.postDataFormat.HTTP?encodeURIComponent(a.name)+"="+encodeURIComponent(d):[a.name,d]},element_gxvalue:function(a){return a.gxtype&&"dtime"==a.gxtype.type?(dt=new gx.date.gxdate(a.value,gx.dateFormat),dt.HasTimePart=0<a.gxtype.dec,dt.HasDatePart=0<a.gxtype.len,gx.date.dttoc(dt,a.gxtype.len,a.gxtype.dec)):a.value},doHandleRequest:function(a,b){if(a.readyState==this.STATE_DONE){if(a.status==this.STATUS_OK||b.handleAllStatusCodes){var d=
new gx.util.Url(a.responseURL);if(gx.text.endsWith(d.path,".html")){window.location.href=a.responseURL;return}this.isOffline(a)&&(this.handleOffline(a),b.offline&&b.offline.call(b.obj||window,a,b));this.doCallHandler(a,b)}else gx.http.checkResponseStatus(a,b.warnOnTimeout)||gx.lang.doCallTimeout(gx.dom.writeError,document,[a.responseText,gx.getMessage("GXM_runtimeappsrv"),a.status],50);b.always&&b.always.call(b.obj||window,a,b);window.gx&&(gx.dbg.logPerf("execEvt","Event Executed"),gx.dbg.printPerformanceLog())}},
onRequestError:function(a,b){b.error&&b.error.call(b.obj||window,a,b);b.always&&b.always.call(b.obj||window,a,b);gx.evt.setProcessing({status:!1,cond:!gx.csv.isvalidating(),ctx:"onRequestError"});a.readyState==this.STATE_DONE?gx.http.checkResponseStatus(a,b.warnOnTimeout):this.isBadResponse(a)&&gx.http.reloadOnTimeout(b.warnOnTimeout)},isBadResponse:function(a){return a.status==this.STATE_UNSENT&&gx.lang.emptyObject(a.responseText)?!0:!1},doCall:function(a){a.gxInitiator=gx.util.executionContext.getContext();
gx.util.alert.hide();a.handler||"function"!=typeof a.load||(a.handler=a.load);"boolean"!=typeof a.sync&&(a.sync=!1);a.method||(a.method="POST");if(a.multipart&&"POST"==a.method)this.doMultipartPost(a);else{var b=this.getRequest();if(null!=b){if("function"==typeof a.handler&&!a.sync){var d=gx.http.doHandleRequest.closure(this,[b,a]),c=gx.http.onRequestError.closure(this,[b,a]);gx.util.browser.isIE()&&9>=gx.util.browser.ieVersion()?b.onreadystatechange=d:(b.onload=d,b.onerror=c)}d=null;"POST"==a.method&&
(d=gx.http.getPostData(a));c=!1!==a.avoidCache?this.uncache(a.url):a.url;b.open(a.method,c,!a.sync);!1!==a.ajaxHeader&&b.setRequestHeader(gx.ajax.reqHeader,"1");"POST"==a.method&&b.setRequestHeader("Content-Type",a.contentType?a.contentType:"application/x-www-form-urlencoded");gx.sec.secToken&&gx.AjaxSecurity&&gx.OnSessionTimeout==gx.timeoutActions.ignore&&b.setRequestHeader(gx.sec.secTokenName,gx.sec.secToken);this.setSecurityToken(b,a.gxO);a.beforeSend&&a.beforeSend.call(a.obj||window,b);try{b.send(d)}catch(f){gx.dbg.logEx(f,
"gxapi.js","doCall")}"function"==typeof a.handler&&a.sync&&gx.http.doHandleRequest(b,a);return b}}return null},doCallHandler:function(a,b){if(!b.gxInitiator||!gx.util.executionContext.changedContext(b.gxInitiator))if(b.obj?b.handler.call(b.obj,null,a.responseText,a):b.handler(null,a.responseText,a),window.gx&&"function"===typeof b.onReady)b.onReady()},doMultipartPost:function(a){gx.http.saveState(!0);this.getPostIFrame().gxPostInfo=a;var b=a.formNode;a.oldAction=b.getAttribute("action");b.setAttribute("action",
a.url);a.oldTarget=b.getAttribute("target");b.setAttribute("target",this.iframeName);a.reqData&&(gx.http.saveHidden("GXAjaxMultipart",a.reqData,!0),this.setSecurityToken(null,a.gxO));b.submit()},setSecurityToken:function(a,b){(b=gx.ajax.getSecurityToken(b))&&(gx.dom.hasSelectedFile()?gx.http.saveHidden("X-GXAUTH-TOKEN",b.value,!0):a.setRequestHeader("X-GXAUTH-TOKEN",b.value));(b=gx.http.getCookie("XSRF-TOKEN"))&&a.setRequestHeader("X-XSRF-TOKEN",b)},useReadyStateEvent:function(){return gx.util.browser.isIE()&&
11>gx.util.browser.ieVersion()},iFrameloadEventName:function(){return this.useReadyStateEvent()?"readystatechange":"load"},getPostIFrame:function(){var a=this.iframeName,b=gx.dom.byId(a);b&&b.frameElement&&(b=b.frameElement);b||(b=document.createElement("div"),b.innerHTML='<iframe id="'+a+'" name="'+a+'" src="about:blank">',document.body.appendChild(b),b=b.firstChild,document.body.appendChild(b),window[a]=b,b.name=a,b.setAttribute("name",a),b.id=a,b.style.position="absolute",b.style.left="0px",b.style.top=
"0px",b.style.height="1px",b.style.width="1px",b.style.visibility="hidden");gx.evt.attach(b,this.iFrameloadEventName(),gx.http.iframeOnload);return b},iFrameJsonResponse:function(a){return g(a).find("input[data-response-content-type='application/json']").val()},captureIframeHTTPStatusCode:function(a){var b=/HTTP Status (\d\d\d)/gi,d=0;a.title&&(a=b.exec(a.title),0<a.length&&(d=Number(a[1])));return{status:d}},iframeOnload:function(){var a=gx.dom.byId(gx.http.iframeName);if(!gx.http.useReadyStateEvent()||
"complete"==a.readyState)if(a||(a=window.frames[gx.http.iframeName]),a&&a.frameElement&&(a=a.frameElement),a)try{gx.http.useReadyStateEvent()&&(a.src="about:blank",gx.evt.detach(a,gx.http.iFrameloadEventName(),gx.http.iframeOnload));var b=a.gxPostInfo,d=b.formNode;d.setAttribute("action",b.oldAction);d.setAttribute("target",b.oldTarget);var c=a.contentDocument?a.contentDocument:a.contentWindow.document;if(c){var f=c.body,l=gx.http.iFrameJsonResponse(f),n=!gx.lang.emptyObject(l);n||(n=gx.dom.allChildrenAreText(f))&&
(l=gx.http.multipartResponse(f));if(n){var p=gx.base64.decode(l);gx.http.clearMultipartHidden();b.handler(null,p,b);if(window.gx&&"function"===typeof b.onReady)b.onReady();b.always&&b.always.call(b.obj||window,null,b)}else{var t=gx.http.captureIframeHTTPStatusCode(c);gx.http.checkResponseStatus(t,b.warnOnTimeout)||document.write(c.documentElement.innerHTML)}}}catch(v){a="Unknown error";d=gx.getMessage("GXM_NetworkError").replace("%1","NoStatusCode");gx.text.startsWith(v.message,"Blocked a frame with origin")&&
(a="Upload File Changed",d=gx.getMessage("GXM_FileUploadFileChanged"),g('input[type="file"]').val(""));gx.dbg.logEx(v,"gxapi.js","FileUpload error: "+a);if(b.error)b.error.call(b.obj||window,null,b);else if(gx.fx.obs.notify("gx.afterNonFullajax"),window.gx&&"function"===typeof b.onReady)b.onReady();b.always&&b.always.call(b.obj||window,null,b);gx.util.alert.showError(d)}},multipartResponse:function(a){var b="";try{b=g(a).text()}catch(d){gx.dbg.logEx(d,"gxapi.js","multipartResponse")}return b},uncache:function(a){var b=
(new Date).getTime();return a+gx.http.urlParameterPrefix(a)+"gx-no-cache="+b},callBackend_simple:function(a,b,d,c,f,l,n,p){gx.http.callBackend_impl(void 0,a,b,gx.http.modes.none,d,c,f,l,n,p)},callBackend:function(a,b,d,c,f,l,n,p,t,v,u){gx.http.callBackend_impl(a,b,c,f,l,n,p,t,v,u)},callBackend_impl:function(a,b,d,c,f,l,n,p,t,v,u){var r=this.getRequest();v=v||{};if(r){try{var w=gx.O;f||w.startFeedback();l="undefined"!=typeof l?l:"GET";n="undefined"!=typeof n?n:null;t="undefined"!=typeof t?t:!1;p||
(b=this.uncache(b));r.open(l,b,t);r.setRequestHeader(gx.ajax.reqHeader,"2");for(var x in v)r.setRequestHeader(x,v[x]);try{"POST"==l?r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):gx.sec.secToken&&gx.O.AjaxSecurity&&gx.pO.OnSessionTimeout==gx.timeoutActions.ignore&&r.setRequestHeader(gx.sec.secTokenName,gx.sec.secToken)}catch(A){gx.dbg.logEx(A,"gxapi.js","callBackend_impl: gx.O cannot be null")}var B=function(){f||w.endFeedback();this.lastStatus=r.status;this.lastResponse=r.responseText;
if(r.readyState!=this.STATE_DONE||r.status!=this.STATUS_OK)gx.http.checkResponseStatus(r)||(window.status="GXAjax HTTP error: ("+r.status+") - "+r.statusText,gx.dbg.logEx(r.responseText),u&&u());else if(c!=this.modes.none)if(this.lastResponse&&0<this.lastResponse.length&&"<"!=this.lastResponse.charAt(0)){this.lastStatus=0;try{if(c==this.modes.full)this.handleFull(this.lastResponse);else if(c==this.modes.call)return this.handleCall(this.lastResponse,a);return this.handleRetVal(this.lastResponse,a,
d)}catch(A){gx.dbg.logEx(A,"gxapi.js","callBackend"),u&&u()}}else window.status="GXAjax HTTP error: (bad response format)",u&&u()}.closure(this);t&&(gx.util.browser.isIE()&&9>=gx.util.browser.ieVersion()?r.onreadystatechange=B:r.onload=B);r.send(n);t||B()}catch(A){window.status="GXAjax HTTP error: "+A.message}window.status=""}},handleFull:function(a){gx.http.postHandler(null,a,{status:200,responseText:""})},handleCall:function(a,b){if(b){var d=g.parseJSON(a);if(gx.lang.isArray(d))return b(d);gx.dbg.logEx(e,
"gxapi.js","handleCall: Unexpected server response format (Expected array): "+a)}},handleRetVal:function(a,b,d){var c=gx.json.evalJSON(a),f=c[0];this.lastStatus=c[1];void 0==this.lastStatus&&(this.lastStatus=0);if(b&&(d||null==this.lastStatus||0==this.lastStatus)){d=g.parseJSON(a);if(gx.lang.isArray(d))return b(d);gx.dbg.logEx(e,"gxapi.js","handleCall: Unexpected server response format (Expected array): "+a)}else return f},postHandler:function(a,b,d,c){try{if(gx.csv.lastEvtResponse=null,200>d.status||
299<d.status)gx.dom.writeError(d.responseText,gx.getMessage("GXM_runtimeappsrv"),d.status);else if(gx.http.validJsonResponse(d,b)){var f=gx.json.evalJSON(b);null==f?gx.dom.writeError(b.toString(),gx.getMessage("GXM_runtimeappsrv"),d.status):(gx.http.refreshState(),gx.csv.lastEvtResponse=f,gx.fn.forceEnableControls(!0),f.rowId=this.rowId,f.gridId=this.gridId,gx.ajax.setPostResponse(f,gx.O,c).done(function(l){l||(gx.fx.obs.notify("gx.onafterevent",[f]),gx.fx.obs.notify("gx.afterNonFullajax"))}))}}catch(l){gx.dbg.logEx(l,
"gxapi.js","postHandler")}},encodeUriSegment:function(a){return encodeURIComponent(a).replace(/%20/g,"+")},formatLink:function(a,b,d){a=gx.ajax.objectUrl(a);if(b&&0<b.length){var c=",",f="";d&&(c="&");a+="?";for(var l=b.length,n=0;n<l;n++)0<n&&(a+=c),d&&(f=d[n]+"="),a+=f+gx.http.encodeUriSegment("function"==typeof b[n].getUrlVal?b[n].getUrlVal():b[n])}return a},loadScripts:function(a,b,d,c){"undefined"==typeof d&&(d=0);d>=a.length?b():gx.http.loadScript(a[d],function(f,l,n){gx.http.loadScripts(f,
l,n+1,c)}.closure(this,[a,b,d]),c)},loadStyle:function(a,b,d,c,f){if(c=f?document.querySelector('style[data-gx-href="'+c+'"]'):c?gx.dom.byId(c):null)c.href=a;else{var l=gx.dom.byTag("head")[0];f?(c||(c=document.createElement("style"),c.setAttribute("data-gx-href",a)),c.innerHTML='@import url("'+a+'") layer('+f+")"):(c=document.createElement("link"),c.rel="stylesheet",c.type="text/css",c.href=a);"function"==typeof b&&(c.onload=b);d?(a=gx.getThemeElement(),g(c).insertBefore(a),gx.util.browser.isIE()&&
g(a).insertAfter(c)):l.appendChild(c)}},applyDeferredStyles:function(){g("link[rel='preload'][as='style']").each(function(a,b){b.rel="stylesheet"})},layerNaming:function(a){return a.replace(/\?\w*$/,"").replace(/[\/\.]/g,"_")},loadStyles:function(){var a=gx.fn.getHidden("GX_STYLE_FILES");if(!gx.lang.emptyObject(a))for(var b=0;b<a.length;b++){var d=a[b];d=gx.util.resolveUrl(d);gx.cache.fileLoaded(d)||(gx.cache.addRemoteFile(d),this.loadStyle(d,void 0,!0,void 0,this.layerNaming(d)))}},doCommands:function(){var a=
gx.fn.getHidden("GX_SRV_COMMANDS");gx.lang.emptyObject(a)||gx.ajax.dispatchCommands(a)},isOffline:function(a){return"1"===a.getResponseHeader("X-GX-OFFLINE")},handleOffline:function(a){gx.util.alert.showError(gx.getMessage("GXM_OfflineUnsupported"))},useNamedParameters:function(a){return!1===gx.csv.useNamedParameters?!1:-1<a.indexOf("=")},urlParameterSeparator:function(a){return this.useNamedParameters(a)?"&":","},urlParameterPrefix:function(a){var b=a.indexOf("?");return-1<b?b==a.length-1?"":this.urlParameterSeparator(a):
"?"}}}(gx.$);gx.$.extend(gx.evt,gx.evt_i);gx.$.extend(gx.csv,gx.csv_i);gx.$.extend(gx.http,gx.http_i);var defaultConfig={popup:{ignoreCmdsOnCancel:!1},websocket:{},timezone:{reload:!0},evt:{dblclick:{delay:450}},number:{validation:{strict:!0}},csv:{scrollTopOnError:!1}};gx.config=gx.$.extend({},defaultConfig,window.gxCustomConfig||{});
var GlobalEvents=function(g){return{executeMethod:function(a,b){gx.fx.obs.notify(a,b);try{for(var d=window;null!=d&&d.parent!==d;)d=d.parent,d!=window&&d.gx&&d.gx.fx.obs.notify(a,b)}catch(c){}}}}(jQuery);
gx.util.browser.isIE()&&function(){function g(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var d=document.createEvent("CustomEvent");d.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return d}if("function"===typeof window.CustomEvent)return!1;g.prototype=window.Event.prototype;window.CustomEvent=g}();
gx.fx.obs.addObserver("gx.onload",gx,function(){var g={};gx.serviceWorkerUrl&&"serviceWorker"in navigator&&(gx.staticDirectory&&gx.basePath&&(g={scope:gx.util.resourceUrl(gx.basePath,!1)+"/"}),navigator.serviceWorker.register(gx.serviceWorkerUrl,g).then(function(a){console.log("Service Worker Registered:",gx.serviceWorkerUrl,"scope: ",a.scope)}))});
(function(g){function a(k,m){k=g(k);var q=k.is("SPAN,DIV");return k.attr(m)||(q?k.find("> a").first().attr(m):"")}var b=gx.GxObject.prototype;b.sPrefix=function(){return this.CmpContext};b.declareDomainHdlr=function(k,m){this.GXValidFnc[k].dom_hdl=m};b.setVCMap=function(k,m,q,y,z,C){this.VarControlMap[k]={id:m,grid:q,type:y,length:z,decimals:C}};b.setSDTMapping=function(k,m){this.SDTMap=this.SDTMap||{};this.SDTMap[k]=m;k={};for(var q in m)m[q].extr&&(k[m[q].extr]=q);m.extrn=k};b.applySDTVarMapping=
function(k,m){if(this.VarControlMap[m]&&this.VarControlMap[m].type)var q=this.VarControlMap[m].type;return this.applySDTMapping(k,q,!0)};b.applySDTMapping=function(k,m,q){if(k&&m){m=this.SDTMap?this.SDTMap[m]:void 0;var y;if(m){for(y in m.extrn)q?(k[m.extrn[y]]=k[y],delete k[y]):(k[y]=k[m.extrn[y]],delete k[m.extrn[y]]);for(y in m)if(m[y].sdt){var z=k[y]?k[y].length:0;if(z)for(var C=0;C<z;C++)this.applySDTMapping(k[y][C],m[y].sdt,q);else this.applySDTMapping(k[y],m[y].sdt,q)}}}return k};b.Initialize=
function(){this.InitStandaloneVars();gx.wpo(function(){this.initTargets()},this)};b.InitStandaloneVars=function(){var k=gx.O;gx.setGxO(this);this.SetStandaloneVars();null!=k&&gx.setGxO(k)};b.getCmpType=function(k){k=this.cmpRegex.exec(k);this.cmpRegex.lastIndex=0;return k};b.getContainer=function(){if(this.containerControl)return gx.dom.byId(this.containerControl);if(!this.CmpContext&&!this.IsMasterPage)return g(".gx-content-placeholder").get(0)||document.body;var k,m=this.getCmpType(this.CmpContext);
m&&(k=gx.dom.byId(m[1]+"gxHTMLWrp"+m[2]+(m[3]||"")));if(k)return k};b.setContainer=function(k){this.containerControl=k};b.setObjectType=function(k){this.ObjectType=k};b.getObjectType=function(){return this.ObjectType};b.isTransaction=function(){return null!=this._isTrn?this._isTrn:this._isTrn="trn"==this.getObjectType()};b.setAjaxSecurity=function(k){this.AjaxSecurity=k};b.setOnAjaxSessionTimeout=function(k){switch(k){case "Warn":this.OnSessionTimeout=gx.timeoutActions.warn;break;case "CallObj":this.OnSessionTimeout=
gx.timeoutActions.callObj}};b.addKeyListener=function(k,m){gx.evt.addKeyListener(this.CmpContext,k,m)};b.clearMessages=function(){this.MsgList.length=0};b.addMessage=function(k){this.MsgList.push(k)};b.showMessages=function(k){for(var m=[],q=this.MsgList.length,y=0;y<q;y++){var z=this.MsgList[y];"string"===typeof z?m.push({att:"",type:2,text:this.MsgList[y]}):m.push(z)}q={};q[""==this.CmpContext?"MAIN":this.CmpContext]=m;k?gx.fn.setErrorViewer(q,!1):gx.fn.setErrorViewer(q);this.clearMessages()};b.setPrompt=
function(k,m){gx.fn.attachCtrl(this.CmpContext+k,{id:k,isPrompt:!0,wc:this.CmpContext,mp:this.IsMasterPage,controls:m,obj:this});this.promptKeyHandlers||(this.promptKeyHandlers={});this.promptKeyHandlers[k]=function(q){if((q=(q||gx.dom.el(k)).parentNode)&&q.href&&(q=q.href.match("javascript:(.+)"))&&1<q.length){q=decodeURIComponent(q[1]);try{eval(q)}catch(y){gx.dbg.logEx(y,"gxfrmutl.js","setPrompt")}}}};b.readServerVars=function(){if(!gx.lang.emptyObject(gx.csv.lastEvtResponse)){for(var k=[],m=gx.csv.lastEvtResponse.gxValues,
q=m.length,y=0;y<q;y++){var z=m[y];if(z.CmpContext==this.CmpContext&&gx.lang.booleanValue(z.IsMasterPage)==this.IsMasterPage){k.push(z);break}}gx.fn.setJsonValues(k)}};b.call=function(k,m,q,y){gx.nav.willRedirect(k)?(!1===gx.csv.useNamedParameters&&(y=void 0),this.postEventRedirect={url:gx.http.formatLink(k,m,y),forceDisableFrm:!1}):gx.nav.call.apply(gx.nav,arguments)};b.callUrl=function(k,m){gx.nav.willRedirectByUrl(k)?this.postEventRedirect={url:k,forceDisableFrm:!1}:gx.nav.callUrl.apply(gx.nav,
arguments)};b.popupOpen=function(k){this.postEventPopupCommands.push({popup:gx.lang.clone(k)})};b.popupOpenUrl=function(k,m){this.postEventPopupCommands.push({popup:gx.popup.openUrlToOpenPopupParms(k,m)})};b.refreshInputs=function(k){for(var m=k.length,q=0;q<m;q++){var y=this.getValidStructFld(k[q][1]);null!=y&&"function"==typeof y.c2v&&y.c2v()}};b.refreshOutputs_impl=function(k){for(var m=[],q=0,y=k.length;q<y;q++){var z=k[q];if(z.fld){var C=this.getValidStructFld(z.fld);if(null!=C)gx.fn.v2c(C),
z=gx.fn.getControlGridRef(C.fld,C.grid),gx.csv.invalidateGXCtrl(z),gx.fn.setControlOldValue(z,C.val());else{C=this.getVariable(z.av);if(null!=C&&"object"==typeof C){var E=this.getFormBCForVar(z.av);null!=E&&this.bcToScreen(E,C);(E=this.getGridForColl(z.av))&&E.refreshCollection(C)}gx.fn.setHidden(gx.csv.ctxControlId(z.fld,this),C)}}else z.ctrl&&m.push(z)}gx.uc.StartRender();q=0;for(y=m.length;q<y;q++)z=m[q],gx.uc.isUserControl(z.ctrl)&&(z.ctrl.execV2CFunctions(!1),z.ctrl.execShowFunction());gx.uc.EndRender()};
b.OnClientEventEnd=function(){gx.fn.usrSetFocus_commit()};b.refreshOutputs=function(k){var m=this.postEventPopupCommands;this.postEventPopupCommands=[];this.postEventRedirect&&(m.push({redirect:this.postEventRedirect}),delete this.postEventRedirect);0<m.length&&gx.ajax.dispatchCommands(m);this.refreshOutputs_impl(k);this.showMessages()};b.refreshRowOutputs=function(k){this.refreshOutputs_impl(k)};b.refreshServerOutputs=function(k){for(var m=k.length,q=0;q<m;q++){var y=k[q],z=gx.fn.getHidden(this.CmpContext+
y.fld);void 0!=z&&((y=this.getValidStructFld(y.fld))&&y.v2v?(y.v2v(z),gx.fn.v2c(y,z)):this.setVariable(k[q].av,z))}};b.getContextObject=function(k){return null!=this.getValidStructFld(k)&&(k=gx.fn.getControlValue_impl(this.CmpContext+k),null!=k)?k:""};b.getValidStructId=function(k){if(!gx.lang.emptyObject(k))for(var m=this.getControlIds(),q=0;q<m.length;q++){var y=this.getValidStruct(m[q]);if(this.isSameField(y,k))return m[q]}return-1};b.getValidStructFld=function(k){if("function"==typeof k||"object"==
typeof k&&k.tagName)k="object"==typeof k&&"radio"===k.type&&k.name?k.name:gx.dom.id(k);var m=this.getValidStructFld_cache[k];if(m)return m;if(!gx.lang.emptyObject(k)){m=this.getControlIds();for(var q=m.length,y=0;y<q;y++){var z=this.getValidStruct(m[y]);if(this.isSameField(z,k))return this.getValidStructFld_cache[k]=z}}return this.getValidStructFld_cache[k]=null};b.isSameField=function(k,m){var q=k.fld;if(q==m)return!0;this.IsComponent&&0==m.indexOf(this.CmpContext)&&(m=m.substring(this.CmpContext.length));
0!=k.grid&&(m=m.replace(this.rowPatternRegex,""));this.IsMasterPage&&(q=q.replace(/_MPAGE$/,""),m=m.replace(/_MPAGE$/,""));return q==m};b.getUserFocus=function(){var k=gx.fn.getHidden(this.CmpContext+"GX_FocusControl");if(!gx.lang.emptyObject(k)&&"notset"!=k){var m=gx.dom.byId(k);if(!gx.lang.emptyObject(m)&&!gx.fn.isAccepted(m)){k=gx.csv.cmpCtx;gx.csv.cmpCtx=this.CmpContext;var q=gx.O;gx.O=this;m=gx.fn.firstAcceptedControl(gx.popup.ispopup());gx.O=q;gx.csv.cmpCtx=k;k=gx.lang.emptyObject(m)?"":m.id}}if(gx.lang.emptyObject(k)){if(this.hasMasterPage()&&
(k=this.MasterPage.getUserFocus(),!gx.lang.emptyObject(k)))return k;m=[];for(q=0;q<this.WebComponents.length;q++)if(0==this.WebComponents[q].CmpContext.indexOf("MP"))m.push(this.WebComponents[q]);else if(k=this.WebComponents[q].getUserFocus(),!gx.lang.emptyObject(k))return k;for(q=0;q<m.length&&(k=m[q].getUserFocus(),gx.lang.emptyObject(k));q++);}return k};b.getGridColumn=function(k,m){var q=null,y=gx.fn.controlGridId(k);0!=y&&(m=gx.O.getGridById(y,m))&&(q=m.grid.getColumnByHtmlName(k));return q};
b.hasMasterPage=function(){return null!=this.MasterPage};b.setComponent=function(k){this.CmpControls[k.id.toLowerCase()]=k};b.getComponentByPrefix=function(k){var m=g.map(this.CmpControls,function(q,y){return q.Prefix==k?q:null});return 1==m.length?m[0]:null};b.refreshGrid=function(k){(k=this.getGrid(k))&&k.doRefresh()};b.refreshComponent=function(k){var m=this.getWebComponent(this.CmpContext+this.getComponentData(k).Prefix);m?gx.evt.dispatcher.dispatch("REFRESH",m):(m=gx.fn.controlGridId(k),0!==
m&&(m=gx.pO.getWebComponent(this.CmpContext+this.getComponentData(k).Prefix+gx.fn.currentGridRow(m)))&&gx.evt.dispatcher.dispatch("REFRESH",m))};b.getComponentPrefix=function(k){return(k=this.getComponentData(k))?k.Prefix||"":""};b.getComponentData=function(k){return this.CmpControls[k.toLowerCase()]};b.createWebComponent=function(k,m,q,y,z,C,E){C=C||this.getComponentPrefix(k);y||(k=gx.fn.controlGridId(k),y=0!==k?gx.fn.currentGridRow(k):"");z=z||this.CmpContext+"gxHTMLWrp"+C+y;C=this.CmpContext+C;
var J=gx.getObj(C,!1);J?J.startFeedback():(k=gx.dom.byId(z),k.firstChild&&gx.dom.mask(z));k=gx.gen.isJava()&&gx.pO.PackageName&&!gx.text.startsWith(m,"/")?gx.pO.PackageName+".":"";gx.ajax.dynComponent(k+m,q,C,y).done(function(H){H.DynComponentMap||(H.DynComponentMap={});H.DynComponentMap[C+y]=z;gx.ajax.setJsonResponse({response:H,isPostBack:!0,gxObject:J||gx.O,afterCmpLoaded:function(){E&&E(C)}});J?J.endFeedback():gx.dom.unmask(z)})};b.registerComponent=function(k){this.WebComponents[k.CmpContext]=
k;this.WebComponents.push(k)};b.setWebComponent=function(k,m){this.deleteComponent(k.CmpContext,k,!1);m&&this.restoreComponentHiddens(k.CmpContext,m);this.registerComponent(k);k.JustCreated=!0;gx.fn.setHidden(k.CmpContext,k.ServerClass);gx.fx.obs.notify("webcom.render",[k])};b.getWebComponent=function(k){return this.WebComponents[k]};b.deleteComponent=function(k,m,q){q="undefined"==typeof q?!0:q;var y=this.getWebComponent(k);if(y){var z=gx.gen.isJava()&&y.PackageName?y.PackageName+".":"";gx.cache.deleteInlineCode(k+
z+y.ServerClass.toLowerCase());q&&this.deleteComponentHiddens(k);gx.lang.emptyObject(m)||gx.fn.setHidden(m.CmpContext,m.ServerClass);y.ondestroy();delete this.WebComponents[k];m=this.WebComponents.length;for(q=0;q<m;q++)if(this.WebComponents[q].CmpContext==k){this.WebComponents.splice(q,1);break}for(m=gx.attachedControls.length;m--;)gx.attachedControls[m].info.wc===k&&gx.attachedControls.splice(m,1);m=this.WebComponents;for(var C in m)isNaN(parseInt(C))&&0===C.indexOf(k)&&this.deleteComponent(C)}};
b.deleteComponentHiddens=function(k){if(gx.lang.isArray(k)){if(0==k.length)return;k=gx.fn.getCmpRegex("("+k.join("|")+")")}else k=gx.fn.getCmpRegex(k);k=gx.fn.filterHiddens(k,gx.http.viewState);for(var m in k)m&&gx.fn.deleteHidden(m)};b.restoreComponentHiddens=function(k,m){k=gx.fn.getCmpRegex(k);m=gx.fn.filterHiddens(k,m);for(var q in m)q&&gx.fn.setHidden(q,m[q])};b.setCmpContext=function(k){void 0!=k&&(this.IsTypeComponent=!0,""!==k&&(this.IsComponent=!0),this.CmpContext=k)};b.getOldLvl=function(k){for(var m in this.LvlOlds)for(var q=
this.LvlOlds[m],y=q.length,z=0;z<y;z++)if(q[z]==k)return m;return-1};b.refreshDependantGrids=function(k){for(var m=this.Grids.length,q=0;q<m;q++)for(var y=this.Grids[q],z=y.refreshVars,C=z.length,E=0;E<C;E++)if(z[E].fld==k.fld){y.filterVarChanged();break}};b.getCtrlPropertyValue=function(k,m){var q=gx.fn.getCtrlProperty(k,m);void 0===q&&(q=gx.fn.getHidden(k+"_"+m));return q};b.setGrid=function(k){this.Grids[k.gridName]=k;this.GridsUpper[k.gridName.toUpperCase()]=k;var m=this.getGridIdxByName(k.gridName);
-1!=m?this.Grids[m]=k:this.Grids.push(k)};b.getGrid=function(k){k=k||"";return this.Grids[k]||this.GridsUpper[k.toUpperCase()]};b.getGridIdxByProp=function(k){for(var m=this.Grids.length,q=0;q<m;q++)if(k(this.Grids[q]))return q;return-1};b.getGridIdxByName=function(k){return this.getGridIdxByProp(function(m){return m.gridName===k})};b.getGridByBaseName=function(k){var m=this.getGridIdxByProp(function(q){return q.gridName===k||q.grid.GridBaseName===k});return-1===m?null:this.Grids[m]};b.getGridIdx=
function(k){for(var m=this.Grids.length,q=0;q<m;q++)if(this.Grids[q].gridId==k)return q;return-1};b.getGridById=function(k,m){m=m||"";for(var q=this.Grids.length,y=0;y<q;y++){var z=this.Grids[y];if(z.gridId==k&&(!z.parentRow||gx.text.endsWith(m,z.parentRow.gxId)))return z}return null};b.getGridForColl=function(k){k=this.getAllGridsForColl(k);return 0===k.length?null:k[0]};b.getAllGridsForColl=function(k){for(var m=this.Grids.length,q=[],y=0;y<m;y++){var z=this.Grids[y];z.boundedCollName==k&&q.push(z)}return q};
b.getFormBCForVar=function(k){for(var m in this.FormBCs){var q=this.FormBCs[m];if(q&&q.gxvar==k)return q}return null};b.getGridBC=function(k){var m=k;this.IsComponent&&0===k.indexOf(this.CmpContext)&&(m=k.substring(this.CmpContext.length));return this.GridBCs[m]};b.getFormBC=function(k){var m=k;this.IsComponent&&0===k.indexOf(this.CmpContext)&&(m=k.substring(this.CmpContext.length));return this.FormBCs[m]};b.addGridBCProperty=function(k,m,q,y){var z=this.getGridBC(k);"undefined"==typeof z&&(z={},
z.gxvar=y,this.GridBCs[k]=z);this.addBCProperties(z,m,q,y)};b.addBCProperty=function(k,m,q,y){var z=this.getFormBC(k);"undefined"==typeof z&&(z={},z.gxvar=y,this.FormBCs[k]=z);this.addBCProperties(z,m,q,y)};b.addBCProperties=function(k,m,q,y){if(k&&q)if(m instanceof Array)for(var z=m.length,C=function(J){var H=this[q.gxvar];gx.lang.emptyObject(q.hc)||(H=this[q.hc]);if("date"==q.type)H=(new gx.date.gxdate(H)).getString("Y4MD");else if("bitstr"===q.type&&gx.pO.fullAjax){var L=gx.fn.getControlGridRef(q.fld,
q.grid,J);L&&g(L).val()&&(H="gxformdataref:"+L.id)}this.valueToBCProp(this[y],m,q,H,J)},E=0;E<z;E++){if("undefined"==typeof k[m[E]])if(E<z-1)k[m[E]]={};else{k[m[E]]=q;"object"==typeof this[y]&&(q.v2bc=C);break}k=k[m[E]]}else"string"==typeof m&&(k[m]=q)};b.valueToBCProp=function(k,m,q,y,z){try{if(k){var C=m.length,E=z||"",J=z=0,H,L=function(I){if(gx.lang.isArray(I)&&q&&q.grid){var K=gx.fn.getGridObj(q.grid,E&&4===E.length?E:void 0);K=K&&K.grid&&!K.InfiniteScrolling?K.grid.firstRecordOnPage:0;H=E?E:
gx.fn.currentGridRow(q.grid);3<H.length&&(J+=1,H=H.substr(-4*J,4),I=I[Number(K||0)+Number(H)-1])}return I};for(k=L(k);k&&z<C-1;z++)k[m[z]]||(k[m[z]]={}),k=L(k[m[z]]);k&&(z=m.length-1,k[m[z]]=y,void 0!==k[m[z]+"_N"]&&(k[m[z]+"_N"]=0))}}catch(I){gx.dbg.logEx(I,"gxfrmutl.js","valueToBCProp")}};b.bcToScreen=function(k,m){for(var q in k)if("gxvar"!=q)try{if("object"==typeof m[q])this.bcToScreen(k[q],m[q]);else{var y=k[q];(0==y.grid||gx.csv.validatingGrid&&y.grid==gx.csv.validatingGrid.gridId)&&gx.lang.emptyObject(y.hc)&&
void 0!=m[q]&&y.v2v&&(y.v2v(m[q]),gx.fn.v2c(y,m[q]))}}catch(z){gx.dbg.logEx(z,"gxfrmutl.js","bcToScreen")}};b.addGridUCEventHandler=function(k,m,q){gx.lang.emptyObject(this.GridUCsEvts[k])&&(this.GridUCsEvts[k]=[]);this.GridUCsEvts[k].push({e:m,h:q})};b.getGridUCEventHandlers=function(k){k=this.GridUCsEvts[k];return gx.lang.emptyObject(k)?[]:k};b.setGridUCDynProp=function(k,m,q,y,z){this.setGridUCProp(k,m,q,y,z)};b.setGridUCProp=function(k,m,q,y,z){gx.lang.emptyObject(this.GridUCsProps[k])&&(this.GridUCsProps[k]=
[]);this.GridUCsProps[k].push({p:m,h:q,v:y,t:z});"InternalTitle"==m&&(this.GridUCsProps[k].title=y)};b.getGridUCProperties=function(k){k=this.GridUCsProps[k];return gx.lang.emptyObject(k)?[]:k};b.addUsercontrolBinding=function(k,m,q){this.UCBindings[k]||(this.UCBindings[k]={fld:m,uc:[]},this.UCBindingsHiddens[m]=this.UCBindings[k]);gx.util.inArray(q,this.UCBindings[k].uc)||this.UCBindings[k].uc.push(q)};b.setUserControl=function(k){k.ContainerName&&(this.UserControls[k.ContainerName]=k)};b.getUserControl=
function(k){var m=this.UserControls[k];m||""==this.CmpContext||(m=this.UserControls[this.CmpContext+k]);return m};b.getUserControlGrids=function(){return g.map(this.Grids,function(k){if(k.grid&&k.isUsercontrol)return k.grid})};b.execV2CFunctions=function(k,m,q,y){q=void 0===q||q;m||(m=this.UserControls);var z=this;gx.uc.StartRender();g.each(m,function(C,E){!E||z!=E.ParentObject||!q&&E.GridId&&!E.gxGridName||y&&!y(E)||E.updateAndShow(k)});gx.uc.EndRender()};b.execC2VFunctions=function(){g.each(this.UserControls,
function(k,m){try{m.execC2VFunctions()}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","execC2VFunctions")}try{m.saveProperties()}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","execC2VFunctions")}})};b.setMode=function(){gx.fn.setHidden(this.CmpContext+"_MODE",this.Gx_mode);gx.fn.setHidden(this.CmpContext+"Mode",this.Gx_mode)};b.setVariable=function(k,m){var q=this[k]=m;0!=k.indexOf(this.CmpContext)&&gx.fn.setHidden(this.CmpContext+k,m);if(void 0!=this.VarControlMap[k]){var y=this.VarControlMap[k].type;if("date"==
y||"dtime"==y)"string"==typeof m&&(m=new gx.date.gxdate(m),this[k]=m),"date"==y?q=m.getStringWithFmt("Y4MD"):(q=this.VarControlMap[k].decimals,q=m.getStringWithFmt("Y4MD")+" "+m.getTimeString(!0,!0,1<q,12<=q));"decimal"==y&&"."!=gx.decimalPoint?(q=m.toString().replace(".",gx.decimalPoint),"string"==typeof m&&(this[k]=gx.num.parseFloat(m))):"int"==y&&"string"==typeof m&&(this[k]=gx.num.parseInt(m));gx.fn.setHidden(this.CmpContext+this.VarControlMap[k].id,q)}this.isTransaction()&&"Gx_mode"==k&&this.setMode();
void 0!=this.UCBindings[k]&&gx.fn.setHidden(this.CmpContext+this.UCBindings[k].fld,m)};b.getVariable=function(k){return this[k]};b.isServerEvent=function(k){return this.Events[k][1]||!1};b.getServerEventName=function(k){return this.Events[k][0]||""};b.getClientEventName=function(k){for(var m in this.Events)if(this.Events[m][0]==k)return m;return""};var d={RFR:"REFRESH",RFR_MPAGE:"REFRESH"},c=[".CONTROLVALUECHANGED",".CONTROLVALUECHANGING"],f=function(k){for(var m=0;m<c.length;m++)if(0<=k.indexOf(c[m]))return!1;
return!0};b.cleanEventName=function(k){k=k.replace(new RegExp("^"+this.CmpContext),"");var m=(gx.pO.fullAjax?/^E('?(.*)\.?'?)/:/^E('?(\w+)\.?([^\.]*)'?)/).exec(k);k=m&&m.length&&1<m.length?m[1].replace(/\.\d*$/,""):k;return d[k]||k};b.inputHasFormatErrors=function(k,m,q){var y=this;m=this.cleanEventName(k);var z,C,E=!1;k=gx.csv.anyFormatError();var J;if(!this.fullAjax&&k)return!0;if(!k||!this.EvtParms[m]||!f(m))return!1;q=this.EvtParms[m][0];var H=this,L=function(N,O,P){var Q=O||Q,R=P||R;if(N)if(Q&&
R&&N.grid==Q){if((z=gx.fn.getControlGridRef(N.fld,Q,R))&&z.id&&void 0!==gx.csv.gxFormatErrors[z.id])return!0}else if((z=gx.fn.getControlGridRef(N.fld,N.grid))&&z.id)for(J in gx.csv.gxFormatErrors)if(N==H.getValidStructFld(J))return!0;return!1};m=0;for(len=q.length;m<len&&!E;m++){var I=q[m];if(I.postForm)return k;if(I.fld)if(C=this.getValidStructFld(I.fld))E=E||L(C);else{var K=this.getFormBCForVar(I.av);if(null!=K)for(var M in K)C=K[M],"object"===typeof C&&(E=E||L(C));(I=gx.O.getAllGridsForColl(I.av))&&
I.some(function(N){var O=N.gridId;gx.O.GXValidFnc.filter(function(P){return P.grid===O}).forEach(function(P){(C=y.getValidStructFld(P.fld))&&N.grid.rows.forEach(function(Q){E=E||L(C,O,Q.gxId)});return E})})}}return E};b.setEventParameters=function(k,m){gx.csv.lastEvtRow=null;gx.O=this;var q=!0,y=-1;gx.csv.cmpCtx=this.CmpContext;for(var z=k.length,C=0;C<z;C++){var E=k[C][0],J=k[C][1],H=k[C][2],L=!1;if(m instanceof x)this.setVariable(H,m.parms[C]),L=!0;else for(var I in m)if(I.toLowerCase()==E.toLowerCase()){this.setVariable(H,
m[I]);L=!0;break}L||this.setVariable(H,m);E=this.getValidStructFld(J);null!=E?(0!=E.grid&&-1==y?y=E.grid:0!=E.grid&&E.grid!=y&&(q=!1),gx.fn.v2c(E)):gx.fn.setHidden(this.CmpContext+J,this.getVariable(H))}q&&(gx.csv.lastEvtRow=gx.fn.currentGridRowImpl(y))};b.executeEvent=function(k,m,q,y,z){gx.O=this;gx.csv.cmpCtx=this.CmpContext;var C=this.getClientEventName(k);(C?this.isServerEvent(C):1)?(z?(C=this.getGrid(z))&&q?C.instanciateRow(q):gx.csv.instanciatedRowGrid=null:gx.csv.instanciatedRowGrid=null,
k=this.executeServerEvent(k,m,q,y,this.fullAjax&&!q&&!z)):k=gx.evt.execCliEvt(this.CmpContext,this.IsMasterPage,C,z,q,"");gx.csv.instanciatedRowGrid=null;return k};b.executeClientEvent=function(k,m){var q=gx.$.Deferred();Promise.resolve(k.apply(this,m)).then(function(y){q.resolve()});return q.promise()};b.executeServerEvent=function(k,m,q,y,z){var C=g.Deferred();gx.csv.cmpCtx=this.CmpContext;var E=!0;void 0!=m&&0==m&&(E=!1);(m=null!=q&&(gx.csv.validatingGrid||gx.csv.instanciatedRowGrid))&&m.parentObject!=
this&&(m=null);var J=gx.lang.emptyObject(m)?!1:m.gridId;q=q||gx.csv.lastEvtRow||"";z?(q="",J=null):(""==q&&J&&(q=gx.csv.lastRow[J]),"undefined"==typeof q&&(q=gx.fn.currentGridRowImpl(m.gridId)));gx.evt.execEvt(this.CmpContext,this.IsMasterPage,this.CmpContext+"E"+k+"."+(q||""),gx.evt.dummyCtrl,J,E,null,null,function(){C.resolve()},y,function(){C.resolve()},!1);return C.promise()};b.executeEnterEvent=function(k,m,q){var y=this.gxOWithEnter(m),z=!1;if(m&&m.onblur)m.onblur();if((gx.pO.fullAjax||null==
y)&&k&&gx.evt.cancelAndRefresh(k)){if(null==y||y.autoRefresh||!y.hasEnterEvent||y.anyGridBaseTable)return;z=!0}k?(gx.dom.hasSubmitControl()&&gx.evt.cancel(k,!0),m&&"INPUT"==m.nodeName&&gx.dom.isEditControl(m)&&gx.evt.cancel(k,!0)):z=!0;if(null!=y){var C="ENTER";y.IsMasterPage&&(C+="_MPAGE");C=y.CmpContext+"E"+C+".";if(m&&gx.evt.isEnterEvtCtrl(m)){var E=gx.fn.controlRowId(m);var J=gx.fn.controlGridId(m.id);E&&(C+=E)}gx.evt.execEvt(y.CmpContext,y.IsMasterPage,C,gx.evt.dummyCtrl,J,!1,null,q,null,z,void 0,
null!=y);k&&gx.evt.cancel(k,!0)}};b.gxOWithEnter=function(k){if(k&&(k=gx.fn.getControlContext(k))&&k.hasEnterEvent)return k;if(this.hasEnterEvent)return this;if(this.IsComponent){k=this.getCmpType(this.CmpContext);var m=""==k[1]&&0==k[0].indexOf("MP");k=gx.getObj(k[1],m);if(!gx.lang.emptyObject(k))return k.gxOWithEnter()}else if(this.hasMasterPage())return this.MasterPage.gxOWithEnter();return null};b.getLastControlId=function(){return this.GXLastCtrlId};b.getValidStruct=function(k){return this.GXValidFnc[k]};
b.getControlIds=function(){return this.GXCtrlIds};b.getControlIdsh=function(){return this.GXCtrlIdsh};b.getUsercontrolFromChild=function(k){g.each(this.UserControls,function(m,q){m=q.getContainerControl();if(gx.dom.isChildNode(k,m))return q});return null};b.installFlatLevelDatePickers=function(){for(var k,m=this.getControlIds(),q=m.length,y=0;y<q;y++)k=this.getValidStruct(m[y]),void 0!=k&&0==k.grid&&void 0!=k.dp&&gx.fn.installDatePicker(this.CmpContext+k.fld,k,this,k.dp.f,k.dp.st,k.dp.wn,k.dp.mf,
gx.fn.datePickerFormat(k.dp.pic,k.dp.dec,k.len),k.len,k.dp.dec)};b.installImageControls=function(){for(var k=gx.dom.byClass(gx.html.multimediaUpload.gxCssClass),m=0,q=k.length;m<q;m++)gx.html.multimediaUpload.createControl(k[m]);k={};this.IsComponent&&(m=gx.pO.getWebComponent(this.CmpContext),k.observerKey=m&&m.getContainer()&&m.getContainer().id);gx.fx.obs.addObserver("gx.multimedia.clear",this,this.clearMultimediaValue,k)};b.initControlsEnabledFlag=function(k){if("bits"!=k.type&&"audio"!=k.type&&
"video"!=k.type&&(k=gx.fn.getControlRef(k.fld))){var m=gx.http.viewState[gx.dom.id(k)+"_Enabled"];void 0!==m&&gx.fn.setEnabledProperty(k,gx.lang.gxBoolean(m),!1)}};b.initControlsBehaviour=function(){var k=this;g.each(gx.O.GXValidFnc,function(m,q){q&&q.fld&&(k.initControlsEnabledFlag(q),q.gxsgprm&&(m=gx.fn.getControlRef(q.fld))&&gx.fx.installSuggest(m))})};var l=function(k){if(gx.lang.emptyObject(k))return!1;try{var m=new Function(gx.text.contains(k.toLowerCase(),"return")?k:"return "+k)}catch(q){return gx.lang.doEval(k)}try{return m()}catch(q){gx.dbg.logEx(q,
"gxfrmutl.js","evaluateCode")}return!1},n=function(k){var m=k.tagName.toLowerCase();return"img"==m||"input"==m?g(k).attr(gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR):g("a["+gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR+"]",k).attr(gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR)},p=function(){var k={select:!0,textarea:!0},m=gx.lang.apply({radio:!0,checkbox:!0,file:!0},gx.dom.editControls);return function(q,y){y=void 0===y?!1:y;if(!q)return!1;var z=q.tagName.toLowerCase(),C=[].slice.call(q.children);return(k.a=y)&&
C.some(function(E){return p(E,y)})||("input"==z?m[q.type.toLowerCase()]:k[z])}}(),t=function(k){return k&&"label"==k.tagName.toLowerCase()&&(k=k.getAttribute("for"))?(k=gx.dom.el(k),p(k)&&gx.fn.isVisible(k,0)):!1},v=function(k){if("keypress"!==k.type||13===k.keyCode||32===k.keyCode&&gx.dom.isButton(k))if("keypress"===k.type&&(gx.evt.processing||gx.evt.redirecting))k.preventDefault();else{var m=k.target,q=g(m),y=g(k.currentTarget);gx.dom.isRoundedBtnWrapper(q)&&(q=q.find("input"),y=y.find("input"));
var z=gx.fn.getControlContext(y);if(!m||"A"!==m.tagName.toUpperCase()||void 0!==g(m).attr(gx.GxObject.GX_EVENT_DATA_ATTR)||!m.href)if(!z)k.preventDefault();else if(!y.hasClass("gx-disabled")&&(!p(m)&&!t(m)||g(m).is(y))&&!gx.dom.hasAttribute(m,gx.GxObject.GX_EVENT_EVENT_IN_PROGRESS)){k.stopPropagation();var C=function(){var E=y.attr(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR);gx.util.browser.isOldIE()&&!gx.util.browser.isWinCE()?r.apply(this,[k,q,z,E]):u.apply(this,[k,q,z,E])};gx.wr(function(){gx.evt.doAfterProcessing(C,
this)},this)}}},u=function(k,m,q,y){if(!m[0]||"button"!==m[0].type||!m[0].disabled){var z=function(){gx.csv.resetRow();var E=q.getValidStructFld(y);E&&E.grid&&gx.evt.setEventRow(q,m.get(0))},C=function(){z();m.removeAttr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR);q.handleControlEvent(k,y,this)}.closure(this);gx.fx.dom.delayedDispatch(k)?m.attr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR)?(z(),gx.fx.dom.raiseEvent("dblclick",k)):(C=setTimeout(C,gx.config.evt.dblclick.delay),m.attr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR,
C)):C.call()}},r=function(k,m,q,y){if(!m.attr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR)){var z=function(){gx.csv.resetRow();var C=q.getValidStructFld(y);C&&C.grid&&gx.evt.setEventRow(q,m.get(0));m.removeAttr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR);q.handleControlEvent(k,y,this)}.closure(this);gx.fx.dom.delayedDispatch(k)?(z=setTimeout(z,gx.config.evt.dblclick.delay),m.attr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR,z)):z.call()}},w=function(k,m,q){try{q&&k.preventDefault(),m&&k.stopPropagation()}catch(y){}};
b.handleControlEvent=function(k,m,q){var y=this.controlEventMap;if(y[m]){var z=y[m],C=y[m].evt;m=this.Events[C]?this.Events[C][0]:y[m].std;var E=a(q,gx.GxObject.GX_EVENT_DATA_ATTR),J=a(q,gx.GxObject.GX_EVENT_CODE_DATA_ATTR),H=n(q);y=0<z.grid?gx.fn.controlRowId(k.currentTarget):null;var L=this.getGridById(z.grid,y);C=!0;var I=!1,K=g(k.target);if(!gx.util.inArray(z.ctrltype,gx.GxObject.GX_EVENT_EXCLUDED_CTRLTYPES))switch(E){case "1":w(k,!0,!0);H&&!l(H)||gx.fn.closeWindow();break;case "3":case "4":w(k,
!0,!0);J&&l(J);break;case "8":gx.ajax.doRefresh(this);break;default:if(!H||l(H)){if(L)var M=L.gridName;"checkbox"===z.ctrltype&&(gx.fn.checkboxClick(z,q,z.values[0],z.values[1]),C=!1,I=!0);if(m){z=m.substring(m.indexOf(".")+1,m.length).toLowerCase();E=k.type.toLowerCase();if(z.includes("click")&&!E.includes("click")&&k.currentTarget&&"textarea"===k.currentTarget.type)break;K.attr(gx.GxObject.GX_EVENT_EVENT_IN_PROGRESS,!0);this.executeEvent(m,!1,y,!1,M).always(function(N){var O=function(){g(N).attr(gx.GxObject.GX_EVENT_EVENT_IN_PROGRESS,
null)};gx.evt.redirecting?O():gx.spa.isNavigatingRaw()?gx.spa.addObserver("onnavigate",this,O,{single:!0}):O()}.closure(this,[K]))}if(I)gx.evt.onchange(q)}gx.dom.isRadio(q)||w(k,!0,C)}}};b.registerCtrlsEventHandlers=function(){var k,m=this.GXCtrlIds,q=this.GXValidFnc,y=this.IsMasterPage,z=this.CmpContext,C=y?"_MPAGE":"",E="["+gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR+"]",J=!z&&!y;void 0===this.listeningControlEvents&&(this.listeningControlEvents=!1);this.controlEventMap||(this.controlEventMap={});var H=
this.controlEventMap;var L=0;for(k=m.length;L<k;L++){var I=q[m[L]];var K=gx.fn.controlFiresEvent(I);var M=this.hasEnterEvent&&!gx.lang.emptyObject(I.ctrltype)||I.evt_cvc||I.evt_cvcing;if(K||M)if(K&&(H[I.fld]=I),0===I.grid&&I.fld){var N=z+I.fld+(I.gxvar?"":C);M="#span_"+N;N="radio"===I.ctrltype?"[name="+N+"]":"#"+N;try{var O=I.gxvar&&0<g(M).length?g(M):g(N)}catch(P){gx.dbg.logEx(P,"gxfrmutl.js","registerCtrlsEventHandlers")}K&&(O.attr(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,I.fld),O.is("img")&&O.attr("tabindex",
"0"),p(O.get(0),!0)||O.attr("tabindex","0"));O.attr(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,gx.json.serializeJson([z,y]))}}J&&!this.listeningControlEvents&&(this.listeningControlEvents=!0,g(document.body).on("click keypress",E,v),g(E).each(function(){for(var P=g(this).parent().first();gx.dom.isRoundedBtnWrapper(P);)P.on("click keypress",null,v),P=P.parent().first()}))};b.unregisterCtrlsEventHandlers=function(){this.listeningControlEvents&&g(document.body).off("click keypress",v);this.listeningControlEvents=
!1};b.clearMultimediaValue=function(k){k=gx.html.multimediaUpload.getElements(k);k.fileField.onchange(k.fileField);gx.fn.setHidden(k.fileField.id,"");gx.fn.setHidden(k.uriField.id,"");gx.fn.setHidden(k.fileField.id+"_gxBlob","")};b.refreshOlds=function(){for(var k in this.LvlOlds){var m=this.LvlOlds[k];if("function"!=typeof m){var q=gx.fn.lvlGrid(parseInt(k,10));if(0!=q){var y=gx.fn.currentGridRow(q);if("9999"===y)continue}q=m.length;for(var z=0;z<q;z++){var C=m[z],E=C,J="",H=gx.fn.vStructForOld(E);
if(H){if(!H.gxgrid||0<H.gxgrid.grid.rows.length)J=gx.typedOld(H.fld,E,H.type)}else gx.lang.emptyObject(y)||(C+="_"+y),J=gx.fn.getHidden(this.CmpContext+C);"undefined"!=typeof J&&(H||(window[E]=J),this[E]=J)}}}};var x=function(k){this.parms=k;return this};b.refreshExoEventControls=function(k){var m=this;k="GLOBALEVENTS."+k.toUpperCase();(this.EvtParms[k]?this.EvtParms[k][0]:[]).forEach(function(q){if(q=q.fld?m.getValidStructFld(q.fld):null){var y=gx.fn.currentGridRowImpl(q.grid);"function"==typeof q.c2v&&
"function"==typeof q.val&&(q.val(y)&&q.c2v(y),gx.fn.call_v2bc(q,m));!0===q.isuc&&(q.getUCInstance(y)||q.uc).execC2VFunctions()}})};b.addExoEventHandler=function(k,m){var q=function(){var y=gx.O;gx.setGxO(this);this.refreshExoEventControls(k);m.call(this,null,null,new x(Array.prototype.slice.call(arguments,0)));gx.setGxO(y)};gx.fx.obs.addObserver(k,this,q);this.exoEventHandlers=this.exoEventHandlers||{};this.exoEventHandlers[k]=q};b.deleteExoEventHandlers=function(){for(var k in this.exoEventHandlers)this.exoEventHandlers.hasOwnProperty(k)&&
gx.fx.obs.deleteObserver(k,this,this.exoEventHandlers[k])};b.restoreExoEventHandlers=function(){for(var k in this.exoEventHandlers)gx.fx.obs.addObserver(k,this,this.exoEventHandlers[k])};b.deleteEventHandlers=function(){try{this.unregisterCtrlsEventHandlers(),gx.fx.ctx.deleteHandlers(this),gx.fx.dnd.deleteHandlers(this),this.deleteExoEventHandlers(),gx.fx.dom.deleteEventHandlers(this)}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","deleteEventHandlers")}};b.ondestroy=function(){try{this.endFeedback(),this.deleteEventHandlers(),
g.each(this.UserControls,function(k,m){if(!gx.lang.emptyObject(m.destroy))try{m.destroy()}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","ondestroy")}}),this.UserControls=[],delete this.containerControl}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","ondestroy")}};b.onpost=function(){var k=gx.O;gx.setGxO(this);if(this.hasMasterPage())this.MasterPage.onpost();for(var m=this.WebComponents.length,q=0;q<m;q++)this.WebComponents[q].onpost();this.ReadonlyForm&&this.IsComponent&&k!=this&&this.roControlsAsHidden();this.execC2VFunctions();
gx.setGxO(k)};b.roControlsAsHidden=function(){for(var k=this.getControlIds(),m=k.length,q=0;q<m;q++){var y=this.getValidStruct(k[q]);if(0==y.grid&&"function"==typeof y.val){y=this.CmpContext+y.fld;var z=gx.dom.el(y);z&&!gx.fn.isAccepted(z)&&gx.fn.setHidden(y,gx.fn.getControlValue(y))}}};b.onload=function(k,m){g.Deferred();var q=[];gx.dbg.logPerf("objectOnload_"+this.CmpContext+this.ServerClass);gx.setGxO(this);this.screenToVars();gx.wmp(function(){this.hasMasterPage()&&(this.MasterPage.onload(),gx.setGxO(this))},
this);var y=this.Grids.length;if(!1!==k)for(var z=0;z<y;z++)q.push(this.Grids[z].loadGrid());y=this.WebComponents.length;for(z=0;z<y;z++)q.push(this.WebComponents[z].onload(k));m?this.afterLoad():gx.wr(this.afterLoad.closure(this),this);gx.dbg.logPerf("objectOnload_"+this.CmpContext+this.ServerClass);var C=this;g.when.apply(g,q).done(function(){C.execV2CFunctions(!0,void 0,!1,function(E){return E.ownerGrid&&E.ownerGrid.parentGrid});C.onLoadDeferred.resolve()})};b.afterLoad=function(){gx.dbg.logPerf("objectAfterLoad_"+
this.CmpContext+this.ServerClass);gx.setGxO(this);this.installFlatLevelDatePickers();this.installImageControls();this.refreshOlds();this.initControlsBehaviour();this.execV2CFunctions(!0,void 0,!1);this.JustCreated=!1;this.registerCtrlsEventHandlers();gx.$.map(gx.$("input[data-gx-disable], select[data-gx-disable]",this.getContainer()),function(k,m){gx.fn.disableCtrl(k.getAttribute("data-gx-disable"));k.removeAttribute("data-gx-disable")});this===gx.pO&&(gx.ui.controls.actionGroup.init(),gx.dom.indexElements(),
gx.fn.doAttachs());gx.dbg.logPerf("objectAfterLoad_"+this.CmpContext+this.ServerClass);gx.goOnload()};b.onunload=function(k){if(this.hasMasterPage()&&!1!==k)this.MasterPage.onunload();k=this.Grids.length;for(--k;0<=k;k--)delete this.Grids[this.Grids[k].gridName],this.Grids[k].cleanup(),this.Grids.splice(k,1);k=this.WebComponents.length;for(--k;0<=k;k--)delete this.WebComponents[this.WebComponents[k].CmpContext],this.WebComponents[k].onunload(),this.WebComponents.splice(k,1);this.getValidStructFld_cache=
{};gx.fn.cleanAttachedCtrls();this.ondestroy()};b.clean=function(k){this.cleanHiddens();this.onunload(k)};b.cleanHiddens=function(){gx.http.clearState();gx.http.clearMultipartHidden()};b.screenToVars=function(){try{for(var k=this.getControlIds(),m=k.length,q=0;q<m;q++){var y=this.getValidStruct(k[q]);y&&0==y.lvl&&"function"==typeof y.c2v&&y.c2v()}}catch(z){gx.dbg.logEx(z,"gxfrmutl.js","screenToVars")}};b.postbackLoad=function(k,m){var q=this.IsComponent&&this.JustCreated;this.hasMasterPage()&&this.MasterPage.postbackLoad(k);
for(var y=this.WebComponents.length,z=0;z<y;z++)this.WebComponents[z].postbackLoad(k);q&&(this.installImageControls(),this.installFlatLevelDatePickers(),this.registerCtrlsEventHandlers());this.execV2CFunctions(!0,q?!1:k);this.conditionsChanged=this.JustCreated=!1;this===gx.pO&&gx.fn.doAttachs(m);gx.goOnload();this.onLoadDeferred.resolve()};b.addDragSource=function(k,m,q,y){gx.fx.dnd.addSource(this,k,m,q,y)};b.addDropTarget=function(k,m,q,y){gx.fx.dnd.addTarget(this,k,m,q,y)};b.addContextSetter=function(k,
m,q,y){gx.fx.ctx.addSetter(this,k,m,q,y)};b.addContextTracker=function(k,m,q,y){gx.fx.ctx.addTracker(this,q,y)};b.addOnMessage=function(k,m,q,y,z){gx.fx.notifications.addTracker(this,k,m,q,y,z)};b.addEventHandler=function(k,m,q){gx.fx.dom.addEventHandler(this,k,m,q)};b.updateBitmapValue=function(k,m,q,y){k=gx.html.multimediaUpload.getContainer(k);"file"==gx.html.multimediaUpload.getOptionValue(k)?this[m]=y:this[q]=y};b.getFeedbackContainer=function(){return this==gx.pO||gx.pO.MasterPage&&this==gx.pO.MasterPage?
document.body:this.getContainer()};b.startFeedback=function(k,m){this.feedbackCallCounter++;m&&gx.fn.disableKeys();var q=!0===k?0:gx.getNotificationDelay();var y=function(){var z=this.getFeedbackContainer();z&&gx.dom.mask(z,q)};1==this.feedbackCallCounter&&(0===q?y.call(this):this.feedbackTimeoutId||(y=gx.lang.doCallTimeout(y,this,arguments,q),this.feedbackTimeoutId=y.t))};b.endFeedback=function(){gx.fn.enableKeys();0<this.feedbackCallCounter&&this.feedbackCallCounter--;if(0==this.feedbackCallCounter){this.feedbackTimeoutId&&
(clearTimeout(this.feedbackTimeoutId),this.feedbackTimeoutId=!1);var k=this.getFeedbackContainer();k&&gx.dom.unmask(k)}};b.isFeedbackOn=function(){return 0<this.feedbackCallCounter};(function(){var k=9996,m=this;return function(q){var y="MPW"+k++,z=m.CmpContext+"gxHTMLWrp"+y;m.setComponent({id:B(q),GXClass:null,Prefix:y,lvl:1});return g('<div class="gx-call-target '+q+' off empty"><div class="'+gx.GxObject.WEBCOMPONENT_CLASS_NAME+'" id="'+z+'"></div></div>')}}).call(this);var B=function(k){return"GX-"+
k.toUpperCase()+"-TARGET"};b.initSingleTarget=function(k){var m="MPW"+this.targetsCounter++,q=this.CmpContext+"gxHTMLWrp"+m;this.setComponent({id:B(k),GXClass:null,Prefix:m,lvl:1});return g('<div class="gx-call-target '+k+' off empty"><div class="'+gx.GxObject.WEBCOMPONENT_CLASS_NAME+'" id="'+q+'"></div></div>')};b.initTargets=function(){if(gx.pO&&gx.pO.fullAjax&&this.IsMasterPage){var k=g(gx.dom.form());var m=k.children("[data-abstract-form]").first();m.length||(m=g("<div></div>"),m.append(k.children()),
k.append(m));k=m.addClass("gx-center-target");m=this.initSingleTarget("top");var q=this.initSingleTarget("right");var y=this.initSingleTarget("bottom");var z=this.initSingleTarget("left");g('<div id="gx-column-targets"></div>').insertBefore(k).append(z).append(k).append(q).before(m).after(y)}};b.createObjectInTarget=function(k,m,q){k=k.toLowerCase();var y=A(k);this.createWebComponent(B(k),m,q,void 0,void 0,void 0,function(z){this.targetComponents=this.targetComponents||{};(z=gx.pO.getWebComponent(z))&&
(this.targetComponents[k]=z)});g(y.selector).removeClass("empty")};b.restoreTargetComponents=function(){var k;this.targetComponents=this.targetComponents||{};for(k in this.targetComponents)this.targetComponents.hasOwnProperty(k)&&gx.pO.registerComponent(this.targetComponents[k])};var A=function(k){return{selector:".gx-call-target."+k,centerSelector:".gx-center-target"}},D,F={useCapture:!0};b.showTarget=function(k,m){k=k.toLowerCase();var q=A(k),y=q.selector,z=q.centerSelector;g(q.selector).removeClass("empty");
g(y).removeClass("off");g(z).addClass("slideout "+k);g(document.documentElement).addClass("gx-blocking");gx.fx.obs.notify("gx.targetshown",[k]);if(!1!==m){D=function(E){g(E.target).closest(y).length||g(E.target).is(y)||!g(y).is(":visible")||(C.call(this),E.stopImmediatePropagation(),E.preventDefault())}.closure(this);var C=function(){this.hideTarget(k)};gx.evt.attach(document,"click",D,!1,F);gx.spa.addObserver("onnavigate",this,C)}};b.hideTarget=function(k){k=k.toLowerCase();var m=A(k),q=m.centerSelector;
g(m.selector).addClass("off");g(q).removeClass("slideout "+k);g(document.documentElement).removeClass("gx-blocking");gx.evt.detach(document,"click",D,F);gx.fx.obs.notify("gx.targethidden",[k])};b.collapseTarget=function(k){k=k.toLowerCase();var m=A(k),q=m.selector;m=m.centerSelector;this.showTarget(k,!1);g(q).addClass("collapsed");g(m).addClass("collapsed");gx.fx.obs.notify("gx.targetcollapsed",[k])};b.expandTarget=function(k){k=k.toLowerCase();var m=A(k),q=m.selector;m=m.centerSelector;this.showTarget(k,
!1);g(q).removeClass("collapsed");g(m).removeClass("collapsed");gx.fx.obs.notify("gx.targetexpanded",[k])};var G=function(k,m){k=Array.prototype.slice.call(k,0);k.push(m);return k};b.validSrvEvt=function(){return gx.ajax.validSrvEvt.apply(gx.ajax,G(arguments,this))};b.validCliEvt=function(){return gx.ajax.validCliEvt.apply(gx.ajax,G(arguments,this))}})(gx.$);gx.lang.apply(gx.GxObject.prototype,new gx.util.Observable);
gx.printing=function(g){return{IFrameId:"gxprintHelper_Iframe",print:function(a){this.printDirect(a)},printDirect:function(a){if(a){gx.printing._deinit();var b=g("<iframe>");b.attr("id",gx.printing.IFrameId).css({visibility:"hidden",position:"absolute",top:"-1000px",left:"-1000px"});g(document.body).append(b);b[0].onload=function(){this.contentWindow.print()};b.attr("src",a.reportFile)}},_deinit:function(){g("#"+gx.printing.IFrameId).remove()}}}(gx.$);
gx.thread={Map:function(){this.map={};this.add=function(g,a){this.map[g]=a};this.remove=function(g){delete this.map[g]};this.get=function(g){return null==g?null:this.map[g]};this.first=function(){return this.get(this.nextKey())};this.next=function(g){return this.get(this.nextKey(g))};this.nextKey=function(g){for(var a in this.map){if(!g)return a;g==a&&(g=null)}return null}},Command:function(g,a,b){gx.thread.Command.LastID||(gx.thread.Command.LastID=0);this.id=++gx.thread.Command.LastID;this.execute=
function(){a.apply(g,b)};this.syncExecute=function(){new gx.thread.Mutex(this,"execute")}},Mutex:function(g,a,b,d){gx.thread.Mutex.Wait||(gx.thread.Mutex.Wait=new gx.thread.Map);gx.thread.Mutex.SLICE=function(c,f){gx.thread.Mutex.Wait.get(c).attempt(gx.thread.Mutex.Wait.get(f))};this.attempt=function(c){for(var f;c;c=gx.thread.Mutex.Wait.next(c.c.id))if(c.enter||c.number&&(c.number<this.number||c.number==this.number&&c.c.id<this.c.id))return setTimeout("gx.thread.Mutex.SLICE("+this.c.id+","+c.c.id+
")",10);try{f=this.c.execute()}catch(l){gx.dbg.logEx(l,"gxfrmutl.js","Mutex Call")}this.number=0;gx.thread.Mutex.Wait.remove(this.c.id);if("function"==typeof d)try{d.call(g,f)}catch(l){gx.dbg.logEx(l,"gxfrmutl.js","Mutex CallBack")}};this.c=new gx.thread.Command(g,a,b);gx.thread.Mutex.Wait.add(this.c.id,this);this.enter=!0;this.number=(new Date).getTime();this.enter=!1;this.attempt(gx.thread.Mutex.Wait.first())}};
gx.sec={key:null,iv:null,keyName:"GX_AJAX_KEY",ivName:"GX_AJAX_IV",secToken:null,secTokenName:"AJAX_SECURITY_TOKEN",loadKey:function(){var g=gx.fn.getHidden(this.keyName);gx.lang.emptyObject(g)?this.key=null:this.key=g;null!=this.key&&this.loadSecToken();this.iv=gx.fn.getHidden(this.ivName)},loadSecToken:function(){var g=gx.fn.getHidden(this.secTokenName);gx.lang.emptyObject(g)?this.secToken=null:this.secToken=g},encrypt:function(g,a){try{if(a=null==a?this.key:a,null!=a){var b=this.rijndael;a=b.hexToByteArray(a);
var d=null!=this.iv?b.rijndaelEncrypt(g,a,"CBC",b.hexToByteArray(this.iv)):b.rijndaelEncrypt(g,a);return b.byteArrayToHex(d)}}catch(c){gx.dbg.logEx(c,"gxfrmutl.js","encrypt")}return g},decrypt:function(g,a){try{if(a=null==a?this.key:a,null!=a){var b=this.rijndael;a=b.hexToByteArray(a);var d=b.hexToByteArray(g),c=b.rijndaelDecrypt(d,a,"CBC");return b.byteArrayToString(c)}}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","decrypt")}return g},_init:function(){this.rijndael._init()}};
gx.MD5={RotateLeft:function(g,a){return g<<a|g>>>32-a},AddUnsigned:function(g,a){var b=g&2147483648;var d=a&2147483648;var c=g&1073741824;var f=a&1073741824;g=(g&1073741823)+(a&1073741823);return c&f?g^2147483648^b^d:c|f?g&1073741824?g^3221225472^b^d:g^1073741824^b^d:g^b^d},F:function(g,a,b){return g&a|~g&b},G:function(g,a,b){return g&b|a&~b},H:function(g,a,b){return g^a^b},I:function(g,a,b){return a^(g|~b)},FF:function(g,a,b,d,c,f,l){g=gx.MD5.AddUnsigned(g,gx.MD5.AddUnsigned(gx.MD5.AddUnsigned(gx.MD5.F(a,
b,d),c),l));return gx.MD5.AddUnsigned(gx.MD5.RotateLeft(g,f),a)},GG:function(g,a,b,d,c,f,l){g=gx.MD5.AddUnsigned(g,gx.MD5.AddUnsigned(gx.MD5.AddUnsigned(gx.MD5.G(a,b,d),c),l));return gx.MD5.AddUnsigned(gx.MD5.RotateLeft(g,f),a)},HH:function(g,a,b,d,c,f,l){g=gx.MD5.AddUnsigned(g,gx.MD5.AddUnsigned(gx.MD5.AddUnsigned(gx.MD5.H(a,b,d),c),l));return gx.MD5.AddUnsigned(gx.MD5.RotateLeft(g,f),a)},II:function(g,a,b,d,c,f,l){g=gx.MD5.AddUnsigned(g,gx.MD5.AddUnsigned(gx.MD5.AddUnsigned(gx.MD5.I(a,b,d),c),l));
return gx.MD5.AddUnsigned(gx.MD5.RotateLeft(g,f),a)},ConvertToWordArray:function(g){var a=g.length;var b=a+8;for(var d=16*((b-b%64)/64+1),c=Array(d-1),f,l=0;l<a;)b=(l-l%4)/4,f=l%4*8,c[b]|=g.charCodeAt(l)<<f,l++;b=(l-l%4)/4;c[b]|=128<<l%4*8;c[d-2]=a<<3;c[d-1]=a>>>29;return c},WordToHex:function(g){var a="",b;for(b=0;3>=b;b++){var d=g>>>8*b&255;d="0"+d.toString(16);a+=d.substr(d.length-2,2)}return a},Utf8Encode:function(g){g=g.replace(/\r\n/g,"\n");for(var a="",b=0;b<g.length;b++){var d=g.charCodeAt(b);
128>d?a+=String.fromCharCode(d):(127<d&&2048>d?a+=String.fromCharCode(d>>6|192):(a+=String.fromCharCode(d>>12|224),a+=String.fromCharCode(d>>6&63|128)),a+=String.fromCharCode(d&63|128))}return a},getHsh:function(g){var a;g=gx.MD5.Utf8Encode(g);g=gx.MD5.ConvertToWordArray(g);var b=1732584193;var d=4023233417;var c=2562383102;var f=271733878;for(a=0;a<g.length;a+=16){var l=b;var n=d;var p=c;var t=f;b=gx.MD5.FF(b,d,c,f,g[a+0],7,3614090360);f=gx.MD5.FF(f,b,d,c,g[a+1],12,3905402710);c=gx.MD5.FF(c,f,b,
d,g[a+2],17,606105819);d=gx.MD5.FF(d,c,f,b,g[a+3],22,3250441966);b=gx.MD5.FF(b,d,c,f,g[a+4],7,4118548399);f=gx.MD5.FF(f,b,d,c,g[a+5],12,1200080426);c=gx.MD5.FF(c,f,b,d,g[a+6],17,2821735955);d=gx.MD5.FF(d,c,f,b,g[a+7],22,4249261313);b=gx.MD5.FF(b,d,c,f,g[a+8],7,1770035416);f=gx.MD5.FF(f,b,d,c,g[a+9],12,2336552879);c=gx.MD5.FF(c,f,b,d,g[a+10],17,4294925233);d=gx.MD5.FF(d,c,f,b,g[a+11],22,2304563134);b=gx.MD5.FF(b,d,c,f,g[a+12],7,1804603682);f=gx.MD5.FF(f,b,d,c,g[a+13],12,4254626195);c=gx.MD5.FF(c,f,
b,d,g[a+14],17,2792965006);d=gx.MD5.FF(d,c,f,b,g[a+15],22,1236535329);b=gx.MD5.GG(b,d,c,f,g[a+1],5,4129170786);f=gx.MD5.GG(f,b,d,c,g[a+6],9,3225465664);c=gx.MD5.GG(c,f,b,d,g[a+11],14,643717713);d=gx.MD5.GG(d,c,f,b,g[a+0],20,3921069994);b=gx.MD5.GG(b,d,c,f,g[a+5],5,3593408605);f=gx.MD5.GG(f,b,d,c,g[a+10],9,38016083);c=gx.MD5.GG(c,f,b,d,g[a+15],14,3634488961);d=gx.MD5.GG(d,c,f,b,g[a+4],20,3889429448);b=gx.MD5.GG(b,d,c,f,g[a+9],5,568446438);f=gx.MD5.GG(f,b,d,c,g[a+14],9,3275163606);c=gx.MD5.GG(c,f,b,
d,g[a+3],14,4107603335);d=gx.MD5.GG(d,c,f,b,g[a+8],20,1163531501);b=gx.MD5.GG(b,d,c,f,g[a+13],5,2850285829);f=gx.MD5.GG(f,b,d,c,g[a+2],9,4243563512);c=gx.MD5.GG(c,f,b,d,g[a+7],14,1735328473);d=gx.MD5.GG(d,c,f,b,g[a+12],20,2368359562);b=gx.MD5.HH(b,d,c,f,g[a+5],4,4294588738);f=gx.MD5.HH(f,b,d,c,g[a+8],11,2272392833);c=gx.MD5.HH(c,f,b,d,g[a+11],16,1839030562);d=gx.MD5.HH(d,c,f,b,g[a+14],23,4259657740);b=gx.MD5.HH(b,d,c,f,g[a+1],4,2763975236);f=gx.MD5.HH(f,b,d,c,g[a+4],11,1272893353);c=gx.MD5.HH(c,f,
b,d,g[a+7],16,4139469664);d=gx.MD5.HH(d,c,f,b,g[a+10],23,3200236656);b=gx.MD5.HH(b,d,c,f,g[a+13],4,681279174);f=gx.MD5.HH(f,b,d,c,g[a+0],11,3936430074);c=gx.MD5.HH(c,f,b,d,g[a+3],16,3572445317);d=gx.MD5.HH(d,c,f,b,g[a+6],23,76029189);b=gx.MD5.HH(b,d,c,f,g[a+9],4,3654602809);f=gx.MD5.HH(f,b,d,c,g[a+12],11,3873151461);c=gx.MD5.HH(c,f,b,d,g[a+15],16,530742520);d=gx.MD5.HH(d,c,f,b,g[a+2],23,3299628645);b=gx.MD5.II(b,d,c,f,g[a+0],6,4096336452);f=gx.MD5.II(f,b,d,c,g[a+7],10,1126891415);c=gx.MD5.II(c,f,
b,d,g[a+14],15,2878612391);d=gx.MD5.II(d,c,f,b,g[a+5],21,4237533241);b=gx.MD5.II(b,d,c,f,g[a+12],6,1700485571);f=gx.MD5.II(f,b,d,c,g[a+3],10,2399980690);c=gx.MD5.II(c,f,b,d,g[a+10],15,4293915773);d=gx.MD5.II(d,c,f,b,g[a+1],21,2240044497);b=gx.MD5.II(b,d,c,f,g[a+8],6,1873313359);f=gx.MD5.II(f,b,d,c,g[a+15],10,4264355552);c=gx.MD5.II(c,f,b,d,g[a+6],15,2734768916);d=gx.MD5.II(d,c,f,b,g[a+13],21,1309151649);b=gx.MD5.II(b,d,c,f,g[a+4],6,4149444226);f=gx.MD5.II(f,b,d,c,g[a+11],10,3174756917);c=gx.MD5.II(c,
f,b,d,g[a+2],15,718787259);d=gx.MD5.II(d,c,f,b,g[a+9],21,3951481745);b=gx.MD5.AddUnsigned(b,l);d=gx.MD5.AddUnsigned(d,n);c=gx.MD5.AddUnsigned(c,p);f=gx.MD5.AddUnsigned(f,t)}return(gx.MD5.WordToHex(b)+gx.MD5.WordToHex(d)+gx.MD5.WordToHex(c)+gx.MD5.WordToHex(f)).toLowerCase()}};
gx.base64={b64:[],f64:[],decode:function(g){try{if(window.atob)return decodeURIComponent(atob(g).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}catch(a){}return this.bytesToString(this.bytesFromUTF8Bytes(this.decodeImpl(g)))},encode:function(g){try{if(window.btoa)return btoa(encodeURIComponent(g).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))}catch(a){}return this.encodeImpl(this.UTF8BytesFromString(g))},bytesFromUTF8Bytes:function(g){for(var a=
[],b=0,d,c,f=g.length;b<f;)d=g[b],128>d?(a.push(d),b++):191<d&&224>d?(c=g[b+1],a.push((d&31)<<6|c&63),b+=2):(c=g[b+1],a.push((d&15)<<12|(c&63)<<6|g[b+2]&63),b+=3);return a},UTF8BytesFromString:function(g){g=g.replace(/\r\n/g,"\n");for(var a=[],b=g.length,d=0;d<b;d++){var c=g.charCodeAt(d);128>c?a.push(c):(127<c&&2048>c?a.push(c>>6|192):(a.push(c>>12|224),a.push(c>>6&63|128)),a.push(c&63|128))}return a},bytesToString:function(g){for(var a=gx.util.browser.isChrome()?32765:5E4,b=[];g.length>=a;)b.push(eval("String.fromCharCode("+
g.slice(0,a).join(",")+");")),g=g.slice(a);0!=g.length&&b.push(eval("String.fromCharCode("+g.join(",")+");"));return b.join("")},decodeImpl:function(g){var a=this.f64,b=[],d=0;g=g.replace(/\n|\r/g,"");g=g.replace(/=/g,"");for(var c=g.length;d<c;)b[b.length]=a[g.charAt(d)]<<2|a[g.charAt(d+1)]>>4,b[b.length]=(a[g.charAt(d+1)]&15)<<4|a[g.charAt(d+2)]>>2,b[b.length]=(a[g.charAt(d+2)]&3)<<6|a[g.charAt(d+3)],d+=4;2==g.length%4&&(b=b.slice(0,b.length-2));3==g.length%4&&(b=b.slice(0,b.length-1));return b},
encodeImpl:function(g){var a=this.b64,b=[],d=0,c=g.length;1==c%3&&(g[g.length]=0,g[g.length]=0);2==c%3&&(g[g.length]=0);for(var f=g.length;d<f;)b[b.length]=a[g[d]>>2],b[b.length]=a[(g[d]&3)<<4|g[d+1]>>4],b[b.length]=a[(g[d+1]&15)<<2|g[d+2]>>6],b[b.length]=a[g[d+2]&63],d+=3;1==c%3&&(b[b.length-1]=b[b.length-2]="=");2==c%3&&(b[b.length-1]="=");return b.join("")},_init:function(){for(var g=0;64>g;g++){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g);this.b64[g]=a;this.f64[a]=
g}}};
gx.webSocket=function(g){this.reconnect=!0;this.initialized=this.opened=!1;this.retryCount=0;this.maxRetries=g.maxRetries||6;this.retryDelay=g.retryDelay||2500;this._init=function(d){if(!this.initialized&&"WebSocket"in window){d=d||{};d.clientId=d.clientId||"";d.basePath=d.basePath||"";this.namespace="."+d.namespace;try{var c=d.wsProtocol+d.host+d.basePath+d.resourceUrl+d.clientId;this.create(d.wsURL||c);this.initialized=!0;this.wsOpts=d}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","Could not initialize WebSocket")}}};var a=
this,b=function(){this.initialized=this.opened=!1;this.reconnect&&(-1==this.maxRetries||this.retryCount<this.maxRetries)&&(this.retryCount++,this.retryHandle=gx.lang.doCallTimeout(this._init,this,[this.wsOpts],this.retryDelay*this.retryCount))};this.create=function(d){try{this.ws=new WebSocket(d),this.ws.onopen=function(){a.opened=!0;a.retryCount=0;a.stopRetry=!1;gx.fx.obs.notify("gx.ws.onOpen"+a.namespace,[])},this.ws.onerror=function(c){gx.dbg.logDebug("gx.webSocket - Error: "+c.data);gx.fx.obs.notify("gx.ws.onError"+
a.namespace,[c.data]);a.stopRetry||b.apply(a);a.stopRetry=!1},this.ws.onmessage=function(c){gx.dbg.logDebug("gx.webSocket - New Message: "+c.data);gx.fx.obs.notify("gx.ws.onMessage"+a.namespace,[c.data])},this.ws.onclose=function(){gx.dbg.logDebug("gx.webSocket - OnClose");a.opened?(a.retryCount=0,b.apply(a)):gx.fx.obs.notify("gx.ws.OnClose"+a.namespace,[])}}catch(c){gx.lang.doCallTimeout(gx.fx.obs.notify,gx.fx.obs,["gx.ws.onCtxError"+a.namespace,[c]],100)}};window.onbeforeunload=function(){a.opened&&
a.ws.close()};this.close=function(){a.opened&&(a.opened=!1,a.ws.close());a.stopRetry=!0;a.retryHandle&&clearInterval(a.retryHandle.t)};this.send=function(d){a.ws?a.ws.send(d):gx.dbg.logDebug("gx.webSocket - ws is not initialized")};this._init(g)};
gx.util.alert=function(g){var a=!1,b=!1,d=function(f){f=f||{};var l=f.message||"",n=f.cssClass||"",p=f.cssDisBtnClass||"",t=f.dataDisAtt;f=f.dismissmitAt;a&&0!=g("#gx-main-error").length||(g(gx.dom.form()).prepend("<div id='gx-main-error' style='display:none;'></div>"),a=!0);c();var v=g("#gx-main-error");v.html('<div class="'+n+'"><button type="button" class="'+p+'" data-dismiss="'+t+'" onclick=\'$(this).parent().hide();\' aria-hidden="true">&times;</button><span>'+l+"</span></div>");v.slideDown();
b=!0;f&&window.setTimeout(function(){c()},f)},c=function(){b&&(g("#gx-main-error").fadeOut(500,function(){g(this).empty()}),b=!1)};return{showMessage:function(f,l){g("#gx-main-error");d(g.extend({message:f,cssClass:"alert alert-warning alert-dismissable gx-ajax-error",cssDisBtnClass:"close",dataDisAtt:"alert"},l))},showError:function(f,l){g("#gx-main-error");d(g.extend({message:f,cssClass:"alert alert-danger alert-dismissable gx-ajax-error",cssDisBtnClass:"close",dataDisAtt:"alert"},l))},hide:c}}(gx.$);
gx.geolocation=function(g){var a;return{attachedCtrls:a,_init:function(){a=[]},getMyPosition:function(b){b.attachedCtrl=g("#"+b.id.replace(/_geoLocMe$/,""))[0];a.push(b);navigator.geolocation?navigator.geolocation.getCurrentPosition(this.positionHandler,this.handle_errors):(gx.pO.clearMessages(),gx.pO.addMessage("Your browser does not support HTML5 Geolocalization"),gx.pO.refreshOutputs([]))},positionHandler:function(b){var d=a.shift(),c=gx.fn.validStruct(gx.O.getValidStructId(d.attachedCtrl.id));
b=b.coords.latitude+","+b.coords.longitude;gx.evt.setEventRow(gx.pO,d.attachedCtrl);c.v2v&&(c.v2v(b),c.v2c());c.gxgrid&&c.gxgrid.updateControlValue(c,!0)},handle_errors:function(b){a.shift();switch(b.code){case b.PERMISSION_DENIED:b="user did not share geolocation data";break;case b.POSITION_UNAVAILABLE:b="could not detect current position";break;case b.TIMEOUT:b="retrieving position timed out";break;default:b="unknown error"}gx.pO.clearMessages();gx.pO.addMessage(b);gx.pO.refreshOutputs([])}}}(gx.$);
gx.sec.rijndael={keySizeInBits:128,blockSizeInBits:128,roundsArray:[,,,,[,,,,10,,12,,14],,[,,,,12,,12,,14],,[,,,,14,,14,,14]],shiftOffsets:[,,,,[,1,2,3],,[,1,2,3],,[,1,3,4]],Rcon:[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],SBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,
226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,
221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],SBoxInverse:[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,
108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,
201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],cyclicShiftLeft:function(g,a){var b=g.slice(0,a);return g=g.slice(a).concat(b)},xtime:function(g){g<<=1;return g&256?g^283:g},mult_GF256:function(g,a){var b,d=0;for(b=1;256>b;b*=2,a=this.xtime(a))g&b&&(d^=a);return d},byteSub:function(g,a){a="encrypt"==a?this.SBox:this.SBoxInverse;for(var b=0;4>b;b++)for(var d=0;d<this.Nb;d++)g[b][d]=a[g[b][d]]},shiftRow:function(g,a){for(var b=
1;4>b;b++)g[b]="encrypt"==a?this.cyclicShiftLeft(g[b],this.shiftOffsets[this.Nb][b]):this.cyclicShiftLeft(g[b],this.Nb-this.shiftOffsets[this.Nb][b])},mixColumn:function(g,a){for(var b=[],d=0;d<this.Nb;d++){for(var c=0;4>c;c++)b[c]="encrypt"==a?this.mult_GF256(g[c][d],2)^this.mult_GF256(g[(c+1)%4][d],3)^g[(c+2)%4][d]^g[(c+3)%4][d]:this.mult_GF256(g[c][d],14)^this.mult_GF256(g[(c+1)%4][d],11)^this.mult_GF256(g[(c+2)%4][d],13)^this.mult_GF256(g[(c+3)%4][d],9);for(c=0;4>c;c++)g[c][d]=b[c]}},addRoundKey:function(g,
a){for(var b=0;b<this.Nb;b++)g[0][b]^=a[b]&255,g[1][b]^=a[b]>>8&255,g[2][b]^=a[b]>>16&255,g[3][b]^=a[b]>>24&255},keyExpansion:function(g){var a=[];this.Nk=this.keySizeInBits/32;this.Nb=this.blockSizeInBits/32;this.Nr=this.roundsArray[this.Nk][this.Nb];for(var b=0;b<this.Nk;b++)a[b]=g[4*b]|g[4*b+1]<<8|g[4*b+2]<<16|g[4*b+3]<<24;for(b=this.Nk;b<this.Nb*(this.Nr+1);b++)g=a[b-1],0==b%this.Nk?g=(this.SBox[g>>8&255]|this.SBox[g>>16&255]<<8|this.SBox[g>>24&255]<<16|this.SBox[g&255]<<24)^this.Rcon[Math.floor(b/
this.Nk)-1]:6<this.Nk&&4==b%this.Nk&&(g=this.SBox[g>>24&255]<<24|this.SBox[g>>16&255]<<16|this.SBox[g>>8&255]<<8|this.SBox[g&255]),a[b]=a[b-this.Nk]^g;return a},Round:function(g,a){this.byteSub(g,"encrypt");this.shiftRow(g,"encrypt");this.mixColumn(g,"encrypt");this.addRoundKey(g,a)},InverseRound:function(g,a){this.addRoundKey(g,a);this.mixColumn(g,"decrypt");this.shiftRow(g,"decrypt");this.byteSub(g,"decrypt")},FinalRound:function(g,a){this.byteSub(g,"encrypt");this.shiftRow(g,"encrypt");this.addRoundKey(g,
a)},InverseFinalRound:function(g,a){this.addRoundKey(g,a);this.shiftRow(g,"decrypt");this.byteSub(g,"decrypt")},encrypt:function(g,a){var b;if(g&&8*g.length==this.blockSizeInBits&&a){g=this.packBytes(g);this.addRoundKey(g,a);for(b=1;b<this.Nr;b++)this.Round(g,a.slice(this.Nb*b,this.Nb*(b+1)));this.FinalRound(g,a.slice(this.Nb*this.Nr));return this.unpackBytes(g)}},decrypt:function(g,a){var b;if(g&&8*g.length==this.blockSizeInBits&&a){g=this.packBytes(g);this.InverseFinalRound(g,a.slice(this.Nb*this.Nr));
for(b=this.Nr-1;0<b;b--)this.InverseRound(g,a.slice(this.Nb*b,this.Nb*(b+1)));this.addRoundKey(g,a);return this.unpackBytes(g)}},byteArrayToString:function(g){for(var a="",b=g.length,d=0;d<b;d++)0!=g[d]&&(a+=String.fromCharCode(g[d]));return a},stringToByteArray:function(g){for(var a=[],b=g.length,d=0;d<b;d++)a[a.length]=g.charCodeAt();return a},byteArrayToHex:function(g){var a="";if(g){for(var b=g.length,d=0;d<b;d++)a+=(16>g[d]?"0":"")+g[d].toString(16);return a}},hexToByteArray:function(g){var a=
[];if(!(g.length%2)){if(0==g.indexOf("0x")||0==g.indexOf("0X"))g=g.substring(2);for(var b=g.length,d=0;d<b;d+=2)a[Math.floor(d/2)]=parseInt(g.slice(d,d+2),16);return a}},packBytes:function(g){var a=[];if(g&&!(g.length%4)){a[0]=[];a[1]=[];a[2]=[];a[3]=[];for(var b=g.length,d=0;d<b;d+=4)a[0][d/4]=g[d],a[1][d/4]=g[d+1],a[2][d/4]=g[d+2],a[3][d/4]=g[d+3];return a}},unpackBytes:function(g){for(var a=[],b=g[0].length,d=0;d<b;d++)a[a.length]=g[0][d],a[a.length]=g[1][d],a[a.length]=g[2][d],a[a.length]=g[3][d];
return a},formatPlaintext:function(g){var a=this.blockSizeInBits/8,b;if("string"==typeof g||g.indexOf){g=g.split("");var d=g.length;for(b=0;b<d;b++)g[b]=g[b].charCodeAt(0)&255}for(b=a-g.length%a;0<b&&b<a;b--)g[g.length]=0;return g},rijndaelEncrypt:function(g,a,b,d){var c,f=this.blockSizeInBits/8;if(g&&a&&8*a.length==this.keySizeInBits){"CBC"!=b&&(b="ECB",d=[]);g=this.formatPlaintext(g);a=this.keyExpansion(a);for(var l=0;l<g.length/f;l++){var n=g.slice(l*f,(l+1)*f);if("CBC"==b)for(c=0;c<f;c++)n[c]^=
d[l*f+c];d=d.concat(this.encrypt(n,a))}return d}},rijndaelDecrypt:function(g,a,b){var d=this.blockSizeInBits/8,c=[],f;if(g&&a&&"string"!=typeof g&&8*a.length==this.keySizeInBits){b||(b="ECB");a=this.keyExpansion(a);for(f=g.length/d-1;0<f;f--){var l=this.decrypt(g.slice(f*d,(f+1)*d),a);if("CBC"==b)for(var n=0;n<d;n++)c[(f-1)*d+n]=l[n]^g[(f-1)*d+n];else c=l.concat(c)}"ECB"==b&&(c=this.decrypt(g.slice(0,d),a).concat(c));return c}},_init:function(){this.Nk=this.keySizeInBits/32;this.Nb=this.blockSizeInBits/
32;this.Nr=this.roundsArray[this.Nk][this.Nb]}};
gx.popup=function(g){return{lvl:-1,currentPopup:null,currentPrompt:null,showParentPopups:!1,Dialog:function(){this.id="";this.autoresize=1;this.top=this.position=this.height=this.width=0;this.cssClass="";this.left=0;this.zindex=1E3;this.lvl=-1;this.InternalPopup=this.Opener=this.document=this.window=this.parentPopup=null;this.state="created";this.callbacks={};var a=function(b){0===g(this.getEl()).find(b.target).length&&(g(document.body).off("click",a),this.close())}.closure(this);this.open=function(b){this.state=
"opening";this.id=b.id||"gxdialog";this.callbacks=b.callbacks;var d=void 0===b.resizable||b.resizable,c="PopupBorder gx-popup gx-popup-default";this.cssClass&&(c=c.replace("gx-popup-default",""),c+=" "+this.cssClass);gx.popup.ext.window(this,!1,0,0,b.w,b.h,b.contentHtml,"white",b.title,"black","black","black","black",void 0===b.isModal||b.isModal,!0,!0,d,!1,gx.ajax.getImageUrl(gx,"resizeImage"),"PopupHeader gx-popup-header","PopupHeaderButton gx-popup-close","PopupContent gx-popup-content",c,"PopupShadow",
b.showParentPopups,!1,b.callbacks,b.parentElement);gx.popup.ext.win.gx.popup.setPopup(this);this.state="opened";setTimeout(function(){g(document.body).on("click",a)},1)};this.close=function(){g(document.body).off("click",a);this.state="closing";gx.popup.ext.close(this,this.callbacks.beforeClose);this.cleanup();this.state="closed"};this.cleanup=function(){delete this.InternalPopup;delete this.window;delete this.document;delete this.Opener;delete this.parentPopup;delete this.InternalPopup;delete this.callbacks};
this.isActive=function(){return!("closed"==this.state||"closing"==this.state)};this.getEl=function(){return gx.dom.byId(this.id+"_b")}},Popup:function(a,b){this.url="";this.frameWindow=this.frameDocument=null;this.ReturnParms=[];this.RawReturnedParms=[];this.ModifCtrl=null;this.IsPrompt=b?b:!1;this.PromptIsGet=!1;this.OncloseCmds=[];this.CustomRenderGrid=null;this.setPopupData=function(){gx.lang.isArray(a)?(this.url=a[0],this.autoresize=a[1],this.width=a[2],this.height=a[3],this.position=a[4],this.top=
a[5],this.left=a[6],this.OncloseCmds=a[7]||[],this.ReturnParms=a[8]||[],this.cssClass=a[9]):a&&a.Url&&(this.url=a.Url,"undefined"!=typeof a.Autoresize&&(this.autoresize=a.Autoresize),"undefined"!=typeof a.Width&&(this.width=a.Width),"undefined"!=typeof a.Height&&(this.height=a.Height),"undefined"!=typeof a.Position&&(this.position=a.Position),"undefined"!=typeof a.Top&&(this.top=a.Top),"undefined"!=typeof a.Left&&(this.left=a.Left),"undefined"!=typeof a.Class&&(this.cssClass=a.Class),"undefined"!=
typeof a.OncloseCmds&&(this.OncloseCmds=a.OncloseCmds),"undefined"!=typeof a.ReturnParms&&(this.ReturnParms=a.ReturnParms))};this.open=function(){this.state="opening";var d=gx.popup.gxOpener();this.lvl=-1;this.lvl=d&&d.gx&&d.gx.popup.ext.win&&d.gx.popup.ext.win.gx?d.gx.popup.ext.win.gx.popup.lvl:gx.popup.lvl;null!=document.gxPopup?(this.parentPopup=document.gxPopup,this.zindex=gx.popup.ext.zdx+document.gxPopup.zindex):this.zindex=gx.popup.ext.zdx;d=this.url;if(this.IsPrompt){gx.popup.currentPrompt=
this;for(var c="?",f,l,n=this.ReturnParms.length,p=0;p<n;p++){f="";if(gx.lang.emptyObject(this.ReturnParms[p].Ctrl))if("string"==typeof this.ReturnParms[p])f=gx.util.urlValue(this.ReturnParms[p])+",";else if("number"==typeof this.ReturnParms[p])f=gx.util.urlValue(this.ReturnParms[p].toString())+",";else if(this.CustomRenderGrid)l=this.CustomRenderGrid.grid.getCellValue(this.ReturnParms[p].id),gx.lang.emptyObject(l)||(f=gx.util.urlValue(l+"")+",");else if(gx.lang.emptyObject(this.ReturnParms[p].id))continue;
else l=gx.fn.getHidden(this.ReturnParms[p].id),gx.lang.emptyObject(l)||(f=gx.util.urlValue(l)),f+=",";else f=gx.util.urlValue(this.ReturnParms[p].Ctrl)+",";c="out"==this.ReturnParms[p].IOType?c+",":c+f;this.ReturnParms[p].isLastKey&&gx.fn.isOutputParm(this.ReturnParms[p])&&!this.PromptIsGet&&(gx.fn.setControlValue("_EventName",this.Opener.CmpContext),this.PromptIsGet=!0)}null!=this.ModifCtrl&&(this.ModifCtrl.value=1);d+=c}c=document.activeElement;gx.csv.lastControl&&c&&gx.util.inArray(c.tagName,["BODY",
"FORM"])&&(c=gx.csv.lastControl);c&&(c&&(this.callerActiveElement=c),c.blur&&c.blur());this.InternalPopup=gx.popup.Impl(this,d,this.autoresize,this.width,this.height,this.position,this.top,this.left)};this.getOutputParms=function(){var d=[];if(this.IsPrompt)for(var c=this.ReturnParms.length,f=0;f<c;f++){var l=this.ReturnParms[f];gx.fn.isOutputParm(l)&&d.push(l)}else return this.ReturnParms;return d};this.close=function(d,c,f){c=c||{};this.state="closing";d&&(this.RawReturnedParms=d);var l=window;
gx.popup.ext.win?(l=gx.popup.ext.win,gx.ajax.windowClosed(gx.popup.ext.win.gx.popup.lvl),gx.popup.ext.win.gx.popup.lvl--):(gx.ajax.windowClosed(gx.popup.lvl),gx.popup.lvl--);var n=function(){var v=g.Deferred();this.setCellValue.apply(this,arguments);return v.resolve()},p=function(){var v;gx.evt.evtPromptMouseDown=!0;this.beforeClose&&this.beforeClose(d);!this.isPdf&&this.frameWindow&&this.frameWindow.gx&&(this.IsPrompt&&(null==this.parentPopup?gx.popup.currentPrompt=null:this.parentPopup.frameWindow.gx.popup.currentPrompt=
null),this.frameWindow.gx.evt.onunload.call(this.frameWindow),gx.util.browser.isIE()||(this.frameDocument.gxPopup=null),this.frameWindow=this.frameDocument=null);gx.popup.ext.close(this);var u=this.getOutputParms(),r=function(){c&&!0===c.ignoreCmds&&(this.OncloseCmds=[]);gx.ajax.dispatchCommands(this.OncloseCmds,void 0,{updateParms:u});this.cleanup();this.state="closed";this.afterClose&&this.afterClose(d);this.parentPopup?this.parentPopup.frameWindow.gx.fx.obs.notify("popup.afterclose",[this]):gx.fx.obs.notify("popup.afterclose",
[this])}.closure(this),w=!0;gx.csv.lastId=0;if(null!=d&&this.IsPrompt){if(f&&c.parmsMetadata&&c.updateParms){var x=c.parmsMetadata.length;for(v=0;v<x;v++)w=c.parmsMetadata[v],gx.util.inArray(w,c.updateParms)&&(d[v]=f[w])}x=d.length;var B=gx.popup.assignPromptFields,A=gx.popup;gx.lang.emptyObject(this.CustomRenderGrid)||(B=n,A=this.CustomRenderGrid.grid);w=!1;B.call(A,u,d).then(function(){var D=null;x=u.length;for(v=0;v<x;v++){var F=u[v].Ctrl;gx.fn.isAccepted(F)&&(D=F)}D&&gx.TabOnPrompSelect&&(F=gx.fn.getControlIndex(D),
-1!=F&&(D=gx.fn.searchFocus(F+1,!0)));gx.fn.setFocus(D);if(this.PromptIsGet)if(this.Opener.fullAjax){var G;(F=gx.csv.ctxControlId(D.id))&&(G=gx.O.getValidStructFld(F));G&&gx.csv.validControls(G.id,G.id+1,!0,this.Opener)}else{gx.csv.loadScreen(function(){gx.fn.setFocus(D);r()});return}else try{gx.evt.ctrlOnchange(gx.fn.getControlValue(this.Opener.CmpContext+"Mode"),gx.fn.getControlValue(this.Opener.CmpContext+"IsConfirmed"),"undefined"==typeof window.GXPkIsDirty?!1:window.GXPkIsDirty,null,"eng")}catch(k){gx.dbg.logEx(k,
"gxpopup.js","close")}r()}.closure(this))}else d&&u&&u instanceof Array&&0<u.length&&gx.fn.setReturnParms(this.Opener,u,d,this.CustomRenderGrid);w&&r()},t=gx.util.browser;t.isFirefox()||t.isIE()?l.setTimeout(p.closure(this),10):p.call(this)};this.setFocusFirst=function(){this.frameWindow.gx&&this.frameWindow.gx.fn.setFocusOnload(!1)};this.cleanup=function(){try{this.OncloseCmds=[],this.ReturnParms=[],this.PromptIsGet=!1,this.parentPopup=this.Opener=this.document=this.window=this.InternalPopup=null,
this.RawReturnedParms=[],this.CustomRenderGrid=this.InternalPopup=this.ModifCtrl=null}catch(d){gx.dbg.logEx(d,"gxpopup.js","popupObj.cleanup")}};this.setPopupData()},getWindowIframeElement:function(a){var b;a=a.document.getElementsByTagName("iframe");for(var d=0;d<a.length&&!b;d++){var c=a[d];c.contentWindow===window&&(b=c)}return b},gxOpener:function(){try{parent.gxTestAvailable=1;var a=this.getWindowIframeElement(parent);return a&&void 0!==g(a).attr("data-gx-popup-ct")?parent:window}catch(b){}return null},
setFocus:function(){var a=this.getPopup();a&&a.window.frames[0].focus()},ispopup:function(){return null!=this.getPopup()},popupurl:function(){return this.getPopup().url},waitCallback:function(a){var b=gx.popup.getPopup();b?"opened"==b.state?a():gx.lang.doCallTimeout(gx.popup.waitCallback,gx.popup,[a],50):a()},getPopup:function(){var a=this.gxOpener();try{if(!gx.lang.emptyObject(a)&&!gx.lang.emptyObject(a.gx))return a.gx.popup.currentPopup}catch(b){}return null},setPopup:function(a){this.currentPopup=
a},open:function(a,b){return this.openPopup(a,b)},openUrlToOpenPopupParms:function(a,b,d){var c=1,f=0,l=0,n=0,p=0,t=0;d&&(c=d[0],f=d[1],l=d[2],n=d[3],p=d[4],t=d[5]);return[a,c,f,l,n,p,t,[],b]},openUrl:function(){return this.openPopup(this.openUrlToOpenPopupParms.apply(this,arguments))},openPopup:function(a,b){var d=this.getPopup();b=b||gx.O;var c,f;if(d&&(d.Opener===b||d.Opener.MasterPage&&d.Opener.MasterPage===b)&&gx.lang.isArray(a))d.OncloseCmds.push({popup:a});else{var l=new this.Popup(a,!1);l.Opener=
b;a=0;for(d=l.ReturnParms.length;a<d&&!((f=gx.fn.vStructForVar(l.ReturnParms[a]))&&f.grid&&(c=b.getGridById(f.grid)));a++);c&&c.isUsercontrol&&(l.CustomRenderGrid=c);l.open();return l}},openDialog:function(a){var b=new this.Dialog;b.Opener=gx.O;b.open(a);return b},openPrompt:function(a,b,d,c,f,l){if(null==gx.popup.currentPrompt){c&&gx.setGxO(c,f);var n=document.activeElement,p=!1,t;if(n){var v=gx.fn.rowGridId(n);n=gx.fn.controlRowIndex(n);if(!gx.lang.emptyObject(v)&&!gx.lang.emptyObject(n)){gx.csv.lastGrid=
v;gx.fn.setCurrentGridRow(v,n);v=gx.O;n=gx.csv.lastId;var u=gx.fn.validStruct(n,v);if(u)var r=gx.csv.lastRow[u.grid];gx.csv.checkRowChange(n,!1,v,r)}}else{r=0;for(n=b.length;r<n;r++)if(b[r].IOType){v=b[r].id;break}v&&(u=gx.O.getValidStructFld(v),!gx.lang.emptyObject(u)&&(t=gx.O.getGridById(u.grid)))&&(p=t.isUsercontrol)&&(v=t.gridId+"",n=gx.lang.emptyObject(t.grid.getSelectedRow)?void 0:gx.text.padl(t.grid.getSelectedRow()+"",4,"0"),gx.lang.emptyObject(v)||gx.lang.emptyObject(n)||(gx.csv.lastGrid=
v,gx.fn.setCurrentGridRow(v,n)))}if(l||this.outParmsAccepted(b)||p)a=new this.Popup([a,1,0,0,0,0,0,[],b],!0),a.IsMod=d,a.Opener=gx.getObj(c,f),p&&(a.CustomRenderGrid=t),a.open()}},outParmsAccepted:function(a){for(var b=a.length,d=!1,c=0;c<b;c++){var f=a[c];gx.fn.isOutputParm(f)&&(d=!0);if(gx.fn.isOutputParm(f)&&f.Ctrl&&gx.fn.isAccepted(f.Ctrl))return!0}return!d},gxReturn:function(a){gx.fn.closeWindow(a)},parmId:function(a){a=gx.dom.id(a);0===a.indexOf("span_")&&(a=a.substring(5));return a},popuplvl:function(){var a=
gx.popup.getPopup();return a&&a.window?a.window.gx.popup.lvl:-1},assignPromptFields:function(a,b){var d=[],c=gx.O,f=[],l=99999,n=Math.min(a.length,b.length),p=0;for(p=0;p<n;p++){var t=a[p],v=b[p];if(t.Ctrl&&!gx.lang.emptyObject(t)){gx.csv.pkDirty=t.isKey;"checkbox"==t.Ctrl.type&&t.Ctrl.value!=v&&(t.Ctrl.checked=!t.Ctrl.checked);t.Ctrl.value!=v&&t.isKey&&(gx.popup.gxOpener().GXPkIsDirty=!0);var u=gx.csv.ctxControlId(this.parmId(t.Ctrl)),r=c.getValidStructFld(u);f.push({idx:r?r.id:l++,ParmCtrl:t.Ctrl,
ControlId:u,VStruct:r,PValue:v})}}f.sort(function(w,x){return w.idx<x.idx?-1:w.idx>x.idx?1:0});for(p=0;p<f.length;p++)this.assignPromptFieldValue(f[p],c);for(p=0;p<f.length;p++)d.push(this.assignAndValidatePromptField(f[p],c));return g.when.apply(g,d)},assignPromptFieldValue:function(a,b){var d=a.VStruct,c=a.ParmCtrl;a=a.PValue;gx.lang.emptyObject(d)||gx.lang.emptyObject(d.v2c)||"date"!=d.type&&"dtime"!=d.type?(gx.fn.setControlValue(this.parmId(c),a,0),d.c2v(),"function"===typeof d.v2bc&&d.v2bc.call(b)):
(d.v2v(a),"function"===typeof d.v2bc&&d.v2bc.call(b),gx.fn.v2c(d,a));gx.fn.setControlGxValid(c,"0");gx.evt.execOnchange(c);b=gx.dom.byId("span_"+c.name);null!=b&&(0===b.childNodes.length&&b.appendChild(gx.popup.gxOpener().document.createTextNode("")),b.childNodes[0].nodeValue=a);d&&d.gxgrid&&d.gxgrid.updateControlValue(d,!1)},assignAndValidatePromptField:function(a,b){var d=g.Deferred(),c=!0,f=a.ControlId,l=a.VStruct,n,p=function(){gx.popup.assignPromptFieldValue(a,b);gx.util.balloon.clear(f);n&&
(gx.O.fromValid>n&&(gx.O.fromValid=n),gx.O.toValid=n+1,gx.csv.validateAll().done(function(){if(!gx.lang.emptyObject(l.rgrid)){for(var t=l.rgrid.length,v=0;v<t;v++)l.rgrid[v].filterVarChanged();d.resolve()}}));d.resolve()}.closure(this);!gx.lang.emptyObject(l)&&(n=b.getValidStructId(l.fld))&&(n>gx.O.toValid&&(b.toValid=n),c=!1,gx.csv.validateAll().done(p));c&&d.resolve();return d.promise()},autofit:function(){var a=this.getPopup();gx.lang.emptyObject(a)||"opened"!=a.state||this.ext.autofit(a,null,
!1)},Impl:function(a,b,d,c,f,l,n,p){var t="PopupBorder gx-popup gx-popup-default";a.cssClass&&(t=t.replace("gx-popup-default",""),t+=" "+a.cssClass);return new this.ext.popUp(a,d,l,p,n,c,f,"gxp",b,"white","#00385c","16pt serif","GxPopup","#00385c","white","lightgrey","#00568c","black",!0,!1,!0,!0,!0,!0,!1,"min.gif","max.gif","close.gif",gx.ajax.getImageUrl(gx,"resizeImage"),"PopupHeader gx-popup-header","PopupHeaderButton gx-popup-close","PopupContent gx-popup-content",t,"PopupShadow",void 0)},setZIndex:function(a){a=
gx.dom.getStyle(a,"zIndex");isNaN(a)&&(a=999);a++;this.zindex=a;this.ext.zdx=a},ext:{currIDb:null,xoff:0,yoff:0,currRS:null,rsxoff:0,rsyoff:0,zdx:1E3,sdiff:5,win:null,doc:null,compatMode:function(){return!gx.runtimeTemplates||gx.util.browser.isIE()&8>=gx.util.browser.ieVersion()},hide:function(a){var b=gx.dom.byId;gx.popup.ext.compatMode()&&(b(a+"_t").style.visibility="hidden",b(a+"_c").style.visibility="hidden",b(a+"_rs").style.visibility="hidden");b(a+"_b").style.visibility="hidden"},show:function(a){var b=
gx.dom.byId,d=g("#"+a+"_b");gx.popup.ext.compatMode()?(b(a+"_t").style.visibility="visible",b(a+"_c").style.visibility="visible",b(a+"_rs").style.visibility="visible"):g(document.body).toggleClass("gx-popup-opened",!0);d.css("visibility","visible")},close:function(a,b){g(document.body).toggleClass("gx-popup-opened",!1);if(!b||"function"!=typeof b||!1!==b()){a.draggable&&a.draggable.deinit();a.resizable&&a.resizable.deinit();gx.popup.ext.iFrame=null;gx.popup.ext.win=null;gx.popup.ext.doc=null;gx.popup.ext.currIDb=
null;gx.popup.ext.currRS=null;var d=a.id;b=document.getElementById(d+"_b");d=document.getElementById(d+"_ifrm");gx.popup.ext.deinitmodal(a);gx.popup.setPopup(a.parentPopup);var c=a.callerActiveElement;c&&c.focus&&c.focus();a.parentPopup?a.parentPopup.frameWindow.gx.fx.obs.notify("popup.close",[a]):gx.fx.obs.notify("popup.close",[a]);d&&(d.src=gx.util.getIFrameEmptySrc());gx.util.browser.isIE()&&7==gx.util.browser.ieVersion()?b.parentNode.removeChild(b):gx.dom.removeControlSafe(b)}},move:function(a,
b,d){a=g("#"+a+"_b");a.toggleClass("gx-popup-centered",!1);void 0!==b?a.css({left:Math.max(b,0)}).toggleClass("gx-popup-horizontal-center",!1):a.toggleClass("gx-popup-horizontal-center",!0);void 0!==d&&a.css({top:Math.max(d,0)})},resize:function(a,b,d){var c=gx.dom.byId;if(c(a+"_rs").rsEnable){var f=c(a+"_rs"),l=c(a+"_b"),n=c(a+"_t");c=c(a+"_c");gx.popup.ext.compatMode()?(f.style.left=Math.max(b,92)+"px",f.style.top=Math.max(d,72)+"px",l.style.width=Math.max(b+8,100)+"px",l.style.height=Math.max(d+
8,80)+"px",n.style.width=Math.max(b+3,92)+"px",c.style.width=Math.max(b-5,87)+"px",c.style.height=Math.max(d-28,44)+"px"):(a=document.getElementById(a+"_ifrm"),g(a).css({width:b,height:d}));this.resizePopupContent(b,d)}},movepopup:function(){null!=this.currIDb&&this.move(this.currIDb.cid,gx.evt.mouse.x+this.xoff,gx.evt.mouse.y+this.yoff);null!=this.currRS&&this.resize(this.currRS.cid,gx.evt.mouse.x+this.rsxoff,gx.evt.mouse.y+this.rsyoff);return!1},stopRS:function(){gx.popup.ext.currRS=null},startRS:function(a,
b){var d=gx.popup.ext,c=a.pageX;a=a.pageY;var f=g(b);gx.popup.ext.compatMode()?(d.rsxoff=parseInt(b.style.left,0)-c,d.rsyoff=parseInt(b.style.top,0)-a):(d.rsxoff=f.position().left-c,d.rsyoff=f.position().top-a);d.currRS=b;return!1},changez:function(a){a=null!=a?a:this;var b=gx.popup.ext,d=gx.dom.byId;a.style.zIndex=++b.zdx;d(a.cid+"_rs").style.zIndex=++b.zdx},stopdrag:function(){gx.popup.ext.currIDb=null},grab_id:function(a,b){var d=gx.popup.ext,c=gx.dom.byId;b=c(b.cid+"_b");gx.evt.mouse.update(a);
a=gx.evt.mouse.x;c=gx.evt.mouse.y;gx.popup.ext.compatMode()?(d.xoff=parseInt(b.style.left,0)-a,d.yoff=parseInt(b.style.top,0)-c):(d.xoff=g(b).position().left-a,d.yoff=g(b).position().top-c);d.currIDb=b;return!1},subBox:function(a,b,d,c,f,l){f=document.createElement("div");f.setAttribute("id",l);f.style.position="absolute";f.style.left=a+"px";f.style.top=b+"px";f.style.width=d+"px";f.style.height=c+"px";f.style.visibility="visible";f.style.padding="0px";f.style.width=d+"px";return f},window:function(){gx.popup.ext.compatMode()?
this.window_compat.apply(this,arguments):this.window_responsive.apply(this,arguments)},window_responsive:function(a,b,d,c,f,l,n,p,t,v,u,r,w,x,B,A,D,F,G,k,m,q,y,z,C,E,J,H){C=void 0!==C?C:gx.popup.showParentPopups;b=a.id;this.win||(this.win=window);this.doc||(this.doc=this.win.document);c=this.win.gx.dom.byId.closure(this.win.gx.dom);d=g("<div/>",{id:b+"_b",style:B?"":"visibility:hidden;"})[0];g(d).addClass("gx-responsive-popup gx-popup-centered "+y+" gx-popup-initial");y=g("<div/>",{id:b+"_t"})[0];
y.className=k;y.innerHTML='<span id="'+b+'_gxtitle" class="PopupTitle">'+t+'</span><span class="'+m+'"; id="'+b+'_cls"></span>';t=g("<div/>",{id:b+"_c"})[0];t.className=q;"string"==typeof n?t.innerHTML=n:t.appendChild(n);d.appendChild(y);d.appendChild(t);H=gx.dom.byId(H)||this.doc.body;H.appendChild(d);B||this.hide(b);n=c(b+"_b");B=c(b+"_cls");n.cid=b;n.isExt=F?!0:!1;F=c(b+"_t");F.cid=b;D&&(a.resizable=new gx.popup.ext.resizable(n,b,G,d));A&&(a.draggable=new gx.popup.ext.draggable(n,F));gx.evt.attach(B,
"click",J.close||this.close.closure(this,[a,J.beforeClose]));(x||C)&&this.initmodal(a,C,E)},resizable:function(a,b,d,c){var f,l=!1,n,p,t,v,u;this.init=function(r,w,x,B){var A=g("<div/>",{id:w+"_rs"})[0];A.className+="gx-popup-resize";A.innerHTML='<img src="'+x+'" width="7px" height="7px" alt="'+gx.getMessage("GXM_resize")+'">';A.rsEnable=!0;A.style.cursor="se-resize";A.cid=w;B.appendChild(A);t=r;A.firstChild.addEventListener("dragstart",function(D){gx.evt.cancel(D,!0)},!0);v=this.onMouseup.closure(this);
u=this.onMousemove.closure(this);A.addEventListener("mousedown",this.onMousedown.closure(this));document.addEventListener("mouseup",v);document.addEventListener("mousemove",u);f=!0};this.deinit=function(){f&&(document.removeEventListener("mouseup",v),document.removeEventListener("mousemove",u),f=t=null)};this.onMousemove=function(r){if(l){var w=g(t).find("iframe");g("iframe").css("pointer-events","none");var x=g(t).hasClass("gx-popup-centered")?2:1,B=r.clientX-n,A=r.clientY-p;B=g(w).width()+B*x;x=
g(w).height()+A*x;g(w).css({width:B,height:x});n=r.clientX;p=r.clientY}};this.onMousedown=function(r){n=r.clientX;p=r.clientY;l=!0};this.onMouseup=function(){l&&(g("iframe").css("pointer-events",""),l=!1)};this.init(a,b,d,c)},draggable:function(a,b){var d,c=!1,f,l,n=0,p=0,t,v,u,r,w;this.init=function(x,B){t=x;v=B;w=this.onMousedown.closure(this);r=this.onMousemove.closure(this);u=this.onMouseup.closure(this);t.addEventListener("mousedown",w);t.addEventListener("mouseup",u);document.addEventListener("mousemove",
r);d=!0};this.deinit=function(){d&&(t.removeEventListener("mousedown",w),t.removeEventListener("mouseup",u),document.removeEventListener("mousemove",r),d=t=v=null)};this.onMousemove=function(x){if(c){g("iframe").css("pointer-events","none");var B=x.clientY-l;t.style.left=n+(x.clientX-f)+"px";t.style.top=p+B+"px"}};this.onMousedown=function(x){if(x.target===v){var B=g(t);n=B.position().left;p=B.position().top;B.css({left:n,top:p}).toggleClass("gx-popup-centered gx-popup-horizontal-center",!1);f=x.clientX;
l=x.clientY;c=!0}};this.onMouseup=function(){c&&(g("iframe").css("pointer-events",""),c=!1,n=parseInt(t.style.left,10)||0,p=parseInt(t.style.top,10)||0)};this.init(a,b)},window_compat:function(a,b,d,c,f,l,n,p,t,v,u,r,w,x,B,A,D,F,G,k,m,q,y,z,C,E,J,H){C=void 0!==C?C:gx.popup.showParentPopups;r=a.id;this.win||(this.win=window);this.doc||(this.doc=this.win.document);w=this.win.gx.dom.byId.closure(this.win.gx.dom);f=Math.max(f,100);l=Math.max(l,80);b=new this.subBox(f-8,l-8,7,7,"",r+"_rs");D&&(b.className+=
"gx-popup-resize",b.innerHTML='<img src="'+G+'" width="7px" height="7px" alt="'+gx.getMessage("GXM_resize")+'" style="box-sizing:content-box">',b.style.cursor="se-resize");b.rsEnable=D;d=new this.subBox(d,c,f,l,u,r+"_b");d.className=y;d.style.display="block";d.style.boxSizing="content-box";d.style.zIndex=++this.zdx;B||(d.style.visibility="hidden");v=new this.subBox(2,2,f-5,20,v,r+"_t");v.style.overflow="hidden";v.style.boxSizing="content-box";v.className=k;v.innerHTML='<span id="'+r+'_gxtitle" class="PopupTitle" style="box-sizing:border-box;white-space:nowrap;position:absolute;padding:2px;">'+
t+'</span><span class="'+m+'" style="z-index:'+ ++this.zdx+';" id="'+r+'_cls"></span>';f=new this.subBox(2,24,f-13,l-36,p,r+"_c");f.className=q;"string"==typeof n?f.innerHTML=n:f.appendChild(n);f.style.overflow="hidden";f.style.boxSizing="content-box";B||(d.style.visibility="hidden",v.style.visibility="hidden",f.style.visibility="hidden");d.appendChild(v);d.appendChild(f);d.appendChild(b);H=gx.dom.byId(H)||this.doc.body;H.appendChild(d);B||this.hide(r);var L=w(r+"_b");L.cid=r;L.isExt=F?!0:!1;var I=
w(r+"_t");I.cid=r;D&&(n=w(r+"_rs"),n.cid=r,n.style.boxSizing="content-box",gx.evt.attach(n,"mousedown",this.startRS.closure(this,[n],!0)),gx.evt.attach(n,"mouseup",this.stopRS.closure(this,[n],!0)));n=w(r+"_cls");gx.evt.attach(n,"click",J.close||this.close.closure(this,[a,J.beforeClose]));A&&(gx.evt.attach(I,"mousedown",function(K){this.grab_id(K,I);gx.evt.attach(L,"mouseup",this.stopdrag.closure(this,[I],!0),this,{single:!0})},this),D&&gx.evt.attach(b.firstChild,"dragstart",function(K){gx.evt.cancel(K,
!0)},!0));(x||C)&&this.initmodal(a,C,E)},popUp:function(a,b,d,c,f,l,n,p,t,v,u,r,w,x,B,A,D,F,G,k,m,q,y,z,C,E,J,H,L,I,K,M,N,O,P){u=gx.popup.ext;null!=a.parentPopup?(r=a.parentPopup.window,u=r.gx.popup.ext,u.win=r,u.doc=r.document,gx.popup.ext=u):(u.win=window,u.doc=u.win.document);u.win.gx.popup.setPopup(a);a.window=u.win;a.document=u.doc;u.win.gx.popup.lvl++;p+=u.win.gx.popup.lvl;a.id=p;a.IsPrompt||gx.util.sameAppUrl(t)?(t+=gx.http.urlParameterPrefix(t),t+=encodeURIComponent("gxPopupLevel="+u.win.gx.popup.lvl+
";"),d=gx.util.getFileName(t),d=d.charAt(0).toUpperCase()+d.slice(1),gx.popup.ext.compatMode()?(r=gx.HTML5?"auto":"100%",t='<iframe id="'+p+'_ifrm" src="'+t+'" width="'+r+'" height="'+r+'" frameborder="0" style="overflow:auto;" title="'+d+'" data-gx-popup-ct=""></iframe>'):(r=!b&&0<l?l:gx.dom.fixes.getPopupMinWidth(),t=g("<iframe/>",{id:p+"_ifrm",src:t,title:d,style:"width:"+gx.dom.addUnits(r)}),t.attr("data-gx-popup-ct",""),t=t[0].outerHTML,gx.util.browser.isIPad()&&(t='<div class="iframe-container">'+
t+"</div>")),d={close:a.close.closure(a,[null,{ignoreCmds:gx.config.popup.ignoreCmdsOnCancel}])},u.window(a,b,c,f,l,n,t,v,w,x,A,D,F,G,k,m,q,z,L,I,K,M,N,O,P,!0,d),b=u.win.gx.dom.byId(p+"_ifrm"),u.iFrame=b,gx.lang.doCallTimeout(u.showIfLoaded,u,[a,b,1],50)):(gx.popup.setPopup(null),a=new Date,a=a.getTime(),p="",1==d&&(p="left="+c+",top="+f),c="",b||(c=",width="+l+",height="+n),window.open(z?t:"","gx"+a,"status=no,menubar=no"+c+",resizable="+(q?"yes":"no")+",scrollbars=yes,"+p))},initmodal:function(a,
b,d){a.showParentPopups=b;null==a.parentPopup?gx.ajax.disableForm(d,!0):b||this.hide(a.parentPopup.id)},deinitmodal:function(a){if(null==a.parentPopup)gx.ajax.enableForm();else{this.show(a.parentPopup.id);var b=a.parentPopup.frameWindow;b&&b.gx&&a.parentPopup.frameWindow.gx.ajax.enableForm()}},getDocumentContentType:function(a){return a.contentType||g(a.querySelector('meta[http-equiv="content-type"]')).attr("content")},isPDFPopup:function(a,b){if(void 0===b.isPdf){var d=a.src;if(gx.util.getContentTypeFromExt(d)==
gx.util.contentTypes.pdf)return b.isPdf=!0;var c=gx.util.contentTypes.html;try{var f=a.contentDocument;f=a.contentWindow.document;c=this.getDocumentContentType(f);if(c==gx.util.contentTypes.pdf)return b.isPdf=!0}catch(n){c=null}if(gx.lang.emptyObject(c)){var l;a={};a.url=d;a.method="HEAD";a.sync=!0;a.ajaxHeader=!1;a.handler=function(n,p,t){l=t.getResponseHeader("Content-Type")};a.obj=!0;gx.http.doCall(a);if(l&&0<=l.indexOf(gx.util.contentTypes.pdf))return b.isPdf=!0}return!1}return b.isPdf},showIfLoaded:function(a,
b,d){try{if(a.isActive()&&(this.docReady(b,d)||10<d&&this.isPDFPopup(b,a))){var c=gx.dom.iFrameDoc(b),f=!1;try{f=c&&"about:blank"!=c.URL}catch(n){}var l=this.isPDFPopup(b,a);if(f||l){a.state="opened";this.autofit(a,c,!0);return}}}catch(n){gx.dbg.logEx(n,"gxpopup.js","showIfLoaded")}d++;gx.lang.doCallTimeout(gx.popup.ext.showIfLoaded,gx.popup.ext,[a,b,d],50*d)},docReady:function(a,b){if("complete"==a.readyState)return!0;if(a=gx.dom.iFrameDoc(a)){try{var d="undefined"!=typeof a.gxReadyState?a.gxReadyState:
a.readyState}catch(c){return!0}if("complete"==d)return!0}return!gx.util.browser.isIE()&&50<=b&&a&&a.body&&0!==a.body.childNodes.length?!0:!1},resizePopupContentLegacy:function(a,b){var d=gx.dom.iFrameDoc(this.iFrame);b=0<b?b:"100%";a=0<a?a:"100%";var c=g(this.iFrame);d&&(a=b="100%");c.width(a);void 0===b&&(b=Math.max(Math.max(d.body.scrollHeight,d.documentElement.scrollHeight),Math.max(d.body.offsetHeight,d.documentElement.offsetHeight)));c.height(b)},resizePopupContent:function(a,b){gx.HTML5&&this.iFrame&&
(gx.popup.ext.compatMode()?this.resizePopupContentLegacy(a,b):this.resizePopupContentImpl(a,b))},resizePopupContentImpl:function(a,b){var d=gx.dom.iFrameDoc(this.iFrame),c=g(this.iFrame);if(0<a&&0<b)c.width(a),c.height(b);else if(d){try{var f=c[0].contentWindow.gx&&c[0].contentWindow.gx.runtimeTemplates}catch(n){}f||c.width(50);a=Math.max(d.body.scrollWidth,d.body.getBoundingClientRect().width,d.documentElement.scrollWidth,d.documentElement.getBoundingClientRect().width);try{var l=c[0].scrollWidth-
c[0].contentDocument.scrollingElement.offsetWidth;a+=c.height()<d.body.offsetHeight?l:0}catch(n){}1<Math.abs(c.width()-a)&&c.width(a);d=Math.max(d.body.scrollHeight,d.body.getBoundingClientRect().height,d.documentElement.scrollHeight,d.documentElement.getBoundingClientRect().height);c.height(d)}},autofit:function(){gx.popup.ext.compatMode()?this.autofit_comp.apply(this,arguments):this.autofit_responsive.apply(this,arguments)},autofit_responsive:function(a,b,d){if(!gx.lang.emptyObject(a)){var c=a.id,
f=a.isPdf,l=g("#"+c+"_c");this.doc||(this.doc=a.document);var n=this.doc;var p=n.getElementById(c+"_ifrm"),t=g(n.getElementById(c+"_gxtitle"));!b&&gx.popup.ispopup()&&(b=gx.dom.iFrameDoc(p));this.iFrame=this.iFrame||p;t.text(b&&!f?b.title:"");a.frameDocument=b;a.frameWindow=p.contentWindow;b&&!f&&(b.gxPopup=a);gx.util.browser.isIPad()&&(l.css("overflow-y","auto"),l.css("-webkit-overflow-scrolling","touch"));if(window.self!==window.top){var v=this.getiFrameSizeInfo(n),u=0;v.accessParentFrame&&(u=window.top.document.body.scrollTop);
t=v.scrollTop;p=v.maxHeight+Math.min(u-v.y,0)-50;l.css("max-height",p).parent().css("margin-top","0px");this.move(c,void 0,Math.max(u-v.y,0)+t+(p-Math.min(b.body.offsetHeight,p))/2)}if(f){l.addClass("gx-popup-pdf");var r=.5*n.body.clientWidth;var w=.85*n.body.clientHeight}a.autoresize||(r=a.width,w=a.height);this.resizePopupContent(r,w);d&&(a.position&&(b=parseInt(a.top,0),a=parseInt(a.left,0),this.move(c,a,b)),this.show(c))}},autofit_comp:function(a,b,d){if(!gx.lang.emptyObject(a)){var c=document;
a.zindex=null!=c.gxPopup?this.zdx+c.gxPopup.zindex:this.zdx;var f=a.id,l=a.isPdf;this.doc||(this.doc=a.document);c=this.doc;var n=c.getElementById(f+"_ifrm");!b&&gx.popup.ispopup()&&(b=gx.dom.iFrameDoc(n));a.frameDocument=b;a.frameWindow=n.contentWindow;b&&!l&&(b.gxPopup=a);n=c.getElementById(f+"_rs");var p=c.getElementById(f+"_t"),t=c.getElementById(f+"_b"),v=c.getElementById(f+"_c"),u=c.getElementById(f+"_gxtitle");u.innerHTML=b&&!l?b.title:"";u.style.width="auto";var r=gx.dom.getComputedStyle(v),
w=gx.dom.getComputedStyle(p),x=gx.dom.getComputedStyle(t),B=gx.dom.getComputedStyle(n),A=parseInt(r.height,0),D=parseInt(r.width,0),F=this.getiFrameSizeInfo(c),G=F.maxWidth,k=F.maxHeight,m=F.scrollTop,q=F.scrollLeft,y=F.x;F=F.y;var z=gx.dom.dimensions(t);a.autoresize||(A=a.height-A+z.h,D=a.width-D+z.w);var C=a.width-D,E=a.height-A;a.autoresize&&(!l&&b?(b=gx.HTML5?b.documentElement||b.body:b.body,c=d&&gx.util.browser.isEdge()?g.position.scrollbarWidth():0,b?(b.gxwidth||(b.gxwidth=b.scrollWidth),C=
b.gxwidth+c,c=b.gxwidth+30-G,E=b.scrollHeight+30-k,C=Math.max(C,u.clientWidth+15)-D-(0<c?c:0),E=b.scrollHeight-A-(0<E?E:0)):gx.util.browser.isIE()&&(0>C&&(C=0),0>E&&(E=0))):l&&(C=c.body.clientWidth/2,E=c.body.clientHeight/2));u=parseInt(a.top,0);A=parseInt(a.left,0);a.position||(u=(k-E)/2-z.h/2+m-F,A=(G-C)/2-z.w/2+q-y,0>u&&(u=5,E-=5),0>A&&(A=5,C-=5));t.style.top=parseInt(u,0)+"px";t.style.left=parseInt(A,0)+"px";a.autoresize?(a=function(J,H){H=parseInt(J,0)+H;return 0<H?H:J},p.style.width=a(w.width,
C)+"px",t.style.height=a(x.height,E)+"px",t.style.width=a(x.width,C)+"px",v.style.height=a(r.height,E)+"px",v.style.width=a(r.width,C)+"px",a=gx.util.browser.isIE()?4:2,n.style.top=parseInt(x.height,0)-parseInt(B.height,0)-a+"px",n.style.left=parseInt(x.width,0)-parseInt(B.width,0)-a+"px"):(A=a.height,D=a.width,n.style.left=Math.max(D,92)+"px",n.style.top=Math.max(A,72)+"px",t.style.width=Math.max(D+8,100)+"px",t.style.height=Math.max(A+8,80)+"px",p.style.width=Math.max(D+3,92)+"px",v.style.width=
Math.max(D-5,87)+"px",v.style.height=Math.max(A-28,44)+"px");gx.util.browser.isIPad()||gx.util.browser.isIPhone()?(v.style["overflow-y"]="auto",v.style["-webkit-overflow-scrolling"]="touch"):v.style.overflow="hidden";l&&gx.util.browser.isIE()?this.resizePopupContent("100%","100%"):this.resizePopupContent(parseInt(v.offsetWidth,10),parseInt(v.offsetHeight,10));d&&this.show(f)}},getiFrameSizeInfo:function(a){var b=gx.util.getWindowInfo().canAccessFrame,d={x:0,y:0,accessParentFrame:b};!b||window==window.top||
gx.lang.emptyObject(window.top)?(d.maxWidth=window.innerWidth||a.documentElement.clientWidth||a.body.offsetWidth,d.maxHeight=window.innerHeight||a.documentElement.clientHeight||a.body.offsetHeight,d.scrollTop=gx.dom.documentScroll(a).scrollTop,d.scrollLeft=gx.dom.documentScroll(a).scrollLeft):(b=gx.dom.position(window.frameElement),window.top.document.body.clientHeight>a.body.clientHeight?d.maxHeight=a.body.clientHeight:(d.maxHeight=window.top.document.body.clientHeight,d.y=b.y),d.scrollTop=a.body.scrollTop,
d.scrollLeft=a.body.scrollLeft,d.maxWidth=Math.min(window.top.document.body.clientWidth,a.body.clientWidth),window.top.document.body.clientWidth>a.body.clientWidth?d.maxWidth=a.body.clientWidth:(d.maxWidth=window.top.document.body.clientWidth,d.x=b.x));return d},_init:function(){}},_init:function(){gx.lang.inherits(this.Popup,this.Dialog);this.ext._init();var a=this.getPopup();if(a){try{a.frameDocument&&(gx.util.browser.isIE()?a.frameDocument=a.frameWindow.document:a.frameDocument.gxPopup=a)}catch(b){a.frameDocument=
a.frameWindow.document,gx.dbg.logEx(b,"gxpopup.js","_init")}a=a.window.gx.popup;gx.fx.obs.addObserver("gx.onload",a,function(){this.autofit()}.closure(a));gx.fx.obs.addObserver("grid.onafterrefresh",a,function(b,d,c){d<c&&this.autofit()}.closure(a));gx.fx.obs.addObserver("gx.onafterevent",a,function(){this.autofit()}.closure(a))}}}}(gx.$);
gx.ajax=function(g){function a(c,f,l){0<c&&(l=l||gx.O,gx.fn.setCurrentGridRow(c,f),(c=l.getGridById(c))&&c.instanciateRow(f))}var b=/\?(.*)/,d=function(c,f,l){gx.dbg.logMsg("Unable to execute external object "+c+" - "+f+"("+l+")")};return{reqHeader:"GxAjaxRequest",dfTimer:null,resolveParmKey:function(c){var f=!1;c.av?f=c.av:c.ctrl&&c.prop?f=c.ctrl+c.prop:c.ctrl&&(f=c.ctrl);return f},serviceUrl:function(c){var f=gx.ajax.selfUrl();c&&(f=b.test(f)?f.replace(b,"?"+c+gx.http.urlParameterSeparator(f)+"$1"):
f+("?"+c));return f},validationMessage:function(c,f,l,n,p,t){c=new gx.ajax.message(c,f,l,n,p,t);return gx.lang.apply(c,{isValidation:!0,beforeCall:gx.emptyFn,beforeAjaxCall:function(v){v.warnOnTimeout=!0;v.beforeSend=function(u){u.setRequestHeader("X-FULL-AJAX-REQUEST","1")}},beforeProcesResponse:function(v){var u,r=[],w=this.getParmsMetadata("input");for(u=0;u<w.length;u++)w[u].av&&r.push(w[u].av);v.isValidation=!0;v.validationInput=r}})},message:function(c,f,l,n,p,t){var v;return{disableForm:t,
gxO:f,grid:l,row:n,methods:[c],isValidation:!1,addMethod:function(u){this.methods.push(u)},gridsData:function(){var u=this.gxO.getGridById(this.grid,this.row),r={},w=function(B,A){A[B.gridName]={id:B.gridId,lastRow:Math.max(0,Number(B.lastRowId)),pRow:B.parentRow?B.parentRow.gxId:""}};if(u){var x=function(B,A){if(B){w(B,A);var D=gx.fn.currentGridRowImpl(B.gridId);D&&(A[B.gridName].lastRow=Math.max(0,Number(D.substr(-4,4))-1));x(B.parentGrid,A)}};(function(B,A,D,F){var G=function(k,m){return k?m.parentGrid===
k&&gx.text.startsWith(m.parentRow.gxId,F)?m:G(k.parentGrid,m):null};D=g.map(gx.O.Grids,function(k){return G(B,k)});g.each(D,function(k,m){w(m,A)})})(u,r,this.gxO,this.row);x(u,r)}else g.each(this.gxO.Grids,function(B,A){w(A,r)});return r},to_json:function(){var u={MPage:this.gxO.IsMasterPage,cmpCtx:this.gxO.CmpContext,parms:this.parms,hsh:this.hashedParms,objClass:this.gxO.ServerClass,pkgName:this.gxO.PackageName||"",events:this.methods};this.fullPost&&(u.fullPost=this.fullPost);this.addGXStateParms(u);
this.grid&&(u.grid=this.grid);u.grids=this.gridsData();this.row&&(u.row=this.row.substring(0,4),u.pRow=this.row.substring(4));return gx.json.serializeJson(u)},getParmsMetadata:function(u){for(var r=[],w={},x=0,B=this.methods.length;x<B;x++){var A=this.methods[x];if(this.gxO.EvtParms[A]){A=this.gxO.EvtParms[A]["input"==u?0:1];for(var D=0;D<A.length;D++)if(A[D].postForm||A[D].sPrefix||A[D].sSFPrefix||A[D].sCompEvt)r.push(A[D]);else{var F=gx.ajax.resolveParmKey(A[D]);F&&(void 0===w[F]?(w[F]=r.length,
r.push(A[D])):void 0===r[w[F]].grid&&void 0!==A[D].grid&&(r[w[F]]=A[D]))}}}return r},parmFromHidden:function(u,r){var w=gx.O;gx.setGxO(r);if(!gx.lang.emptyObject(u)&&!gx.lang.emptyObject(r)&&u.v2v){var x=gx.fn.getHidden(this.gxO.IsMasterPage?u.fld+"_MPAGE":gx.O.CmpContext+u.fld);u.v2v(x);x=r[u.gxvar]}gx.setGxO(w);return x},getInputParms:function(){for(var u=this,r=this.getParmsMetadata("input"),w=this.gxO.CmpContext,x=[],B=[],A,D,F,G,k,m,q=0,y=r.length;q<y;q++)if(D=F=void 0,m="",A=r[q],A.postForm){G=
{};G.formNode=this.gxO.getContainer()||gx.dom.form();this.fullPost=gx.http.getPostData(G,gx.http.postDataFormat.JSON);for(var z in gx.http.viewState)this.fullPost[z]||void 0===gx.http.viewState[z]||(this.fullPost[z]=gx.http.viewState[z])}else if(this.gxO.isTransaction()&&0<this.grid&&this.row&&"Gx_mode"===A.av&&"vMODE"===A.fld)x.push(gx.fn.getGridRowModeImpl(gx.fn.gridLvl(this.grid),this.grid,this.row));else if("Referrer"==A.prop)x.push(gx.referrer?gx.referrer:document.referrer);else if(A.sPrefix)x.push(this.gxO.sPrefix());
else if(A.sSFPrefix)x.push("");else if(A.sCompEvt)x.push(gx.fn.getHidden("_EventName").replace(this.gxO.sPrefix(),""));else{if(A.ctrl)if(A.prop)"GridRC"==A.prop?(G=(G=gx.parentGridRow(A.grid,this.gxO))?"_"+G:"",D={gridRC:gx.fn.getHidden(this.gxO.sPrefix()+A.av+G),rowSuffix:G,grid:A.grid}):D="GridCurrRow"==A.prop?gx.fn.currentGridRowImpl(A.grid):this.gxO.getCtrlPropertyValue(this.gxO.sPrefix()+A.ctrl,A.prop);else{if(F=this.gxO.getValidStructFld(A.ctrl))G=gx.fn.getControlGridRef(F.fld,F.grid),gx.html.controls.isMultiSelection(F.ctrltype)?
m=gx.dom.comboBoxToObj(G,D):"radio"===F.ctrltype&&(m=gx.dom.radioToObj(G,D)),m&&(D=m)}else if(G=function(J){J.forEach(function(H){if(H&&"function"==typeof H.c2v&&"function"==typeof H.val){var L=H.grid===u.grid?u.row:gx.fn.currentGridRowImpl(H.grid);void 0!==H.val(L)&&H.c2v(L);gx.fn.call_v2bc(H,gx.O)}H&&!0===H.isuc&&(k=u.row||(H&&H.grid?gx.fn.currentGridRowImpl(H.grid):void 0),(H.getUCInstance(k)||H.uc).execC2VFunctions())})},m=this.getParmVarVStruct(A),F=m[0],G(m),F||(m=this.getParmVarVStructGrid(A,
gx.O),G(m)),D="function"==typeof this.gxO[A.av]?this.gxO[A.av](this.row):void 0===this.gxO[A.av]?A.fld?gx.fn.getControlValue(A.fld):"":this.gxO[A.av],G=gx.fn.vStructForOld(A.av),!G||"date"!=G.type&&"dtime"!=G.type||"string"===typeof D&&(D=new gx.date.gxdate(D)),this.isValidation&&D instanceof gx.date.gxdate&&!D.HasDatePart&&(G=new gx.date.gxdate(""),G.assign_date(D),G.JsonNullFormat=gx.date.jsonNullFormat.YearOne,D=G),void 0!==A.grid){var C=D,E=[];g.each(this.gxO.Grids,function(J,H){if(H.gridId===
A.grid){J=H.parentRow?H.parentRow.gxId:"";if(F){D={pRow:J,c:[],hc:[],hsh:[],v:C};for(var L=1;L<=H.lastRowId;L++){k=gx.grid.getPaddedRowId(L);var I=F.isuc?gx.fn.getControlValue(F.fld+"_"+k+J):F.val(k+J);D.c.push(I);A.hsh&&D.hsh.push(gx.fn.getHash(w,F.fld,k+J));gx.lang.emptyObject(F.hc)||D.hc.push(gx.fn.getControlValue("GXHC"+F.fld+"_"+k+J))}}else gx.lang.isArray(D)&&(D={pRow:J,c:D,v:D[Number(gx.fn.currentGridRowImpl(A.grid))-1]});E.push(D)}});D=E}else A.hsh&&(F&&F.grid?(k=gx.fn.currentGridRowImpl(F.grid)||
"",""===k&&(D=this.parmFromHidden(F,this.gxO))):k="",B.push({hsh:gx.fn.getHash(this.gxO.CmpContext,A.fld,k),row:k}));x.push(void 0!==D?D:null)}return{input:x,hashed:B}},refreshOutputParms:function(){for(var u=this.getParmsMetadata("output"),r,w,x=0,B=u.length;x<B;x++)r=u[x],(r=this.getParmVarVStruct(r)[0])&&r.grid&&"function"==typeof r.c2v&&"function"==typeof r.val&&(w=gx.fn.currentGridRowImpl(r.grid),void 0!==r.val(w)&&r.v2c(w))},getParmVarVStructGrid:function(u,r){var w=[];(u=r.getAllGridsForColl(u.av))&&
u.forEach(function(x){var B=x.gridId;r.GXValidFnc.filter(function(A){return A.grid===B}).forEach(function(A){(vStruct=r.getValidStructFld(A.fld))&&vStruct.gxvar&&w.push(vStruct)})});return w},getParmVarVStruct:function(u){var r,w=[];u.av&&(r=gx.O.getFormBCForVar(u.av));r?w=Object.values(r).filter(function(x){return x.ctrltype}):void 0!==u.fld?w.push(u.fld?this.gxO.getValidStructFld(u.fld):null):this.grid&&this.row&&(r=this.gxO.getGridById(this.grid,this.row))&&(u=r.grid.getColumnForVar(u.av))&&w.push(this.gxO.getValidStruct(u.gxId));
return w},addGXStateParms:function(u){var r={};gx.notifications&&gx.notifications.webSocket.initialized&&gx.fn.getHidden("GX_WEBSOCKET_ID")&&(r.GX_WEBSOCKET_ID=gx.fn.getHidden("GX_WEBSOCKET_ID"));gx.lang.emptyObj(r)||(u.gxstate=r)},beforeCall:function(){p&&gx.fn.objectOnpost()},call:function(){v=g.Deferred();var u=gx.O;gx.setGxO(this.gxO);if(this.grid&&this.row){var r=gx.fn.currentGridRowImpl(this.grid);gx.fn.setCurrentGridRow(this.grid,this.row)}this.beforeCall();var w=this.getInputParms();p?(this.parms=
w.input,this.hashedParms=w.hashed,this.doAjaxCall(!1,this.disableForm)):(this.doClientSideCall(),this.refreshOutputParms());this.grid&&this.row&&gx.fn.setCurrentGridRow(this.grid,r);gx.setGxO(u);return v.promise()},doAjaxCall:function(u,r){var w=this.to_json();gx.evt.setProcessing({status:!0,ctx:"doAjaxCall"});!1!==r&&this.startFeedback();gx.fx.obs.notify("gx.onbeforeevent",[w,u]);u=gx.ajax.getPostInfo(this.gxO,w,u);u.handler=this.ajaxCallHandler.closure(this);u.error=this.ajaxCallError.closure(this);
u.handleAllStatusCodes=!0;u.url=gx.ajax.serviceUrl((gx.http.useNamedParameters(gx.ajax.selfUrl())?"gxevent=":"")+gx.ajax.encryptParms(this.gxO,"gxfullajaxEvt"));u.reqData=w;u.always=this.callback;u.contentType="application/json";this.beforeAjaxCall(u);gx.http.doCall(u)},beforeAjaxCall:gx.emptyFn,doClientSideCall:function(){var u=this.callback();v.resolve(u)},ajaxCallError:function(){v.resolve(!1);f.endFeedback()},afterAjaxCallHandler:function(u,r,w){w=w||gx.O;gx.evt.setProcessing({status:!1,ctx:"afterAjaxCallHandler"});
v.resolve(!u);u&&(w.endFeedback(),gx.fx.obs.notify("gx.onafterevent",[r]))},ajaxCallHandler:function(u,r,w){gx.evt.enter=!1;gx.csv.lastEvtResponse=null;gx.http.lastStatus=w.status;u=!1;if(w.status==gx.http.STATUS_FORBIDDEN)gx.util.alert.showError(gx.getMessage("GXM_runtimeappsrv")+" ("+w.status+" "+w.statusText+")"),u=!0;else if(gx.http.checkResponseStatus(w,this.isValidation))u=!0;else if(200>w.status||299<w.status)gx.dom.writeError(w.responseText,gx.getMessage("GXM_runtimeappsrv"),w.status),u=!0;
else if(gx.http.validJsonResponse(w,r)){var x=gx.json.evalJSON(r);null==x?gx.dom.writeError(r.toString(),gx.getMessage("GXM_runtimeappsrv"),w.status):(gx.csv.lastEvtResponse=x,r={response:x,isPostBack:!0,context:{fullAjaxCall:!0},gxObject:this.gxO,gridId:this.grid,row:this.row},this.beforeProcesResponse(r),gx.ajax.setJsonResponse(r).done(function(){gx.fx.obs.notify("gx.onafterevent",[x])}))}else u=!0;this.afterAjaxCallHandler(u,x,this.gxO)},beforeProcesResponse:gx.emptyFn,startFeedback:function(){this.gxO.startFeedback(!1,
this.isValidation)}}},maxGETLength:function(c){return c.AjaxSecurity?600:1350},getImageUrl:function(c,f){var l=c[f];if(gx.lang.emptyObject(l))return"";"object"==typeof l&&(c[f]=gx.ajax.resolveImageUrl(l));return gx.util.resourceUrl(gx.basePath+gx.staticDirectory+c[f],!0)},resolveImageUrl:function(c){var f;for(f=0;f<c.length;f++){var l=c[f];if(l.l==gx.languageCode&&l.t==gx.theme)return(l.i?"Resources/":"")+l.p}},encryptParms:function(c,f){return c.AjaxSecurity?gx.sec.encrypt(f):f},doPost:function(c,
f,l,n,p,t,v,u){!1!==l&&v.startFeedback();gx.fx.obs.notify("gx.onbeforeevent",[c,f]);gx.fn.objectOnpost();gx.fn.forceEnableControls(!1);var r=this.getPostInfo(v,c,f);r.rowId=p;r.gridId=n;r.url=gx.ajax.serviceUrl(c);r.evt=u;r.always=function(){!1!==l&&v.endFeedback();t&&t()};fnc=function(){u&&gx.fn.setHidden("_EventName",u);gx.evt.setGridEvt(n,p,v);gx.http.saveState();gx.http.doCall(r)};f?gx.lang.doCallTimeout(fnc,this,[],gx.evt.oldDoPostDelay):fnc.bind(this)()},getPostInfo:function(c,f,l){f={};f.formNode=
gx.dom.form();f.method="POST";f.encoding="UTF-8";f.useCash=!1;f.gxO=c;!0===l&&(f.sync=!0);f.handler=gx.http.postHandler;this.multipartInfo(f);return f},multipartInfo:function(c){gx.dom.hasSelectedFile()&&(c.multipart=!0,c.mimetype="text/html",c.formNode.encoding="multipart/form-data")},dispatchRefreshCommand:function(c,f){var l=void 0!==c.refresh_form;c=c.refresh||c.refresh_form;gx.util.balloon.clearAll();if("GET"==c)gx.http.reload(!0);else return c="RFR",f.IsMasterPage&&(c+="_MPAGE"),f=l||!gx.pO.fullAjax?
gx.pO:f,l=f.fullAjax,f.executeServerEvent(c,!gx.pO.fullAjax,null,!0,l);return g.Deferred().resolve()},doRefresh:function(c){var f=c.IsMasterPage?"RFR_MPAGE":"RFR";c=gx.pO.fullAjax?c:gx.pO;c.executeServerEvent(f,!0,null,!0,c.fullAjax)},dispatchCommands:function(c,f,l,n){l=l||{};var p,t=l.ignoreCmds||[];n=void 0===n?0:n;f=f||gx.O;if(c&&0<c.length){for(var v=c.length,u=n;u<v;u++){n=c[u];var r=Object.keys?Object.keys(n)[0]:"";if(!gx.util.inArray(r,t)){n.set_focus&&gx.fn.usrSetFocus(n.set_focus);n.print&&
gx.printing.print(n.print);n.close&&(r=[],n.close.values instanceof Array&&(r=n.close.values),gx.fn.closeWindow(r,{parmsMetadata:n.close.metadata,updateParms:l.updateParms},f));if(void 0!==n.refresh||void 0!==n.refresh_form||""===n.cmp_refresh){gx.ajax.dispatchRefreshCommand(n,f).then(function(){gx.ajax.dispatchCommands(c,f,l,u+1)});return}n.redirect&&(r=n.redirect,r.url=gx.ajax.removeGXParms(r.url),gx.http.redirect(r.url,1===r.forceDisableFrm,2===r.forceDisableFrm,f,!1));n.calltarget&&gx.nav.callFromServerRedirect(n.calltarget.url,
n.calltarget.target);n.callback&&n.callback.apply(n.callback.scope,n.args||[]);n.cmp_refresh&&(r=gx.pO.getWebComponent(n.cmp_refresh),gx.evt.dispatcher.dispatch("REFRESH",r));if(n.popup){c.length>u+1&&(gx.lang.isArray(n.popup)?n.popup[7]=c.slice(u+1):n.popup.OncloseCmds=c.slice(u+1));gx.popup.open(n.popup,f);break}if(n.ucmethod&&(p=gx.getObj(n.ucmethod.CmpContext,n.ucmethod.IsMasterPage))){r=gx.O;gx.setGxO(p);if((p=gx.O.getUserControl(n.ucmethod.Control))&&"function"==typeof p[n.ucmethod.Method])try{p[n.ucmethod.Method].apply(p,
n.ucmethod.Parms);var w=!0}catch(x){gx.dbg.logEx(x,"gxcallrpc.js","Failed to execute usercontrol method: "+n.ucmethod.Method)}gx.setGxO(r)}n.exomethod&&(gx.ajax.dispatchExoMethod(n.exomethod),w=!0);n.exoprop&&gx.ajax.dispatchExoProperty(n.exoprop)}}w&&f.showMessages(!0)}gx.fn.usrSetFocus_commit()},resolveExoObject:function(c,f){c=c[f];var l;if(!c){f=f.split(".");c=window;var n=0;for(l=f.length;n<l;n++)if(c=c[f[n]],void 0===c)return}return c},dispatchExoMethod:function(c){var f=gx.getObj(c.CmpContext,
c.IsMasterPage),l,n;if(f){var p=gx.O;gx.setGxO(f);try{(l=this.resolveExoObject(f,c.ObjectName))&&"GlobalEvents"===c.ObjectName?l.executeMethod(c.Method,c.Parms):c.IsEvent?gx.fx.obs.notify(c.Method,c.Parms):l?(n=l[c.Method])?n.apply(l,c.Parms):d("method","Method not found",c.Method):d("method","Object not found",c.ObjectName)}catch(t){gx.dbg.logEx(t,"gxcallrpc.js","dispatchCommands")}finally{gx.setGxO(p)}}},dispatchExoProperty:function(c){var f=gx.getObj(c.CmpContext,c.IsMasterPage),l;if(f){var n=
gx.O;gx.setGxO(f);try{(l=this.resolveExoObject(f,c.ObjectName))?l[c.PropertyName]=c.Value:d("property","Object not found",c.ObjectName)}catch(p){gx.dbg.logEx(p,"gxcallrpc.js","dispatchCommands")}finally{gx.setGxO(n)}}},ROW_ID_REGEXP:/[0-9]{4}$/,dispatchPreCommands:function(c,f,l,n,p,t,v,u){f=f||gx.O;if(c&&0<c.length)for(l=c.length,t=0;t<l;t++){var r=c[t];if(r.load){if(n=f.getGridById(r.load.grid,u))r.load.props.values=r.load.values,n.loadNewRows(r.load.props)}else r.addlines&&(gx.lang.doCall(gx.fn.setJsonValues,
p),gx.lang.doCall(gx.fn.setJsonProperties,v,u),(n=f.getGridById(r.addlines.grid,u))&&n.getNewRows(r.addlines.count))}},willLeavePage:function(c){if(c)for(var f=c.length,l=0;l<f;l++)if(c[l].close)return!0;return!1},getRedirectCommand:function(c){if(c)for(var f=c.length,l=0;l<f;l++){var n=c[l];if(n.popup)break;if(n.redirect)return n}return null},saveJsonResponse:function(c){this.lastJsonResponse=JSON.parse(gx.lang.htmlDecode(c))},clearJsonResponse:function(){delete this.lastJsonResponse},getJsonResponse:function(){this.lastJsonResponse&&
delete this.lastJsonResponse.gxCommands;return this.lastJsonResponse},setPostResponse:function(c,f,l){return this.setJsonResponse({gridId:c.gridId,row:c.rowId,response:c,isPostBack:!0,gxObject:f||gx.O,context:l})},setJsonResponse:function(c){var f=g.Deferred(),l=c.response,n,p=c.isPostBack,t=c.afterCmpLoaded,v=c.gxObject,u=c.gridId,r=c.row,w=c.context||{},x=!!c.isValidation,B=gx.fn,A=gx.lang.doCall,D=this.willLeavePage(l.gxCommands),F=this.getShouldUpdatePropertyFunction(l);if(v){var G=gx.O;gx.O=
v}if(u&&r){var k=gx.fn.currentGridRow(u);gx.fn.setCurrentGridRow(u,r)}if(gx.evt.srvCommand)gx.evt.srvCommand=!1,A(gx.ajax.dispatchCommands,l.gxCommands,v),f.resolve(D);else{var m=this.getRedirectCommand(l.gxCommands);if(m&&1===m.redirect.forceDisableFrm)A(gx.ajax.dispatchCommands,l.gxCommands,v,{ignoreCmds:["refresh","cmp_refresh"]}),f.resolve(D);else if(D)A(gx.ajax.dispatchCommands,l.gxCommands,v),f.resolve(D);else{A(gx.ajax.dispatchPreCommands,l.gxCommands,v,l.gxComponents,l.gxHiddens,l.gxValues,
l.gxGrids,l.gxProps,r);A(B.clearCompontHiddens,l.gxComponents);var q=A(B.setJsonHiddens,v,l.gxHiddens);A(B.setJsonComponents,l.gxComponents,l.DynComponentMap,l.gxHiddens,function(y){gx.http.loadStyles();gx.updateTheme();p&&gx.fn.installComponents(!1);"function"==typeof t&&t();G&&(gx.O=G);var z=[],C=A(B.setJsonValues,l.gxValues,x,u,r,F),E=A(B.setJsonProperties,l.gxProps,r),J=g.map(y,function(K){K=B.cmpContextFromCtrl(K);if(K=gx.pO.WebComponents[K])return gx.lang.objToArray(K.UserControls).concat(K.getUserControlGrids())});
x||!v.isTransaction()&&v.fullAjax||gx.util.balloon.clearAll();B.enableDisableDelete(v);p&&(n=A(B.loadJsonGrids,l.gxGrids,p,z));x&&gx.ajax.transformValidationMessages(c,v,l.gxMessages);A(B.setErrorViewer,l.gxMessages);var H=function(K){K=K||[];var M;gx.pO.supportAjaxEvents&&(M=gx.lang.arrayUnique(E.concat(C,J,K,q),function(N,O){return N.ControlName===O.ControlName}));B.objectPostback(M,y);x||B.setFocusAfterLoad(!0);return g.Deferred().resolve()}.closure(this),L=function(){!w.fullAjaxCall||w.autoRefreshing||
!p&&gx.popup.currentPopup||v.endFeedback();A(gx.ajax.dispatchCommands,l.gxCommands,v);k&&gx.fn.setCurrentGridRowSafe(u,k);f.resolve(D)}.closure(this),I=[];p&&(v.execV2CFunctions(!0,z,!1),n&&I.push(n.done(H)),y&&y.length&&I.push(H.apply(this,[])));g.when.apply(g,I).done(L)},p)}}return f.promise()},getShouldUpdatePropertyFunction:function(c){var f,l,n,p={};if(c.gxGrids)for(f=0;f<c.gxGrids.length;f++){var t=c.gxGrids[f];for(l=0;l<t.Count;l++)for(n=0;n<t[l].Props.length;n++)p[t[l].Props[n][0]]=!0}return function(v){return!p[v]}},
transformValidationMessages:function(c,f,l){f=f.cmpCtx||"MAIN";"undefined"!=typeof l[f]&&(l[f]={fields:c.validationInput,msgs:l[f]})},disableForm:function(c,f){gx.pO.startFeedback(f,void 0===c||c)},enableForm:function(c){c=c||gx.O;gx.pO&&gx.pO.endFeedback();c!=gx.pO&&c.endFeedback()},isFormEnabled:function(){var c=gx.getActiveContext();return c==top&&null!=gx.popup.getPopup()?!0:gx.pO?!c.gx.pO.isFeedbackOn()&&!c.gx.O.isFeedbackOn():!0},saveFormForAutoComplete:function(){if(!(!gx.ajax.formAutocomplete||
gx.grid.drawAtServer||gx.util.browser.isIE()&&(gx.util.browser.isCompatMode()||7>=document.documentMode||7>=gx.util.browser.ieVersion()))){var c=gx.dom.form(),f=document.createElement("iframe");f.id="gx_iframe_force_ajax_autocomplete";f.name="gx_iframe_force_ajax_autocomplete";f.style.cssText="display: none";f.src="/content/blank";document.body.appendChild(f);var l=document.createElement("input");l.type="submit";l.style.cssText="display: none";c.appendChild(l);var n=c.target,p=c.action;c.target=f.name;
c.action=f.src;var t=g(l);gx.evt.attach(l,"click",function(v){v.stopPropagation();return!0});t.trigger("click");setTimeout(function(){c.target=n;c.action=p;c.removeChild(l);document.body.removeChild(f)})}},suggest:function(c,f,l,n,p,t,v){c=new gx.fx.suggestProvider(c,f,l,n);return new gx.fx.autoSuggestControl(gx.fn.screen_CtrlRef(l),c,l,p,t,v)},hideCode:function(c,f,l){var n=this.objectUrl()+"?";f="gxajaxHideCode_"+f;for(var p=c.length,t=0;t<p;t++)f+=","+encodeURIComponent(eval(c[t]));n+=gx.ajax.encryptParms(gx.O,
f);gx.http.callBackend_impl(function(v){gx.fn.setVarValues(l,v)},n,!0,gx.http.modes.retval);return this.lastStatus},callCrl:function(c,f,l){var n=l?gx.fn.setGridComboValues:gx.fn.setComboValues,p=l?f:gx.fn.screen_CtrlRef(f).name;l=this.objectUrl()+"?";c="gxajaxCallCrl_"+f+","+this.arrayToUrl(c);l+=gx.ajax.encryptParms(gx.O,c);gx.http.callBackend_impl(function(t){n(p,t)},l,!0,gx.http.modes.retval)},refreshGrid:function(c,f){var l=gx.O;gx.setGxO(c.parentObject);var n="GET",p=gx.ajax.gxObjectUrl(c.parentObject)+
"?",t="gxajaxGridRefresh_"+c.gridName+","+f;gx.fx.obs.notify("grid.onbeforerefresh",[c]);c.autoRefreshing=!0;gx.csv.autoRefreshing=c;var v=c.grid.rows.length;c.setPagingVars(0,0);if(t.length>gx.ajax.maxGETLength(gx.O)){n="POST";var u=["GXEvent="+gx.ajax.encryptParms(gx.O,"gxajaxGridRefresh_"+c.gridName)];f=f.split(",");t=0;for(var r=f.length;t<r;t++)u.push("GXParm"+t+"="+f[t])}else p+=gx.ajax.encryptParms(gx.O,t);c.grid.mask();gx.http.doCall({method:n,url:p,reqData:u,handler:function(w,x,B){gx.http.postHandler(w,
x,B,{autoRefreshing:!0});gx.fx.obs.notify("grid.onafterrefresh",[c,v,c.grid.rows.length])},always:function(){gx.csv.autoRefreshing=null;c.autoRefreshing=!1;c.grid.unmask();gx.setGxO(l)}})},newRows:function(c,f,l,n,p,t,v,u){var r=this.objectUrl()+"?",w=[],x=gx.O;c=gx.fn.gridObj(c,v?l+"_"+v:l,f);f="GET";l="gxajaxNewRow_"+l;w.push(l);w.push(n);w.push(p);w.push(t);(x.IsComponent||x.IsTypeComponent)&&w.push(x.CmpContext);w=w.concat(c.getParmsValues(!1,c.postingVariables,!1));n=w.join(",");if(n.length>
gx.ajax.maxGETLength(x)){f="POST";x=["GXEvent="+gx.ajax.encryptParms(x,l)];n=1;for(p=w.length;n<p;n++)x.push("GXParm"+(n-1)+"="+w[n]);n=x.join("&")}else r+=gx.ajax.encryptParms(x,n),n=null;gx.http.callBackend_simple(r,!0,null,f,n);if(r=gx.http.lastResponse)r=gx.json.evalJSON(r),u.call(c,r),gx.dom.indexElements(),gx.fx.obs.notify("gx.onafterevent",[r])},loadCrl:function(c,f,l){if("1"==gx.fn.getControlValue("IsConfirmed"))this.lastStatus=0;else{var n=this.objectUrl()+"?";c="gxajaxExecAct_"+c+","+this.arrayToUrl(f);
n+=gx.ajax.encryptParms(gx.O,c);gx.http.callBackend_impl(function(p){gx.fn.setVarValues(l,p)},n,!0,gx.http.modes.retval)}},udp:function(c,f,l){var n=this.objectUrl()+"?";c=c+","+this.arrayToUrl(f);n+=gx.ajax.encryptParms(gx.O,c);gx.http.callBackend_impl(function(p){gx.fn.setVarValues(l,p)},n,!0,gx.http.modes.retval)},srvEvt:function(c,f,l,n){var p=this.objectUrl()+"?";c=c+","+f+","+this.arrayToUrl(l);p+=gx.ajax.encryptParms(gx.O,c);gx.http.callBackend_impl(function(t){gx.fn.setVarValues(n,t)},p,!0,
gx.http.modes.full)},validSrvEvt:function(c,f,l){var n=gx.fn.currentGridRowImpl(f);if(0<f){var p=gx.fn.currentGridRowImpl(f);a(f,n,l)}if(gx.fx.delayedValidation){var t=g.Deferred(),v=arguments;gx.fx.obs.addObserver("gx.validation",this,function(){return this.validSrvEvt_impl.apply(this,v).then(function(u){t.resolve(u);a(f,p,l)})},{single:!0,async:!0});return t.promise()}return this.validSrvEvt_impl.apply(this,arguments).then(function(u){a(f,p,l);return u})},validCliEvt:function(c,f,l,n){n=n||gx.O;
return gx.evt.dispatcher.dispatch({eventName:c,fn:l},n,f,gx.fn.currentGridRowImpl(f),!1,void 0,void 0,gx.evt.dispatcher.types.validation)},validSrvEvt_impl:function(c,f,l){l=l||gx.O;var n=gx.fn.currentGridRowImpl(f);return gx.evt.dispatcher.dispatch(c,l,f,n,!0,void 0,void 0,gx.evt.dispatcher.types.validation).then(function(p){l.refreshOlds();return p})},getParmsPostData:function(c){for(var f="",l=0;l<c.length;l++)0<l&&(f+="&"),f+="GXParm"+l+"="+this.parmToUrl(c[l],!0);return f},getCallerUrl:function(c){if(gx.stackSupported()){c=
(c=gx.call_stack_storage.get(gx.stackId(c)))||[];var f=1==c.length&&c[0]!=gx.ajax.selfUrl()?c[0]:"";return f=1<c.length?c[c.length-2]:f}return gx.fn.getHidden("sCallerURL")},pushReferer:function(c,f){f="undefined"==typeof f?location.href:gx.absoluteurl(f);if(gx.stackSupported()){"undefined"==typeof c&&(c=gx.popup.popuplvl());var l=gx.call_stack_storage.get(gx.stackId(c));l=l||[];f!=gx.util.lastArray(l)&&l.push(f);gx.call_stack_storage.set(gx.stackId(c),l)}else c=this.objectUrl()+"?",f="dyncall,PushReferer,"+
encodeURIComponent(f),c+=gx.ajax.encryptParms(gx.O,f),gx.http.callBackend_simple(c,!0,!0)},windowClosed:function(c){if(gx.stackSupported())if(-1==c){c=gx.stackId(gx.popup.popuplvl());var f=gx.call_stack_storage.get(c);f=f||[];f.pop();gx.call_stack_storage.set(c,f)}else gx.call_stack_storage.remove(gx.stackId(c));else c=-1==c?",PopReferer":",DeleteReferer,"+c.toString(),f=this.objectUrl()+"?",f+=gx.ajax.encryptParms(gx.O,"dyncall"+c),gx.http.callBackend_simple(f,!0,!0)},aggSel:function(c,f,l){var n=
this.objectUrl()+"?";c="gxajaxAggSel"+f+"_"+c+","+this.arrayToUrl(l);n+=gx.ajax.encryptParms(gx.O,c);return gx.http.callBackend_impl(null,n,!1,gx.http.modes.retval)[0]},aggSelDecimal:function(c,f,l,n,p){return gx.num.parseFloat(this.aggSel(c,f,p),l,n)},aggSelInteger:function(c,f,l){return parseInt(this.aggSel(c,f,l),10)},dynComponent:function(c,f,l,n){var p=g.Deferred();c=gx.util.removeBaseUrl(c).toLowerCase();gx.gen.isDotNet()&&(c+=".aspx");c=gx.ajax.objectUrl(c);l="GXEvent="+gx.ajax.encryptParms(gx.O,
"dyncomponent")+"&GXAction="+encodeURIComponent(l)+"&GXParm0="+encodeURIComponent(n);for(n=0;n<f.length;n++)l+="&GXParm"+(n+1).toString()+"="+encodeURIComponent("function"==typeof f[n].getUrlVal?f[n].getUrlVal():f[n]);gx.http.doCall({method:"POST",url:c,reqData:l,handler:function(t,v){p.resolve(gx.json.evalJSON(v))},error:function(){p.reject()}});return p.promise()},selfUrl:function(){return location.href.replace(/#[\s\S]*$/,"")},removeGXParms:function(c){return c.replace(/\?gxajaxEvt,?|\?gxportlet,?/,
"?")},getSecurityToken:function(c){if(c&&c.ajaxSecurityToken){var f="GX_AUTH_"+(c.CmpContext?c.CmpContext:"")+c.ServerClass;f=f.toUpperCase();c=gx.fn.getHidden(f)||c.InternalParms[f];return{id:f,value:c}}},arrayToUrl:function(c,f){for(var l="",n=c.length,p=0;p<n;p++)l+=this.parmToUrl(c[p],f)+",";return l},ControlValuesObject:function(c,f){c=gx.fn.vStructForVar(gx.unprefixVar(c));return null!=c&&gx.html.controls.isMultiSelection(c.ctrltype)?(c=gx.fn.getControlGridRef(c.fld,c.grid),gx.dom.comboBoxToObj(c,
f)):null},parmToUrl:function(c,f){var l=eval(c);if(l instanceof Array&&2==l.length&&"string"==typeof l[0]&&"string"==typeof l[1]){var n=gx.fn.vStructForVar(l[0]);null!=n&&(l=gx.fn.getGridCtrlProperty(n.grid,n.fld,l[1]))}f&&(f=gx.ajax.ControlValuesObject(c,l))&&(l=f);"object"==typeof l&&(l=gx.json.serializeJson(l));if("undefined"==typeof l||null==l)f=!1,c&&0===c.indexOf("gx.O.")&&(c=gx.unprefixVar(c),c=gx.fn.getHidden(gx.O.CmpContext+c),null!=c&&"undefined"!=typeof c&&(l=c,f=!0)),f||(l="");return encodeURIComponent(l)},
gxObjectUrl:function(c){return this.objectUrl(c.serviceUrl,c&&c.fullAjax?c.CmpContext:void 0)},objectUrl:function(c,f){f=void 0!==f?f:gx.csv.cmpCtx;c||(c=f?gx.fn.getControlValue(f+"_CMPPGM"):gx.ajax.selfUrl(),null!=c&&(c=c.replace(/\?.*/,""),c=c.replace(/#[\s\S]*$/,"")),c=this.objnameFromUrl(c));return gx.absoluteurl(this.objToRelativeUrl(c))},objToRelativeUrl:function(c){return null==c||gx.isabsoluteurl(c)?c:""===gx.servletBasePath?c:gx.servletBasePath+"/"+c},objnameFromUrl:function(c){0<=c.indexOf("?")&&
(c=c.split("?")[0]);var f=c.split("/"),l=f.length;return 0===l?c:f[l-1]},_init:function(){if(gx.stackSupported()){var c=gx.json.evalJSON(gx.fn.getHidden("GX_NAV"));if(c)for(var f=0;f<c.length;f++)gx.ajax.pushReferer(gx.popup.popuplvl(),c[f]);gx.ajax.pushReferer(gx.popup.popuplvl(),window.location.toString())}}}}(gx.$);
gx.util.balloon={balloons:{},timerOn:!1,lastLbl:null,impl:function(){function g(a,b){var d=$("#"+a.id+"_dp_trigger");if(0<d.length)return d.get(0);if(b&&0<b.length&&(d=$("[data-gx-attached-ctrl~='"+a.id+"']"),0<d.length))return d.parent().get(0)}this.init=function(a,b){this.id=a;this.balloonid=a+"_Balloon";this.hasMessage=!1;this.messageWar=this.messageErr="";this.isError=!1;this.active=!0;this.errorValue=null;this.sourceElements=b||[]};this.clear=function(){this.hasMessage=!1;this.messageWar=this.messageErr=
"";this.active=!1;this.errorValue=null;gx.util.balloon.lastLbl=null};this.setMessage=function(a){this.hasMessage||(this.messageWar=a,this.hasMessage=!0)};this.setAsFormatError=function(){this.isFormatError=!0;gx.csv.setFormatError(this.id,!1)};this.setError=function(a){this.hasMessage||(this.messageErr=a,this.hasMessage=this.isError=!0,this.isFormatError&&gx.csv.setFormatError(this.id))};this.create=function(a,b,d,c){var f=document.createElement("span");f.id=a;f.className=d;a=document.createElement("div");
a.style.position="absolute";a.style.zIndex=100;a.style.display="none";a.classList.add("gx-error__message-container");c=document.createTextNode(c);f.appendChild(c);a.appendChild(f);"right"==gx.csv.messagePosition||"bottom"==gx.csv.messagePosition?(c=$(b).closest(".gx-attribute"),!0===gx.csv.overlap&&gx.runtimeTemplates&&0<c.length?c.append(a):(c=g(b))?0<=c.id.indexOf("_dp_trigger")?$(c).closest(".dp_container").append(a):$(c).after(a):$(b).after(a)):!0===gx.csv.overlap?$(b).after(a):$(b).before(a);
!0===gx.csv.overlap?(f.style.position="static",f.style.zIndex="1"):(a.style.position="relative",f.style.position="relative");return f};this.getControlValue=function(){for(var a=[gx.fn.getControlValue(this.id)],b=0,d=this.sourceElements.length;b<d;b++)a.push(gx.fn.getControlValue(this.sourceElements[b]));return a.join(";")};this.groupControl=function(a){(a=gx.dom.el(a))&&"INPUT"===a.nodeName&&"radio"===a.type&&(a=a.parentNode&&"SPAN"==a.parentNode.tagName?a.parentNode:gx.dom.findParentByTagName(a,
"table"));return a};this.hideBalloon=function(a){a=a.parentNode;try{a&&(a.style.display="none")}catch(b){gx.dbg.logEx(b,"gxballoon.js","hideBalloon")}};this.showBalloon=function(a){try{var b=gx.csv.messagePosition,d=gx.dom.el(this.id),c=a.parentNode,f=$(c),l,n,p=gx.popup.ispopup()?"flipfit":"none",t=d,v=g(d,this.sourceElements);gx.lang.requestAnimationFrame(function(){if(this.active)if(!0===gx.csv.overlap){switch(b){case "top":l="left bottom";n="left top";break;case "right":l="left center";n="right center";
t=v||t;break;case "bottom":l="left top";n="left bottom";break;case "left":l="right center",n="left center"}f.fadeIn({queue:!1}).css("display","block");f.position({my:l,at:n,of:t,collision:p})}else c.style.display="top"!=b&&"bottom"!=b||!1!==gx.csv.overlap?"inline":"block"},this)}catch(u){gx.dbg.logEx(u,"gxballoon.js","showBalloon")}};this.show=function(a){var b,d,c;if(void 0===document.readyState||"complete"==document.readyState){try{if(!1===this.hasMessage)return!0;var f=gx.dom.el(this.id);null===
f&&null!==gx.csv.validatingUC&&(f=gx.csv.validatingUC.getContainerControl());if("hidden"==f.type){var l=gx.dom.byId("span_"+this.id);null!==l&&(f=l)}else if("INPUT"===f.nodeName&&"radio"===f.type){var n=gx.dom.byName(gx.dom.id(f));f=gx.dom.findRadioContainer(f)}if(n){l=[];var p=0;for(c=n.length;p<c;p++)l.push(n[p]);n=l}else for(n=[f],p=0,c=this.sourceElements.length;p<c;p++)n.push(gx.dom.el(this.sourceElements[p]));this.active=b=!0;if(0<this.messageErr.length){var t="Error";var v=this.messageErr}else 0<
this.messageWar.length&&(t="Warning",v=gx.html.encode(this.messageWar));""!==t&&(l=t+"Messages",gx.dom.addPrefixClass(f,t),(d=gx.dom.byId(this.balloonid))?(d.innerHTML=v,d.className=l,b=!1):d=this.create(this.balloonid,f,l,v));gx.util.balloon.lastLbl&&gx.csv.oneAtAtime&&this.hideBalloon(gx.util.balloon.lastLbl);gx.util.balloon.lastLbl=d;!0===a?gx.csv.oneAtAtime||this.showBalloon(d):this.showBalloon(d);if(!1===gx.util.balloon.timerOn&&0<gx.csv.dismissSeconds)gx.util.balloon.timerOn=!0,this.timerId=
setTimeout(function(){gx.util.balloon.clearAll()},1E3*gx.csv.dismissSeconds);else if(b)for(gx.csv.oneAtAtime&&(gx.evt.attach(f,"mouseout",gx.util.balloon.cvsMouseOutHandler.closure(this)),gx.evt.attach(f,"mouseover",gx.util.balloon.cvsMouseOverHandler.closure(this))),c=n.length,p=0;p<c;p++)"INPUT"===n[p].nodeName&&"radio"===n[p].type?gx.evt.attach(n[p],"change",gx.util.balloon.cvsHide,this):gx.evt.attach(n[p],"blur",gx.util.balloon.cvsHide,this);this.errorValue=this.getControlValue()}catch(u){gx.dbg.logEx(u,
"gxballoon.js","show")}return!this.isError}}},cvsHide:function(){try{var g=this.groupControl(this.id);var a=this.getControlValue();if(a!=this.errorValue){this.errorValue=a;var b=gx.dom.byId(this.balloonid);null!=b&&(g&&(gx.dom.removePrefixClass(g,"Error"),gx.dom.removePrefixClass(g,"Warning")),this.hideBalloon(b),this.active=!1)}}catch(d){}},cvsMouseOutHandler:function(){if(this.active){var g=gx.dom.byId(this.balloonid);null!=g&&(gx.util.balloon.lastLbl?gx.util.balloon.lastLbl.id!=g.id&&this.hideBalloon(g):
this.hideBalloon(g))}},cvsMouseOverHandler:function(){if(this.active){var g=gx.dom.byId(this.balloonid);null!=g&&this.showBalloon(g)}},clearAll:function(){var g;this.timerOn=!1;for(g in this.balloons){var a=this.balloons[g];var b=gx.util.balloon.cvsHide.closure(a);a.clear();b()}},clear:function(g){try{var a=gx.csv.ctxControlId(g);if(this.balloons[a]){var b=this.balloons[a];var d=gx.util.balloon.cvsHide.closure(b);b.clear();d()}}catch(c){gx.dbg.logEx(c,"gxballoon.js","clear")}},getNew:function(g,a,
b){b=b||[];var d,c=b.length;"undefined"!=typeof a&&(g=g+"_"+a);try{var f=gx.fn.screen_CtrlRef(g);"INPUT"===f.nodeName&&"radio"===f.type&&(gx.dom.byName(gx.dom.id(f)),f=gx.dom.findRadioContainer(f),f.id||f.setAttribute("id","BallonAnchor_"+g));var l=gx.dom.id(f);g=gx.csv.ctxControlId(l);for(d=0;d<c;d++)f=gx.fn.screen_CtrlRef(b[d]),l=gx.dom.id(f),b[d]=gx.csv.ctxControlId(l)}catch(n){gx.dbg.logEx(n,"gxballoon.js","getNew")}this.balloons[g]?(a=this.balloons[g],a.sourceElements=b||[],a.clear()):(a=new this.impl,
this.balloons[g]=a,a.init(g,b));return a}};
(function(g){var a=function(){var b={"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":"Asia/Amman Asia/Jerusalem Europe/Helsinki Asia/Damascus Africa/Cairo Asia/Gaza Europe/Minsk".split(" "),"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],
"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk",
"Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},d=function(v){v=-v.getTimezoneOffset();return null!==v?v:0},c=function(){var v=d(new Date(2014,0,2)),u=d(new Date(2014,5,2)),r=v-u;return 0>r?v+",1":0<r?u+",1,s":v+",0"},f=function(){var v;if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.DateTimeFormat&&(v=Intl.DateTimeFormat(),"undefined"!==typeof v&&"undefined"!==typeof v.resolvedOptions)&&(v=v.resolvedOptions().timeZone)&&(-1<v.indexOf("/")||
"UTC"===v))return v},l=function x(u,r,w){"undefined"===typeof r&&(r=864E5,w=36E5);var B=(new Date(u.getTime()-r)).getTime();u=u.getTime()+r;for(var A=(new Date(B)).getTimezoneOffset(),D=null;B<u-w;){var F=new Date(B);if(F.getTimezoneOffset()!==A){D=F;break}B+=w}return 864E5===r?x(D,36E5,6E4):36E5===r?x(D,6E4,1E3):D},n=function(u,r,w,x){if("N/A"!==w)return w;if("Asia/Beirut"===r){if("Africa/Cairo"===x.name&&13983768E5===u[6].s&&14116788E5===u[6].e||"Asia/Jerusalem"===x.name&&13959648E5===u[6].s&&14118588E5===
u[6].e)return 0}else if("America/Santiago"===r){if("America/Asuncion"===x.name&&14124816E5===u[6].s&&1397358E6===u[6].e||"America/Campo_Grande"===x.name&&14136912E5===u[6].s&&13925196E5===u[6].e)return 0}else if("America/Montevideo"===r){if("America/Sao_Paulo"===x.name&&14136876E5===u[6].s&&1392516E6===u[6].e)return 0}else if("Pacific/Auckland"===r&&"Pacific/Fiji"===x.name&&14142456E5===u[6].s&&13961016E5===u[6].e)return 0;return w},p=function(u,r){for(var w={},x=a.olson.dst_rules.zones,B=x.length,
A=b[r],D=0;D<B;D++){var F=x[D];var G=x[D];for(var k=0,m=0;m<u.length;m++)if(G.rules[m]&&u[m]){if(u[m].s>=G.rules[m].s&&u[m].e<=G.rules[m].e)k=0,k+=Math.abs(u[m].s-G.rules[m].s),k+=Math.abs(G.rules[m].e-u[m].e);else{k="N/A";break}if(864E6<k){k="N/A";break}}G=n(u,r,k,G);"N/A"!==G&&(w[F.name]=G)}for(var q in w)if(w.hasOwnProperty(q))for(x=0;x<A.length;x++)if(A[x]===q)return q;return r},t=function(u){var r=function(){for(var w=[],x=0;x<a.olson.dst_rules.years.length;x++){var B=a.olson.dst_rules.years[x];
var A=(new Date(B,0,1,0,0,1,0)).getTime();B=(new Date(B,12,31,23,59,59)).getTime();for(var D=(new Date(A)).getTimezoneOffset(),F=null,G=null;A<B-864E5;){var k=new Date(A),m=k.getTimezoneOffset();m!==D&&(m<D&&(F=k),m>D&&(G=k),D=m);A+=864E5}B=F&&G?{s:l(F).getTime(),e:l(G).getTime()}:!1;w.push(B)}return w}();return function(w){for(var x=0;x<w.length;x++)if(!1!==w[x])return!0;return!1}(r)?p(r,u):u};return{determine:function(){var u=navigator.userAgent.toLowerCase(),r=f();r||(-1!=u.indexOf("firefox")&&
"undefined"!==typeof Intl&&"undefined"!==typeof Intl.DateTimeFormat&&(u=Intl.DateTimeFormat(void 0,{timeZoneName:"long"}).format(new Date).toLowerCase(),-1!=u.indexOf("montevideo")||-1!=u.indexOf("uruguay"))&&(r="America/Montevideo"),r||(r=a.olson.timezones[c()]),"undefined"!==typeof b[r]&&(r=t(r)));return{name:function(){return r}}}}}();a.olson=a.olson||{};a.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu",
"-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab",
"-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg",
"300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe",
"660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"};a.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572E5,s:12090744E5},{e:1250802E6,s:1240524E6},{e:12858804E5,s:12840696E5},!1,!1,!1,{e:14116788E5,s:1406844E6}]},{name:"Africa/Casablanca",rules:[{e:12202236E5,
s:12122784E5},{e:12508092E5,s:12438144E5},{e:1281222E6,s:12727584E5},{e:13120668E5,s:13017888E5},{e:13489704E5,s:1345428E6},{e:13828392E5,s:13761E8},{e:14142888E5,s:14069448E5}]},{name:"America/Asuncion",rules:[{e:12050316E5,s:12243888E5},{e:12364812E5,s:12558384E5},{e:12709548E5,s:12860784E5},{e:13024044E5,s:1317528E6},{e:1333854E6,s:13495824E5},{e:1364094E6,s:1381032E6},{e:13955436E5,s:14124816E5}]},{name:"America/Campo_Grande",rules:[{e:12032172E5,s:12243888E5},{e:12346668E5,s:12558384E5},{e:12667212E5,
s:1287288E6},{e:12981708E5,s:13187376E5},{e:13302252E5,s:1350792E6},{e:136107E7,s:13822416E5},{e:13925196E5,s:14136912E5}]},{name:"America/Goose_Bay",rules:[{e:122559486E4,s:120503526E4},{e:125704446E4,s:123648486E4},{e:128909886E4,s:126853926E4},{e:13205556E5,s:129998886E4},{e:13520052E5,s:13314456E5},{e:13834548E5,s:13628952E5},{e:14149044E5,s:13943448E5}]},{name:"America/Havana",rules:[{e:12249972E5,s:12056436E5},{e:12564468E5,s:12364884E5},{e:12885012E5,s:12685428E5},{e:13211604E5,s:13005972E5},
{e:13520052E5,s:13332564E5},{e:13834548E5,s:13628916E5},{e:14149044E5,s:13943412E5}]},{name:"America/Mazatlan",rules:[{e:1225008E6,s:12074724E5},{e:12564576E5,s:1238922E6},{e:1288512E6,s:12703716E5},{e:13199616E5,s:13018212E5},{e:13514112E5,s:13332708E5},{e:13828608E5,s:13653252E5},{e:14143104E5,s:13967748E5}]},{name:"America/Mexico_City",rules:[{e:12250044E5,s:12074688E5},{e:1256454E6,s:12389184E5},{e:12885084E5,s:1270368E6},{e:1319958E6,s:13018176E5},{e:13514076E5,s:13332672E5},{e:13828572E5,s:13653216E5},
{e:14143068E5,s:13967712E5}]},{name:"America/Miquelon",rules:[{e:12255984E5,s:12050388E5},{e:1257048E6,s:12364884E5},{e:12891024E5,s:12685428E5},{e:1320552E6,s:12999924E5},{e:13520016E5,s:1331442E6},{e:13834512E5,s:13628916E5},{e:14149008E5,s:13943412E5}]},{name:"America/Santa_Isabel",rules:[{e:12250116E5,s:1207476E6},{e:12564612E5,s:12389256E5},{e:12885156E5,s:12703752E5},{e:13199652E5,s:13018248E5},{e:13514148E5,s:13332744E5},{e:13828644E5,s:13653288E5},{e:1414314E6,s:13967784E5}]},{name:"America/Santiago",
rules:[{e:1206846E6,s:1223784E6},{e:1237086E6,s:12552336E5},{e:127035E7,s:12866832E5},{e:13048236E5,s:13138992E5},{e:13356684E5,s:13465584E5},{e:1367118E6,s:13786128E5},{e:13985676E5,s:14100624E5}]},{name:"America/Sao_Paulo",rules:[{e:12032136E5,s:12243852E5},{e:12346632E5,s:12558348E5},{e:12667176E5,s:12872844E5},{e:12981672E5,s:1318734E6},{e:13302216E5,s:13507884E5},{e:13610664E5,s:1382238E6},{e:1392516E6,s:14136876E5}]},{name:"Asia/Amman",rules:[{e:1225404E6,s:12066552E5},{e:12568536E5,s:12381048E5},
{e:12883032E5,s:12695544E5},{e:13197528E5,s:13016088E5},!1,!1,{e:14147064E5,s:13959576E5}]},{name:"Asia/Damascus",rules:[{e:12254868E5,s:120726E7},{e:125685E7,s:12381048E5},{e:12882996E5,s:12701592E5},{e:13197492E5,s:13016088E5},{e:13511988E5,s:13330584E5},{e:13826484E5,s:1364508E6},{e:14147028E5,s:13959576E5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572E5,s:12066552E5},{e:12520152E5,s:12381048E5},{e:1281474E6,s:126964086E4},{e:1312146E6,s:130160886E4},{e:13481784E5,
s:13330584E5},{e:13802292E5,s:1364508E6},{e:1414098E6,s:13959576E5}]},{name:"Asia/Irkutsk",rules:[{e:12249576E5,s:12068136E5},{e:12564072E5,s:12382632E5},{e:12884616E5,s:12697128E5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612E5,s:12066624E5},{e:1254006E6,s:1238112E6},{e:1284246E6,s:12695616E5},{e:131751E7,s:1301616E6},{e:13483548E5,s:13330656E5},{e:13828284E5,s:13645152E5},{e:1414278E6,s:13959648E5}]},{name:"Asia/Kamchatka",rules:[{e:12249432E5,s:12067992E5},{e:12563928E5,s:12382488E5},
{e:12884508E5,s:12696984E5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612E5,s:12068172E5},{e:12564108E5,s:12382668E5},{e:12884652E5,s:12697164E5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648E5,s:12068208E5},{e:12564144E5,s:12382704E5},{e:12884688E5,s:126972E7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504E5,s:12068064E5},{e:12564E8,s:1238256E6},{e:12884544E5,s:12697056E5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954E6,s:120681E7},{e:12564036E5,s:12382596E5},{e:1288458E6,
s:12697092E5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684E5,s:12068244E5},{e:1256418E6,s:1238274E6},{e:12884724E5,s:12697236E5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972E6,s:1206828E6},{e:12564216E5,s:12382776E5},{e:1288476E6,s:12697272E5},{e:13199256E5,s:13011768E5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076E5,s:12231342E5},{e:12388572E5,s:12545838E5},{e:12703068E5,s:12860334E5},{e:13017564E5,s:1317483E6},{e:1333206E6,s:13495374E5},{e:13652604E5,s:1380987E6},
{e:139671E7,s:14124366E5}]},{name:"Australia/Perth",rules:[{e:12068136E5,s:12249576E5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828E5,s:12068388E5},{e:12564324E5,s:12382884E5},{e:12884868E5,s:1269738E6},{e:13199364E5,s:13011876E5},{e:1351386E6,s:13326372E5},{e:13828356E5,s:13646916E5},{e:14142852E5,s:13961412E5}]},{name:"Europe/Minsk",rules:[{e:12249792E5,s:12068352E5},{e:12564288E5,s:12382848E5},{e:12884832E5,s:12697344E5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756E5,
s:12068316E5},{e:12564252E5,s:12382812E5},{e:12884796E5,s:12697308E5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528E5,s:13168728E5},{e:13332024E5,s:13489272E5},{e:13652568E5,s:13803768E5},{e:13967064E5,s:14118264E5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984E5,s:12878424E5},{e:13271544E5,s:1319292E6},{e:1358604E6,s:13507416E5},{e:139005E7,s:1382796E6},{e:14215032E5,s:14148504E5}]},{name:"Europe/London",rules:[{e:12249828E5,s:12068388E5},{e:12564324E5,s:12382884E5},{e:12884868E5,
s:1269738E6},{e:13199364E5,s:13011876E5},{e:1351386E6,s:13326372E5},{e:13828356E5,s:13646916E5},{e:14142852E5,s:13961412E5}]}]};"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=a:"undefined"!==typeof define&&null!==define&&null!=define.amd?define([],function(){return a}):"undefined"===typeof g?window.jstz=a:g.jstz=a})();gx.livePrev=function(g){gx.ajax.getPostInfo("",!1);gx.ajax.getPostInfo("",!1);return{}}(gx.$);
gx.livePrevWS={FIRST_PORT:30100,LAST_PORT:30120,MAX_RETRY:3,retry_count:0,onError:function(){gx.livePrevWS.IPNamesIdx<gx.livePrevWS.IPNames.length-1?(gx.livePrevWS.IPNamesIdx+=1,gx.livePrevWS.host=gx.livePrevWS.IPNames[gx.livePrevWS.IPNamesIdx],gx.livePrev.port=gx.livePrevWS.FIRST_PORT,gx.livePrevWS.Connect()):gx.livePrev.port<gx.livePrevWS.LAST_PORT?(gx.livePrevWS.IPNamesIdx=0,gx.livePrev.port+=1,gx.livePrevWS.Connect()):gx.util.alert.showMessage("Can not Connect to LivePreview",{dismissmitAt:5E3})},
onMessage:function(g){var a=function(f){var l=$.map(document.styleSheets,function(n){return n.href==f?n:null});return 0<l.length?l[0]:void 0},b=function(f,l,n){return n((f||"").replace(/(\r\n|\r|\n| )/gm,"").toLowerCase(),(l||"").replace(/(\r\n|\r|\n| )/gm,"").toLowerCase())},d=function(f,l,n){var p=f.cssRules,t=p.length,v=!1,u=!1;$.each(p,function(r,w){w&&w.selectorText&&b(w.selectorText,l.replace(":","::"),function(x,B){return x==B})&&(f.deleteRule(r),t=r,v=!0)});v||$.each(p,function(r,w){w&&w.selectorText&&
b(w.selectorText,l.replace(":","::")+",",function(x,B){return 0==x.indexOf(B)})&&(f.deleteRule(r),t=r,f.insertRule(w.selectorText+n.replace(/.*{/,"{"),t),u=!0)});u||f.insertRule(n,t)},c=function(f){var l=gx.getThemeElement();if(l=a(l.href))for(var n=0==f.indexOf("@media",0),p=f.split(/{|}/),t=0;t<p.length-1;t+=2){var v=p[t].replace(/(\r\n|\r|\n| *$)/gm,"");gx.lang.emptyObject(v)||(n?$.each(l.cssRules,function(u,r){n&&!r.selectorText&&(u=r.cssText.split(/{/)[0],b(u.replace(/ all and/gm,""),v)&&(v=
p[t+1].replace(/(\r\n|\r|\n| )/gm,""),d(r,v,v+" {"+p[t+2]+"}")))}):d(l,v,v+" {"+p[t+1]+"}"))}};g=gx.json.evalJSON(g);if("KBOK"===g.Type)gx.util.alert.showMessage("Connected to LivePreview at "+gx.livePrevWS.host+" on port "+gx.livePrev.port,{dismissmitAt:2E3});else if("KBDoesNotMatchGUID"===g.Type)gx.livePrevWS.onError();else"ThemeStyleChanged"===g.Type&&c(g.Data)},onOpen:function(){gx.livePrevWS.timeOutHdlr&&clearTimeout(gx.livePrevWS.timeOutHdlr);gx.livePrevWS.retry_count=0;gx.livePrevWS.SocketConnect()},
onTimeout:function(){gx.livePrevWS.webSocket.close();gx.livePrevWS.onError()},SocketConnect:function(){objData={KBUUID:gx.livePrevWS.KBUUID,Language:gx.languageCode,KBName:"TestWS",DeviceName:"Web Simulator",DeviceId:gx.livePrevWS.clientGUID,DeviceType:0,DeviceOSName:"Web",Theme:gx.theme,Type:"Connect",Data:{Name:gx.livePrevWS.KBName,UUID:gx.livePrevWS.KBUUID}};gx.livePrevWS.webSocket.send(gx.json.serializeJson(objData))},Connect:function(){var g={};gx.livePrev.port=gx.livePrev.port||gx.livePrevWS.FIRST_PORT;
g.port=gx.livePrev.port;g.wsProtocol="https:"===location.protocol?"wss://":"ws://";g.host=gx.livePrevWS.host+":"+g.port;g.resourceUrl="/live/";g.namespace="livepreview";g.maxRetries=10;g.retryDelay=50;gx.livePrevWS.webSocket&&gx.livePrevWS.webSocket.close();gx.livePrevWS.webSocket=new gx.webSocket(g);gx.livePrevWS.timeOutHdlr=setTimeout(gx.livePrevWS.onTimeout,3E3)},_init:function(){if(!gx.lang.emptyObject(gx.livePreviewUri)){gx.fx.obs.addObserver("gx.ws.onOpen.livepreview",gx.livePrevWS,gx.livePrevWS.onOpen,
{single:!1});gx.fx.obs.addObserver("gx.ws.onMessage.livepreview",gx.livePrevWS,gx.livePrevWS.onMessage,{single:!1});gx.fx.obs.addObserver("gx.ws.onError.livepreview",gx.livePrevWS,gx.livePrevWS.onError,{single:!1});gx.fx.obs.addObserver("gx.ws.onCtxError.livepreview",gx.livePrevWS,gx.livePrevWS.onError,{single:!1});if(!gx.livePrevWS.clientGUID){var g=gx.livePrevWS,a=gx.http.getCookie("GXClientID");a=a||gx.guid.generate();gx.http.setCookie("GXClientID",a,1,!1);g.clientGUID=a}g="";a=[];var b=gx.livePreviewUri.split("?");
0<b.length&&(b=b[1],b=b.split(":"),2<b.length&&(g=b[1],a=b[2].substring(1,b[2].length-1).split(","),b=b[0]));gx.livePrevWS.IPNamesIdx=0;gx.livePrevWS.IPNames=a;gx.livePrevWS.KBName=g;gx.livePrevWS.KBUUID=b;gx.livePrevWS.host=gx.livePrevWS.IPNames[0];gx.http.loadScript(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"html2canvas.js?"+gx.gxBuild,!1),gx.livePrevWS.Connect)}}};
gx.nav=function(){var g=function(){var c={top:!0,right:!0,bottom:!0,left:!0};return function(f){return!!c[f.toLowerCase()]}}(),a=function(c){var f=c;gx.gen.isDotNet()&&(f=c.replace(/\.aspx$/,""));gx.gen.isJava()&&gx.pO.PackageName&&gx.text.startsWith(c,gx.pO.PackageName)&&(f=c.substring(gx.pO.PackageName.length+1));return f},b=function(c){var f=c.split("?"),l;if(0<f.length){var n=2==f.length?f[1].split(gx.http.urlParameterSeparator(c)):[];var p=0;for(l=n.length;p<l;p++)n[p]=gx.http.useNamedParameters(c)?
decodeURIComponent(n[p].split("=")[1]):decodeURIComponent(n[p]);return{obj:f[0],args:n}}return!1},d={};return{setCallTarget:function(c,f){d[c.toLowerCase()]=f.toLowerCase()},willRedirect:function(c){return gx.pO&&!gx.pO.fullAjax?!0:!g(d[a(c).toLowerCase()]||"")},willRedirectByUrl:function(c){c=b(c);return this.willRedirect(c.obj,c.args)},call:function(c,f,l){var n=a(c),p=gx.pO.MasterPage;l=l||d[n.toLowerCase()]||"";delete d[n.toLowerCase()];gx.pO&&!gx.pO.fullAjax?gx.http.redirect(gx.http.formatLink(c,
f),!1,!1,gx.pO):g(l)?p&&p.createObjectInTarget(l,n,f):gx.http.redirect(gx.http.formatLink(c,f),!1,!1,gx.pO)},callUrl:function(c,f){(c=b(c))&&this.call(c.obj,c.args,f)},callFromServerRedirect:function(c,f){this.callUrl(c,f)}}}(gx.$);
(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):g(jQuery)})(function(g){g.ui=g.ui||{};g.ui.version="1.13.2";(function(){function a(r,w,x){return[parseFloat(r[0])*(v.test(r[0])?w/100:1),parseFloat(r[1])*(v.test(r[1])?x/100:1)]}function b(r){var w=r[0];return 9===w.nodeType?{width:r.width(),height:r.height(),offset:{top:0,left:0}}:null!=w&&w===w.window?{width:r.width(),height:r.height(),offset:{top:r.scrollTop(),left:r.scrollLeft()}}:w.preventDefault?{width:0,height:0,offset:{top:w.pageY,
left:w.pageX}}:{width:r.outerWidth(),height:r.outerHeight(),offset:r.offset()}}var d,c=Math.max,f=Math.abs,l=/left|center|right/,n=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,t=/^\w+/,v=/%$/,u=g.fn.position;g.position={scrollbarWidth:function(){if(void 0!==d)return d;var r=g("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>");var w=r.children()[0];g("body").append(r);var x=w.offsetWidth;r.css("overflow","scroll");
w=w.offsetWidth;x===w&&(w=r[0].clientWidth);r.remove();return d=x-w},getScrollInfo:function(r){var w=r.isWindow||r.isDocument?"":r.element.css("overflow-x"),x=r.isWindow||r.isDocument?"":r.element.css("overflow-y");w="scroll"===w||"auto"===w&&r.width<r.element[0].scrollWidth;return{width:"scroll"===x||"auto"===x&&r.height<r.element[0].scrollHeight?g.position.scrollbarWidth():0,height:w?g.position.scrollbarWidth():0}},getWithinInfo:function(r){var w=g(r||window);var x=w[0];x=null!=x&&x===x.window;
var B=!!w[0]&&9===w[0].nodeType;return{element:w,isWindow:x,isDocument:B,offset:x||B?{left:0,top:0}:g(r).offset(),scrollLeft:w.scrollLeft(),scrollTop:w.scrollTop(),width:w.outerWidth(),height:w.outerHeight()}}};g.fn.position=function(r){if(!r||!r.of)return u.apply(this,arguments);r=g.extend({},r);var w="string"===typeof r.of?g(document).find(r.of):g(r.of),x=g.position.getWithinInfo(r.within),B=g.position.getScrollInfo(x),A=(r.collision||"flip").split(" "),D={};var F=b(w);w[0].preventDefault&&(r.at=
"left top");var G=F.width;var k=F.height;var m=F.offset;var q=g.extend({},m);g.each(["my","at"],function(){var z=(r[this]||"").split(" ");1===z.length&&(z=l.test(z[0])?z.concat(["center"]):n.test(z[0])?["center"].concat(z):["center","center"]);z[0]=l.test(z[0])?z[0]:"center";z[1]=n.test(z[1])?z[1]:"center";var C=p.exec(z[0]);var E=p.exec(z[1]);D[this]=[C?C[0]:0,E?E[0]:0];r[this]=[t.exec(z[0])[0],t.exec(z[1])[0]]});1===A.length&&(A[1]=A[0]);"right"===r.at[0]?q.left+=G:"center"===r.at[0]&&(q.left+=
G/2);"bottom"===r.at[1]?q.top+=k:"center"===r.at[1]&&(q.top+=k/2);var y=a(D.at,G,k);q.left+=y[0];q.top+=y[1];return this.each(function(){var z,C=g(this),E=C.outerWidth(),J=C.outerHeight(),H=parseInt(g.css(this,"marginLeft"),10)||0,L=parseInt(g.css(this,"marginTop"),10)||0,I=E+H+(parseInt(g.css(this,"marginRight"),10)||0)+B.width,K=J+L+(parseInt(g.css(this,"marginBottom"),10)||0)+B.height,M=g.extend({},q),N=a(D.my,C.outerWidth(),C.outerHeight());"right"===r.my[0]?M.left-=E:"center"===r.my[0]&&(M.left-=
E/2);"bottom"===r.my[1]?M.top-=J:"center"===r.my[1]&&(M.top-=J/2);M.left+=N[0];M.top+=N[1];var O={marginLeft:H,marginTop:L};g.each(["left","top"],function(P,Q){if(g.ui.position[A[P]])g.ui.position[A[P]][Q](M,{targetWidth:G,targetHeight:k,elemWidth:E,elemHeight:J,collisionPosition:O,collisionWidth:I,collisionHeight:K,offset:[y[0]+N[0],y[1]+N[1]],my:r.my,at:r.at,within:x,elem:C})});r.using&&(z=function(P){var Q=m.left-M.left,R=Q+G-E,T=m.top-M.top,U=T+k-J,S={target:{element:w,left:m.left,top:m.top,width:G,
height:k},element:{element:C,left:M.left,top:M.top,width:E,height:J},horizontal:0>R?"left":0<Q?"right":"center",vertical:0>U?"top":0<T?"bottom":"middle"};G<E&&f(Q+R)<G&&(S.horizontal="center");k<J&&f(T+U)<k&&(S.vertical="middle");c(f(Q),f(R))>c(f(T),f(U))?S.important="horizontal":S.important="vertical";r.using.call(this,P,S)});C.offset(g.extend(M,{using:z}))})};g.ui.position={fit:{left:function(r,w){var x=w.within,B=x.isWindow?x.scrollLeft:x.offset.left,A=x.width,D=r.left-w.collisionPosition.marginLeft;
x=B-D;var F=D+w.collisionWidth-A-B;w.collisionWidth>A?0<x&&0>=F?(w=r.left+x+w.collisionWidth-A-B,r.left+=x-w):r.left=0<F&&0>=x?B:x>F?B+A-w.collisionWidth:B:r.left=0<x?r.left+x:0<F?r.left-F:c(r.left-D,r.left)},top:function(r,w){var x=w.within,B=x.isWindow?x.scrollTop:x.offset.top,A=w.within.height,D=r.top-w.collisionPosition.marginTop;x=B-D;var F=D+w.collisionHeight-A-B;w.collisionHeight>A?0<x&&0>=F?(w=r.top+x+w.collisionHeight-A-B,r.top+=x-w):r.top=0<F&&0>=x?B:x>F?B+A-w.collisionHeight:B:r.top=0<
x?r.top+x:0<F?r.top-F:c(r.top-D,r.top)}},flip:{left:function(r,w){var x=w.within,B=x.offset.left+x.scrollLeft,A=x.width,D=x.isWindow?x.scrollLeft:x.offset.left,F=r.left-w.collisionPosition.marginLeft;x=F-D;var G=F+w.collisionWidth-A-D;F="left"===w.my[0]?-w.elemWidth:"right"===w.my[0]?w.elemWidth:0;var k="left"===w.at[0]?w.targetWidth:"right"===w.at[0]?-w.targetWidth:0,m=-2*w.offset[0];if(0>x){if(w=r.left+F+k+m+w.collisionWidth-A-B,0>w||w<f(x))r.left+=F+k+m}else 0<G&&(w=r.left-w.collisionPosition.marginLeft+
F+k+m-D,0<w||f(w)<G)&&(r.left+=F+k+m)},top:function(r,w){var x=w.within,B=x.offset.top+x.scrollTop,A=x.height,D=x.isWindow?x.scrollTop:x.offset.top,F=r.top-w.collisionPosition.marginTop;x=F-D;var G=F+w.collisionHeight-A-D;F="top"===w.my[1]?-w.elemHeight:"bottom"===w.my[1]?w.elemHeight:0;var k="top"===w.at[1]?w.targetHeight:"bottom"===w.at[1]?-w.targetHeight:0,m=-2*w.offset[1];if(0>x){if(w=r.top+F+k+m+w.collisionHeight-A-B,0>w||w<f(x))r.top+=F+k+m}else 0<G&&(w=r.top-w.collisionPosition.marginTop+F+
k+m-D,0<w||f(w)<G)&&(r.top+=F+k+m)}},flipfit:{left:function(){g.ui.position.flip.left.apply(this,arguments);g.ui.position.fit.left.apply(this,arguments)},top:function(){g.ui.position.flip.top.apply(this,arguments);g.ui.position.fit.top.apply(this,arguments)}}}})()});

function WWP_GridEmpowerer(){this.show=function(){var t,n;this.eventsAttached||(this.eventsAttached=!0,t=this,this.onaftereventxHandler=function(){this.onaftereventx()}.closure(this),$.each(["gx.onafterevent","gx.onload","grid.onafterrender","webcom.all_rendered","gx.endprocessing","grid.onafterrefresh"],function(n,i){gx.fx.obs.addObserver(i,window,t.onaftereventxHandler)}),this.resizeHandler=function(){this.HandleWindowResize()}.closure(this),gx.evt.attach(window,"resize",this.resizeHandler),this.loadHandler=function(){this.HandleWindowLoad()}.closure(this),gx.evt.attach(window,"load",this.loadHandler),$("#"+this.ContainerName).closest(".WCD_tr").length==1&&(this.insideDWC=!0));n=WWP_GetGrid(this);n.data("WWP.Empowerer")==null&&n.data("WWP.Empowerer",this);this.Empower()};this.destroy=function(){this.resizeHandler!=null&&gx.evt.detach(window,"resize",this.resizeHandler);this.loadHandler!=null&&gx.evt.detach(window,"load",this.loadHandler);var n=this;$.each(["gx.onafterevent","gx.onload","grid.onafterrender","webcom.all_rendered","gx.endprocessing","grid.onafterrefresh"],function(t,i){gx.fx.obs.deleteObserver(i,window,n.onaftereventxHandler)});this.timerT!=null&&(clearInterval(this.timerT),this.timerT=null);this.ColumnsOrHeaderFixer!=null&&this.ColumnsOrHeaderFixer.settings!=null&&this.ColumnsOrHeaderFixer.settings.myT!=null&&clearInterval(this.ColumnsOrHeaderFixer.settings.myT)};this.HandleWindowResize=function(){var r=!1,i,t,n;(scrollHWidth!=null||scrollVWidth!=null)&&(i=Math.round(window.outerWidth/window.innerWidth*100)/100,scrollWidthZoom!=null&&scrollWidthZoom!=i&&(scrollHWidth=null,scrollVWidth=null,r=!0),scrollWidthZoom=i);t=WWP_GetGrid(this);this.IsReadyToEmpower(t)&&(n=t.find(">table"),this.Empowered&&(this.ColumnsOrHeaderFixer!=null?this.ColumnsOrHeaderFixer.Refresh(r):(this.CategoriesHelper!=null&&(n=t.find(">table"),n.data("titlesCategories")=="P"&&(n.data("titlesCategories",""),this.CategoriesHelper.mergeTitlesCategoryCells())),this.RowGroupsHelper!=null&&(n=t.find(">table"),n.data("groupProcessed")=="P"&&(n.data("groupProcessed",""),this.RowGroupsHelper.mergeGroupRowCellsAndAddTitle()))),this.InfiniteScrolling=="Grid"&&n.find(">tbody").hasClass("gx-infinite-scrolling-element")&&this.InfiniteScrolling_FinishedProcessing()))};this.HandleWindowLoad=function(){this.Empower()};this.onaftereventx=function(){this.Empower()};this.IsReadyToEmpower=function(n){var u,t,f,i,r;if((n==null&&(n=WWP_GetGrid(this)),this.HasCategories&&(this.CategoriesHelper=n.data("WWP.GridTitlesCategories"),this.CategoriesHelper==null))||this.HasTitleSettings&&(this.TitleSettingsHelper=n.data("WWP.TitleSettings"),this.TitleSettingsHelper==null))return!1;if(this.HasColumnsSelector&&(u=n.data("WWP.GridColumnSelector"),wwp.settings.columnsSelector.AllowColumnReordering&&(this.ColumnSelectorHelper=u),u==null&&(wwp.settings.columnsSelector.AllowColumnReordering||n.closest(".HasGridEmpowerer").hasClass("ListViewGrid"))))return n.closest(".HasGridEmpowerer").hasClass("ListViewGrid")&&(t=$("#"+WWP_getParentWCId(this)+"BTNEDITCOLUMNS").data("wwpUC"),t!=null&&t.control!=null&&(t=t.control,t.HasGridEmp=null,t.SetDropDownOptionsData(t.DropDownOptionsData))),!1;if(this.HasRowGroups&&(this.RowGroupsHelper=n.data("WWP.RowGroupsHelper"),this.RowGroupsHelper==null))return!1;if(this.PopoversInGrid!=""&&this.PopoversInGrid!=null)for(f=this.PopoversInGrid.split("|"),i=0;i<f.length;i+=1)if(r="WWP."+f[i].toUpperCase(),this[r]=n.data(r),this[r]==null)return!1;return WWP_Debug_Log(!1,"ReadyToEmpower"),!0};this.Empower=function(){var n=WWP_GetGrid(this),r,s,f,e,u,i,o;if(this.IsReadyToEmpower(n)){if(this.RowGroupsHelper!=null&&this.InfiniteScrolling=="Form"?n.find("tr.DVGroupByRow table tr[data-gxrow]").remove():this.InfiniteScrolling!="False"&&n.find(">table>thead>tr>th.WCD_ActionColumn").length>0&&n.find(">table>tbody>tr.WCD_tr").each(function(){var n=$(this);n.find("table>thead>tr[data-gxrow]").each(function(){n.find('tr[id="'+$(this).attr("id")+'"]').remove()})}),this.InfiniteScrolling=="Grid"&&this.ColumnSelectorHelper!=null&&n.hasClass("gx-infinite-scrolling-container")&&(r=this.GetGxGrid(),r!=null&&r.fixedColVisibleCount!=null&&n.find(">table").data("ColumnsOrder")==null&&n.find(">table>thead>tr>th:eq(0)")[0].style.width==""&&(r.fixedColVisibleCount=null,n.removeClass("gx-infinite-scrolling-container"))),n.parent().addClass("GridParentCell"),this.CategoriesHelper==null||n.is(":visible")||WWP_GetInsertGrid(this).length!=1||this.CategoriesHelper.setGridInsertTitlesCategories(),this.TitleSettingsHelper!=null&&this.TitleSettingsHelper.updateGrid(),typeof SetMinWidthTotalizers=="function"&&SetMinWidthTotalizers(),this.CategoriesHelper!=null&&this.CategoriesHelper.updateGridTitlesCategories(!1),this.isRptStyle==null&&n.find(">table").data("groupProcessed")==null&&(s=n.find(">table>tbody>tr:eq(0)"),f=n.find(">table>tbody>tr:eq(1)"),f.length==1&&(this.isRptStyle=s.css("background-color")!=f.css("background-color"))),this.RowGroupsHelper!=null&&this.RowGroupsHelper.ProcessGroup(!1),this.PopoversInGrid!=""&&this.PopoversInGrid!=null)for(e=this.PopoversInGrid.split("|"),u=0;u<e.length;u+=1)this["WWP."+e[u].toUpperCase()].InitGridPopovers();if(this.ColumnSelectorHelper!=null?this.UpdateColumnsOrder():this.FixedColumns!=""&&this.UpdateFixedColumns(),this.CategoriesHelper!=null&&this.CategoriesHelper.mergeTitlesCategoryCells(),this.RowGroupsHelper!=null&&(this.InfiniteScrolling!="Grid"||n.hasClass("gx-infinite-scrolling-container"))&&this.RowGroupsHelper.mergeGroupRowCellsAndAddTitle(),this.ColumnSelectorHelper!=null&&wwp.settings.columnsSelector.AllowColumnReordering&&wwp.settings.columnsSelector.AllowColumnDragging&&this.AllowReOrderDraggingColumns(),ApplyBootstrapSelect(),this.FreezeColumnsOrHeader(),this.InfiniteScrolling!="False"){var t=n.find(">table"),h=t.data("IS_ProcessedRecords"),c=t.find(">tbody").children().length;this.InfiniteScrolling=="Grid"&&h!=null&&c!=h&&n.find(">table>tbody>tr[data-gxrendering_row]>td:eq(0)").css("max-width")=="none"&&this.InfiniteScrolling_SetWidthToNewCells();t.data("IS_ProcessedRecords",c);this.InfiniteScrolling=="Grid"&&(t.find(">tbody").hasClass("gx-infinite-scrolling-element")?this.InfiniteScrolling_FinishedProcessing():this.timerT==null&&(i=this,o=200,this.timerT=setInterval(function(){t.find(">tbody").hasClass("gx-infinite-scrolling-element")?i.InfiniteScrolling_FinishedProcessing():(o--,o<0&&i.timerT!=null&&(clearInterval(i.timerT),i.timerT=null))},10)))}this.Empowered=!0}};this.InfiniteScrolling_SetWidthToNewCells=function(){var n=WWP_GetGrid(this);n.find(">table>thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>*").each(function(){var i=$(this).index(),t=$(this).css("width");n.find(">table>tbody>tr[data-gxrendering_row]").each(function(){$(this).find(">*:eq("+i+")").css({width:t,"max-width":t})})})};this.InfiniteScrolling_FinishedProcessing=function(){this.timerT!=null&&(clearInterval(this.timerT),this.timerT=null);var n=WWP_GetGrid(this),t=n.find(">table>thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)"),i=n.find(">table>tfoot>tr:not(.FGFootRow)");n.find(">table>tbody>tr:not(.DVGroupByRow,.FGRowLine):eq(0)>*").each(function(){var r=$(this).index(),n=$(this).css("width");i.find(">*:eq("+r+")").css({"min-width":n,"max-width":n});t.find(">*:eq("+r+")").css({"min-width":n,"max-width":n})});this.CategoriesHelper!=null&&t.find(">th").css("visibility","")};this.UpdateFixedColumns=function(){for(var t=WWP_GetGrid(this).find(">table").find(">thead>tr:last-child()"),i=this.FixedColumns.split(";"),r=t.children().length,n=0;n<r;n+=1)i[n]!=""&&t.find(">th:eq("+n+")").addClass("ConfigFixedColumn FixedColumn"+i[n])};this.UpdateColumnsOrder=function(){var r,h,c,o,l,w,b,k,a,t,u,n,v,s,i;if(this.ColumnSelectorHelper.DropDownOptionsData_Columns!=null&&this.ColumnSelectorHelper.DropDownOptionsData_Columns.length>0)if(r=WWP_GetGrid(this).find(">table"),r.data("ColumnsOrder")==null){if(h=!1,!r.is(":visible")&&r.find(">tbody>tr").length==0&&(c=WWP_GetInsertGrid(this).find(">table"),c.length==1&&(r=c,h=!0,r.data("ColumnsOrder")!=null)))return;var t=r.find(">thead>tr:last-child()>th"),e=-1,f=h?[]:this.FixedColumns.split(";"),y=0,p=0;for(n=0;n<t.length;n+=1)n<f.length&&(f[n]=="L"||f[n]=="R")&&($(t[n]).data("fixed",f[n]),f[n]=="L"?y++:p++),($(t[n]).hasClass("EditableGridAuxCol")&&$(t[n-1]).hasClass("DisableColMoving")||$(t[n]).find(">span>input[name=selectAllCheckbox]").length==1)&&$(t[n]).addClass("DisableColMoving"),$(t[n]).is(".DisableColMoving,.EditableGridAuxCol")||(o=!1,$(t[n]).find(">*").length>0&&($(t[n]).hasClass("WWColumn")?o=!0:(l=$(t[n]).closest("table"),l.length==1&&WWP_replaceAll(t[n].className,"gx-tab-padding-fix-1","").trim()==WWP_replaceAll(WWP_replaceAll(l[0].className,"table-responsive",""),"gx-tab-spacing-fix-2","").trim()+"Title"&&(o=!0))),o?(e++,$(t[n]).data("colIndex",e)):$(t[n]).addClass("DisableColMoving")),(this.InfiniteScrolling!="False"||wwp.settings.columnsSelector.AllowColumnResizing)&&$(t[n]).data("origColIndex",n);if(e==this.ColumnSelectorHelper.DropDownOptionsData_Columns.length-1){for(w=this.UpdateColumnsOrder_FixedColumns(r,t,!0,y),b=this.UpdateColumnsOrder_FixedColumns(r,r.find(">thead>tr:last-child()>th"),!1,p),r.data("ColumnsOrder",""),this.ColumnSelectorHelper.TotalizersCalled=null,n=w;n<this.ColumnSelectorHelper.DropDownOptionsData_Columns.length-b;n+=1)for(k=Math.min.apply(Math,this.ColumnSelectorHelper.DropDownOptionsData_Columns.map(function(n){return!n.found&&!n.fixed?n.O:9999})),i=0;i<this.ColumnSelectorHelper.DropDownOptionsData_Columns.length;i+=1)if(this.ColumnSelectorHelper.DropDownOptionsData_Columns[i].O==k&&!this.ColumnSelectorHelper.DropDownOptionsData_Columns[i].found){this.ColumnSelectorHelper.DropDownOptionsData_Columns[i].O=n;this.ColumnSelectorHelper.DropDownOptionsData_Columns[i].found=!0;this.ColumnSelectorHelper.DropDownOptionsData_Columns[i].freezable=this.UpdateColumnsOrder_IsColumnFreezable(i,r);break}for(n=0;n<this.ColumnSelectorHelper.DropDownOptionsData_Columns.length;n+=1)for(delete this.ColumnSelectorHelper.DropDownOptionsData_Columns[n].found,i=0;i<this.ColumnSelectorHelper.DropDownOptionsData_Columns.length;i+=1)if(this.ColumnSelectorHelper.DropDownOptionsData_Columns[i].O==n){this.ReOrderColumn(r,i,n);break}}else console.log("ERROR currentColIndex ("+e+") != this.DropDownOptionsData_Columns.length - 1 ("+(this.ColumnSelectorHelper.DropDownOptionsData_Columns.length-1)+")");this.DropDownOptionsData_Columns=this.ColumnSelectorHelper.DropDownOptionsData_Columns}else if(this.InfiniteScrolling!="False"&&(a=r.data("IS_ProcessedRecords"),a!=r.find(">tbody").children().length)){for(t=r.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)").last().find("th"),u=[],n=0;n<t.length;n+=1)u.push(n);for(n=0;n<t.length;n+=1)if(v=$(t[n]).data("origColIndex"),s=u[v],n!=s){for(r.find(">tbody>tr:gt("+(a-1)+")").each(function(){$(this).find(">*:eq("+s+")").insertBefore($(this).find(">*:eq("+n+")"))}),i=0;i<t.length;i++)u[i]>=n&&u[i]<s&&u[i]++;u[v]=n}}};this.GetGxGrid=function(){return gx.O.getGridByBaseName(this.ControlName.replace("_empowerer",""))};this.UpdateColumnsOrder_IsColumnFreezable=function(n,t){var i=!1,r;return this.TitleSettingsHelper!=null&&(r=this,t.find(">thead>tr:last-child()>th").each(function(){if($(this).data("colIndex")==n)return i=r.TitleSettingsHelper.ColumnIsFreezable(this),!1})),i};this.UpdateColumnsOrder_FixedColumns=function(n,t,i,r){for(var s=0,e=i?0:t.length-1,h,c,a,l,o,f,u;e>=0&&e<=t.length-1&&$(t[e]).hasClass("DisableColMoving");)e+=i?1:-1;if(h=i?"L":"R",c=this,r>0)for(o=0;o<t.length;o+=1)if(f=i?o:t.length-1-o,a=$(t[f]).data("fixed"),a==h&&(u=$(t[f]).data("colIndex"),u!=null&&(this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].O=i?s:this.ColumnSelectorHelper.DropDownOptionsData_Columns.length-s-1,i?this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].configFixedL=!0:this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].configFixedR=!0,this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].found=!0,s++),n.find(">thead>tr:last-child()>th:eq("+f+")").addClass("ConfigFixedColumn FixedColumn"+h),(i&&f>e||!i&&f<e)&&(n.find(">tbody>tr,>thead>tr,>tfoot>tr").each(function(){c.UpdateColumnsOrder_FixedColumns_insert($(this).find(">*:eq("+f+")"),$(this).find(">*:eq("+e+")"),i)}),$(t[f+1]).hasClass("EditableGridAuxCol")&&(n.find(">tbody>tr,>thead>tr,>tfoot>tr").each(function(){c.UpdateColumnsOrder_FixedColumns_insert($(this).find(">*:eq("+(f+(i?1:0))+")"),$(this).find(">*:eq("+(e+(i?1:0))+")"),i)}),e+=i?1:-1),e+=i?1:-1),r--,r==0))break;for(;;){if(l=i?Math.min.apply(Math,this.ColumnSelectorHelper.DropDownOptionsData_Columns.map(function(n){return!n.found&&n.F==h?n.O:9999})):Math.max.apply(Math,this.ColumnSelectorHelper.DropDownOptionsData_Columns.map(function(n){return!n.found&&n.F==h?n.O:-1})),l==(i?9999:-1))break;for(t=n.find(">thead>tr:last-child()>th"),o=0;o<t.length;o+=1)if(f=i?o:t.length-1-o,u=$(t[f]).data("colIndex"),u!=null&&!this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].found&&this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].F==h&&this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].O==l){this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].O=i?s:this.ColumnSelectorHelper.DropDownOptionsData_Columns.length-s-1;i?this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].fixedL=!0:this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].fixedR=!0;this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].found=!0;this.ColumnSelectorHelper.DropDownOptionsData_Columns[u].freezable=!0;s++;n.find(">thead>tr:last-child()>th:eq("+f+")").addClass("FixedColumn"+h);n.find(">tbody>tr,>thead>tr,>tfoot>tr").each(function(){c.UpdateColumnsOrder_FixedColumns_insert($(this).find(">*:eq("+f+")"),$(this).find(">*:eq("+e+")"),i)});$(t[f+1]).hasClass("EditableGridAuxCol")&&(n.find(">tbody>tr,>thead>tr,>tfoot>tr").each(function(){c.UpdateColumnsOrder_FixedColumns_insert($(this).find(">*:eq("+(f+(i?1:0))+")"),$(this).find(">*:eq("+(e+(i?1:0))+")"),i)}),e+=i?1:-1);e+=i?1:-1;break}}return s};this.UpdateColumnsOrder_FixedColumns_insert=function(n,t,i){i?n.insertBefore(t):n.insertAfter(t)};this.AllowReOrderDraggingColumns=function(){var r=WWP_GetGrid(this).find(">table");if(r.data("ColumnsOrder")!=null&&r.data("ColumnsDragging")==null){r.data("ColumnsDragging","");var i=null,n=null,u=-1,t=this;r.find(">thead>tr>th:not(.DisableColMoving,.ConfigFixedColumn)").each(function(){$(this).addClass("WWPDraggable");this.draggable=!0;$(this).off("dragstart").on("dragstart",function(r){r.stopPropagation();n=$(this);u=n.index();n.addClass("WWPDraggedColumn");n.parent().addClass("WWPDraggingColumn");var f=n.hasClass("FixedColumnL")?">th.FixedColumnL:not(.DisableColMoving,.ConfigFixedColumn)":n.hasClass("FixedColumnR")?">th.FixedColumnR:not(.DisableColMoving,.ConfigFixedColumn)":">th:not(.DisableColMoving,.ConfigFixedColumn,.FixedColumnL,.FixedColumnR)";n.parent().find(f).on("dragover",function(t){var r,f;i!=null&&i.removeClass("WWPDragOverUp WWPDragOverDown");i=$(t.currentTarget);r=i.index();u!=r&&(f=u>r,i.addClass("WWPDragOver"+(f?"Up":"Down")),t.preventDefault());requestAnimationFrame(function(){n.parent().addClass("WWPDraggingColumnMoving")})}).on("drop",function(){var a,e,r,u,c,f,o,l,h,s;if(t.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux=JSON.parse(JSON.stringify(t.ColumnSelectorHelper.DropDownOptionsData,null,2)),t.DropDownOptionsData_Columns!=null&&(t.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux.Columns=JSON.parse(JSON.stringify(t.DropDownOptionsData_Columns,null,2))),a=i.hasClass("GridGroupTitle"),a){for(e=0,r=n.parent().children().first();r[0]!=n[0];)r.is(":visible")&&(e+=r[0].colSpan!=null?r[0].colSpan:1),r=r.next();for(u=0,r=n.parent().children().first();r[0]!=i[0];)r.is(":visible")&&(u+=r[0].colSpan!=null?r[0].colSpan:1),r=r.next();for(e<u&&(u+=(i[0].colSpan!=null?i[0].colSpan:1)-1),c=n[0].colSpan!=null?n[0].colSpan:1,f=i.closest("thead").find(">tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:visible:eq("+u+")");f.length==1&&f.is(".DisableColMoving, :not(:visible)");)f=e<u?f.prev():f.next();for(s=t.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux.Columns[f.data("colIndex")].O,o=0;o<c;o++)l=n.closest("thead").find(">tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:visible:eq("+(e+(e<u?o:c-o-1))+")"),l.hasClass("DisableColMoving")||(h=t.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux.Columns[l.data("colIndex")].O,t.ColumnSelectorHelper.my_dropDownOptions.updateColumnsSelectorValuesIndexByOrderIndexes(h,s))}else h=t.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux.Columns[n.data("colIndex")].O,s=t.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux.Columns[i.data("colIndex")].O,t.ColumnSelectorHelper.my_dropDownOptions.updateColumnsSelectorValuesIndexByOrderIndexes(h,s);t.ColumnSelectorHelper.my_dropDownOptions.updateColumnSelectorDataBeforeGxEvent();t.ColumnSelectorHelper.OnColumnsChanged&&t.ColumnSelectorHelper.OnColumnsChanged()});n.on("dragend",function(){i!=null&&i.removeClass("WWPDragOverUp WWPDragOverDown");n.removeClass("WWPDraggedColumn").parent().removeClass("WWPDraggingColumn WWPDraggingColumnMoving").find(">th").off("dragend dragover drop")})})})}};this.ReOrderColumn=function(n,t,i){for(var e=-1,f=-1,u=n.find(">thead>tr:last-child()>th"),r=0;r<u.length;r+=1)if(!$(u[r]).is(".DisableColMoving,.EditableGridAuxCol"))if(e++,e==i){if(f=r,$(u[r]).data("colIndex")==t)break}else if($(u[r]).data("colIndex")==t){if(f==-1)break;this.ColumnSelectorHelper.TotalizersCalled||typeof SetMinWidthTotalizers!="function"||(this.ColumnSelectorHelper.TotalizersCalled=!0,SetMinWidthTotalizers());n.data("colReordered","T");n.find(">tbody>tr,>thead>tr,>tfoot>tr").each(function(){$(this).find(">*:eq("+r+")").insertBefore($(this).find(">*:eq("+f+")"))});$(u[r+1]).hasClass("EditableGridAuxCol")&&n.find(">tbody>tr,>thead>tr,>tfoot>tr").each(function(){$(this).find(">*:eq("+(r+1)+")").insertBefore($(this).find(">*:eq("+(f+1)+")"))});break}};this.FixColumn=function(n,t){var i=t?"L":"R";this.ColumnSelectorHelper!=null&&(this.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux=JSON.parse(JSON.stringify(this.ColumnSelectorHelper.DropDownOptionsData,null,2)),this.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux.Columns[n].F=this.ColumnSelectorHelper.my_dropDownOptions.ColumnsSelectorData_Aux.Columns[n].F==i?"":i,this.ColumnSelectorHelper.my_dropDownOptions.updateColumnSelectorDataBeforeGxEvent(),this.ColumnSelectorHelper.OnColumnsChanged&&this.ColumnSelectorHelper.OnColumnsChanged())};this.FreezeColumnsOrHeader=function(){var n=WWP_GetGrid(this).find(">table"),c=n.closest("div"),i,h,r,o,u,s,f,l,e,t;if(c.width("auto"),n.length==1){if(i=n.closest(".gx-grid").parent().closest(".HasGridEmpowerer,.gx-grid").hasClass("GridFixedTitles"),i&&n.closest(".gx-grid").addClass("gx-gridGridFixedTitles"),h=n.closest(".gx-grid").parent().closest(".HasGridEmpowerer,.gx-grid").hasClass("GridFixedColumnBorders"),h&&n.closest(".gx-grid").addClass("gx-gridGridFixedColumnBorders"),r=wwp.settings.columnsSelector.AllowColumnResizing&&this.InfiniteScrolling!="Grid",r&&n.closest(".gx-grid").addClass("gx-gridGridResizableTitles"),o=n.find(">thead>tr>th.FixedColumnR,>thead>tr>th.FixedColumnL").length>0,i&&n.find(">thead>tr.GridGroupTitleRow").length>0&&(console.error('WorkWithPlus Error: a grid cannot have "Grouped titles" and "Fixed Titles" at the same time.'),n.closest(".GridFixedTitles").removeClass("GridFixedTitles"),n.closest(".gx-gridGridFixedTitles").removeClass("gx-gridGridFixedTitles"),i=!1),i||o||r)if(n.data("Empowered")==null){if(n.data("Empowered",""),u=0,o&&(s=n.find(">thead>tr:last-child()>th.FixedColumnR:visible").first().index(),s!=-1&&(u=n.find(">thead>tr:last-child()>th").length-s)),f=null,r&&(f=WWPEmpowerGrid_UpdateGrdiColumnsMinWidth(n,i,r)),e=0,(i||o)&&(l=n.attr("id").replace("ContainerTbl","").toUpperCase(),n.addClass("ColsFixed"),e=n.find(">thead>tr>th.FixedColumnL:visible").last().index()+1,n.find(">*>tr>*").css("left",""),n.parent().off("scroll"),this.ColumnsOrHeaderFixer=new ColumnsOrHeaderFixer(n,{left:e,right:u,hasFixedTitles:i,hasResizableTitles:r,isRptStyle:this.isRptStyle})),t=this,r)n.find(">thead>tr:not(.FGHeaderRowH,.GridGroupTitleRow)>th, >thead>tr.FGHeaderRowV>th>div").off("mousemove").on("mousemove",function(i){var s,c,l,a,v,p;if(i.buttons!=1&&n.find(">thead").removeData("wwpMoving"),s=n.find(">thead").data("wwpMoving"),c=s!=null||GetResizedItem(i)!=null,$(this).css("cursor",c?"col-resize":""),c?($(this).parent().find(">.WWPDraggable").each(function(){this.draggable=!1}),window.getSelection&&window.getSelection().focusNode!=null&&$(window.getSelection().focusNode).closest("ul,tr")[0]==$(this).closest("tr")[0]&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())):$(this).parent().find(">.WWPDraggable").each(function(){this.draggable=$(this).find(".ColumnSettings.open").length==0}),s!=null){for(var o=n.find(">tbody>tr:visible:not(.DVGroupByRow,.FGRowLine):eq(0)>td:eq("+s+")"),r=i.pageX-o.offset().left,h=o.next();h.css("display")=="none";)h=h.next();if(l=h.length==0,l&&r>=o.outerWidth()-2&&(r+=10),r>20&&r>o.width()&&e+u>0){var y=e>0?n.find(">thead>tr:not(.FGHeaderRowH,.GridGroupTitleRow)>th:eq("+(e-1)+")"):null,w=e>0?y.offset().left+y.outerWidth()-n.parent().offset().left:0,b=u>0?n.find(">thead>tr:not(.FGHeaderRowH,.GridGroupTitleRow)>th:eq("+(n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th").length-u)+")"):null,k=u>0?n.parent().offset().left+n.parent().outerWidth()-b.offset().left:getScrollWidthIfVisible(n.parent(),!0),d=n.parent().outerWidth()-w-k,g=o.outerWidth()+d-20;r>g&&(r=0)}r>20&&(a=n.find(">tbody>tr:visible:not(.DVGroupByRow,.FGRowLine):eq(0)>td:visible"),a.each(function(){$(this).data("dvMW",$(this).outerWidth())}),a.each(function(){$(this).css({"min-width":$(this).data("dvMW")+"px"});$(this).removeData("dvMW")}),o.css({"min-width":r+"px"}),f==null&&(f=[],n.find(">tbody>tr:not(.DVGroupByRow,.FGRowLine):eq(0)>td").each(function(){f.push(-1)})),typeof SetMinWidthPaginationBar=="function"&&SetMinWidthPaginationBar(n[0]),l&&n.parent().scrollLeft(n.outerWidth()),t.ColumnsOrHeaderFixer!=null&&(t.ColumnsOrHeaderFixer.settings.firstNotFixedLeft_addedPadding!=null&&t.ColumnsOrHeaderFixer.settings.firstNotFixedLeft==o.index()?(r=r-t.ColumnsOrHeaderFixer.settings.firstNotFixedLeft_addedPadding,t.ColumnsOrHeaderFixer.settings.firstNotFixedLeft_minWidth=r):t.ColumnsOrHeaderFixer.settings.lastNotFixedRight_minWidth!=null&&t.ColumnsOrHeaderFixer.settings.lastNotFixedRight==o.index()&&(t.ColumnsOrHeaderFixer.settings.lastNotFixedRight_minWidth=r),t.ColumnsOrHeaderFixer.Refresh()),v=n.find(">thead>tr:not(.FGHeaderRowH,.GridGroupTitleRow)>th:eq("+s+")").data("origColIndex"),f[v!=null?v:s]=r,p=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1).replace(".aspx","")+"_"+n.attr("id").replace("ContainerTbl",""),createCookie(p,WWP_replaceAll(JSON.stringify(f,null,2),"\n","")))}}).off("mousedown").on("mousedown",function(t){var i=GetResizedItem(t);if(i!=null){n.find(">thead").data("wwpMoving",i.index());n.find(">thead").off("mouseup").on("mouseup",function(){n.find(">thead").off("mouseleave").off("mouseup").removeData("wwpMoving")});n.find(">thead").off("mouseleave").on("mouseleave",function(){n.find(">thead").off("mouseleave").off("mouseup").removeData("wwpMoving")})}})}else this.ColumnsOrHeaderFixer!=null&&this.InfiniteScrolling!="False"&&n.data("IS_ProcessedRecords")!=n.find(">tbody").children().length&&this.ColumnsOrHeaderFixer.UpdateInfiniteScrollingNewRecords();(i||o)&&(n.closest(".gx-ct-body").is(".entering, .leaving")?(t=this,window.setTimeout(function(){t.FreezeColumnsOrHeader()},100)):n.parent().trigger("scroll"))}}}function WWPEmpowerGrid_UpdateGrdiColumnsMinWidth(n,t,i){var r=null,f,u;return i&&(f=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1).replace(".aspx","")+"_"+n.attr("id").replace("ContainerTbl",""),r=readCookie(f),r!=null&&(r=JSON.parse(r),r.length!=n.find(">tbody>tr:visible:not(.DVGroupByRow):eq(0)>td").length&&(r=null))),(r!=null||t)&&(t&&(n.find(">thead>tr>th").css({"min-width":"0px"}),n.find(">tfoot>tr>td").css({"min-width":"0px"})),u=n.find(">thead>tr:not(.FGHeaderRowH,.GridGroupTitleRow)>th"),n.find(">tbody>tr:visible:not(.DVGroupByRow):eq(0)>td").each(function(){var t=-1,n,i;r!=null&&(n=$(this).index(),i=u.length>n?$(u[n]).data("origColIndex"):null,n=i!=null?i:n,r[n]>t&&(t=r[n]));t!=-1&&$(this).css({"min-width":t+"px"})})),r}function GetResizedItem(n){var t,i,r;if(n.target!=null&&(t=n.target.tagName=="TH"?$(n.target):$(n.target).closest("th,ul"),t.length==1&&t[0].tagName=="TH"&&t.parent().parent().next().children().length>0&&(i=n.pageX-t.offset().left,r=3,i<=r||i>=t.outerWidth()-4))){if(t.parent().hasClass("FGHeaderRowV"))if(n.offsetY<t.closest("thead").find(">tr:not(.FGHeaderRowH,.FGHeaderRowV)").last().height()){if(t.hasClass("FixedR"))for(t=t.prev();t.css("display")=="none";)t=t.prev()}else return null;else if(i<=r)for(t=t.prev();t.css("display")=="none";)t=t.prev();return t.length==1?t:null}return null}function ColumnsOrHeaderFixer(n,t){function i(n){n.each(function(n,t){var t=$(t),u=$(t).parent(),i=t.css("background-color"),r;i=i=="transparent"||i=="rgba(0, 0, 0, 0)"?null:i;i||(r=u.css("background-color"),i=r=="transparent"||r=="rgba(0, 0, 0, 0)"?"white":r);t.css("background-color",i)})}this.bindScrollEvent=function(){var n=this.settings.$parent,i=this.settings.$table,t=this;if(this.settings.hasFixedTitles){n.data("lastScrollLeft",0);n.data("lastScrollTop",0);n.scroll(function(){if(t.settings.$table.find(">thead").data("wwpMoving")!=null)t.updateAllRelative();else{var u=n.data("lastScrollLeft"),f=n.data("lastScrollTop"),i=n.scrollLeft(),r=n.scrollTop();n.data("lastScrollLeft",i);n.data("lastScrollTop",r);t.propareToScroll(n,u,f,i,r)}});n.off("mousewheel mousedown keydown").on("mousewheel mousedown keydown",function(i){var u,r;i.type=="mousewheel"&&i.originalEvent!=null&&i.originalEvent.wheelDelta!=null?(r=n.scrollTop(),t.propareToScroll(n,null,r-1,null,r)):i.type=="keydown"?i.keyCode==37||i.keyCode==39?(u=n.scrollLeft(),t.propareToScroll(n,u-1,null,u,null)):i.keyCode>=32&&i.keyCode<=40&&(r=n.scrollTop(),t.propareToScroll(n,null,r-1,null,r)):i.type=="mousedown"&&$(event.target).hasClass("gx-grid")&&(event.offsetY>=n.outerHeight()-getScrollWidthIfVisible(n,!1)?(u=n.scrollLeft(),t.propareToScroll(n,u-1,null,u,null)):event.offsetX>=n.outerWidth()-getScrollWidthIfVisible(n,!0)&&(r=n.scrollTop(),t.propareToScroll(n,null,r-1,null,r)))})}};this.propareToScroll=function(n,t,i,r,u){this.settings.myT!=null&&(clearInterval(this.settings.myT),this.settings.myT=null);r=r!=null?r:n.scrollLeft();u=u!=null?u:n.scrollTop();t=t!=null?t:r;i=i!=null?i:u;t!=r?n.data("isScrollingH")==null&&(n.data("isScrollingV",null),n.data("isScrollingH","T"),this.updateAllRelative(),this.updateFrozenColumnsAbsolute()):i!=u&&n.data("isScrollingV")==null&&this.settings.hasFixedTitles&&(n.data("isScrollingH",null),n.data("isScrollingV","T"),this.updateAllRelative(),this.updateTitlesAbsolute());r!=n.scrollLeft()&&n.scrollLeft(r);u!=n.scrollTop()&&n.scrollTop(u);var f=this;this.settings.myT=setInterval(function(){clearInterval(f.settings.myT);f.settings.myT=null;f.unprepareScroll(n)},300)};this.unprepareScroll=function(n){if(this.settings.unprepare){var t=n.scrollLeft(),i=n.scrollTop();n.data("isScrollingV",null);n.data("isScrollingH",null);this.updateAllRelative();t!=n.scrollLeft()&&n.scrollLeft(t);i!=n.scrollTop()&&n.scrollTop(i)}};this.updateAllRelative=function(){var i,r,f,e,c,o,t;WWP_Debug_Log(!1,"updateAllRelative");var s=this.settings.$parent,n=this.settings.$table,u=s.scrollLeft(),h=s.scrollTop();for(this.settings.left>0&&(n.find(">tbody>tr:not(.FGRowLine,.WCD_tr)>td:nth-child("+(this.settings.firstNotFixedLeft+1)+"), >thead>tr:not(.FGHeaderRowH,.GridGroupTitleRow)>th:nth-child("+(this.settings.firstNotFixedLeft+1)+"), >tfoot>tr:not(.FGFootRow)>td:nth-child("+(this.settings.firstNotFixedLeft+1)+")").css({"padding-left":""}),this.settings.hasGroupTitles&&n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+this.settings.firstNotFixedLeft+"]").css({"padding-left":""}),this.settings.firstNotFixedLeft_minWidth!=null&&(n.find(this.settings.S_RowCells+":nth-child("+(this.settings.firstNotFixedLeft+1)+"):eq(0)").css({"min-width":this.settings.firstNotFixedLeft_minWidth}),this.settings.firstNotFixedLeft_minWidth=null,this.settings.firstNotFixedLeft_addedPadding=null)),this.settings.hasRowGroups&&this.settings.left+this.settings.right>0&&n.find(">tbody>tr.DVGroupByRow>td").css({"padding-top":""}),this.settings.right>0&&this.settings.lastNotFixedRight_minWidth!=null&&(n.find(this.settings.S_RowCells+":nth-child("+(this.settings.lastNotFixedRight+1)+"):eq(0)").css({"min-width":this.settings.lastNotFixedRight_minWidth}),this.settings.lastNotFixedRight_minWidth=null),n.find(this.settings.S_Rows).css("height",""),n.find(">thead>tr:not(.FGHeaderRowH)>th, >tfoot>tr:not(.FGFootRow)>td").css("width",""),this.updateFixedTitlesRelative(h),n.find(">thead>tr:not(.FGHeaderRowH)>th,>tfoot>tr:not(.FGFootRow)>td").css({left:"",visibility:"",right:"","padding-top":""}),this.settings.left>0&&this.settings.leftColumns.css({left:u,position:"relative"}),i=0;i<this.settings.left;i++)n.find(this.settings.S_RowCells+":nth-child("+(i+1)+")").css({top:"",visibility:"","padding-top":""}).removeClass("FGCuttedCell");for(i=this.settings.firstRightColumn;i<this.settings.totalColumns;i++)n.find(this.settings.S_RowCells+":nth-child("+(i+1)+")").css({top:"",visibility:"","padding-top":""}).removeClass("FGCuttedCell");if(this.hasRowGroupsWithTot&&!this.settings.hasFixedTitles&&n.find(">tbody>tr.DVGroupByRow>td[titleCell]").css("position","absolute"),r=null,t=null,(this.settings.right>0||this.settings.hasRowGroups)&&(r=n.outerWidth(),t=r-this.tableAvailableWidthForGrid()-u,t<0&&(t=0)),this.settings.right>0&&(this.settings.rightColumns.css({right:t,position:"relative",left:""}),n.find(">tbody>tr:not(.FGRowLine,.WCD_tr)>td:nth-child("+(this.settings.lastNotFixedRight+1)+"), >thead>tr:not(.FGHeaderRowH,.GridGroupTitleRow)>th:nth-child("+(this.settings.lastNotFixedRight+1)+"), >tfoot>tr:not(.FGFootRow)>td:nth-child("+(this.settings.lastNotFixedRight+1)+")").css({"padding-right":""}),this.settings.hasGroupTitles&&n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+this.settings.lastNotFixedRight+"]").css({"padding-right":""}).length==0)){for(f=this.settings.lastNotFixedRight-1;f>=0&&n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+f+"]").length==0;)f--;n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+f+"]").css({"padding-right":""})}this.settings.hasVerticalBorders&&(e=n.parent().outerHeight()-getScrollWidthIfVisible(n.parent(),!1)-parseInt(n.css("margin-top"))-parseInt(n.parent().css("border-bottom-width"))-parseInt(n.parent().css("border-top-width"))-1,c=n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)").last().outerHeight()*-1,this.settings.hasExpandedWC&&(o=n.find(">tbody>tr.WCD_tr"),o.length==1?e=o.position().top:delete this.settings.hasExpandedWC),this.updateVerticalBordersCss(c,e));this.settings.hasRowGroups&&(this.settings.hasFixedTitles?this.settings.left+this.settings.right>0&&n.find(">tbody>tr.DVGroupByRow>td[titleCell]").css({left:u,position:"relative",top:"inherit"}):n.find(">tbody>tr.DVGroupByRow>td[titleCell]").css({"padding-left":u,"padding-right":this.DVGroupByRowOriginalPaddingR!=null?t+this.DVGroupByRowOriginalPaddingR:""}));this.updateFixedTitlesRelative(h);r!=null&&r!=this.settings.$table.outerWidth()&&(r=n.outerWidth(),t=r-this.tableAvailableWidthForGrid()-u,t<0&&(t=0),this.settings.rightColumns.css({right:t}))};this.updateVerticalBordersCss=function(n,t){var i=this.settings.$table,r;this.settings.hasGroupTitles?(r=i.find(">thead>tr.GridGroupTitleRow").outerHeight(),i.find(">thead>tr.FGHeaderRowV>th>div").each(function(){var f,u;if($(this).parent().hasClass("FixedR"))f=$(this).parent().index();else{for(u=$(this).parent().next();u.length==1&&!u.is(":visible");)u=u.next();f=u.index()}i.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+f+"]").length>0?n!=null?$(this).css({top:n-r,height:t}):$(this).css({height:t}):n!=null?$(this).css({top:n,height:t-r}):$(this).css({height:t-r})})):n!=null?i.find(">thead>tr.FGHeaderRowV>th>div").css({top:n,height:t}):i.find(">thead>tr.FGHeaderRowV>th>div").css({height:t})};this.updateFixedTitlesRelative=function(n){var u=this.settings.$parent,t=this.settings.$table,i,r;t.find(">thead>tr>th").css({top:this.settings.hasFixedTitles?n:"",position:"relative"}).removeClass("FGCuttedCell");this.settings.footer&&(i="",this.settings.hasFixedTitles&&(r=t.find(">tfoot>tr:not(.FGFootRow)"),i=n+u.outerHeight()-parseInt(t.css("border-bottom-width"))-parseInt(t.parent().css("border-top-width"))-parseInt(t.parent().css("border-bottom-width"))-r.outerHeight()-(r.offset().top-t.offset().top)-getScrollWidthIfVisible(u,!1),i>0&&(i=0)),t.find(">tfoot>tr>td").css({top:i,position:"relative"}).removeClass("FGCuttedCell"))};this.updateTitlesAbsolute=function(){var n=this.settings.$table,p=n.parent().scrollLeft(),h=n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV)>th:visible").first(),v=h.css("position"),u=h.css({position:"absolute",left:""}).css("left"),r,o,f,t,s,y,l;u=u=="auto"?h.position().left:parseInt(u);h.css({position:v});var a=this.tableAvailableWidthForGrid(),c=a+u,i=[],e=[];for(t=0;t<this.settings.totalColumns;t++)r=n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV)>th:eq("+t+")"),t<this.settings.left?i.push(t>0?i[t-1]+e[t-1]:u):t>=this.settings.firstRightColumn?i.push(0):i.push(r.position().left),e.push(r.is(":visible")?r.outerWidth():0),r.find(">*").length>0&&(f=r.find(">*:eq(0)").offset().top-r.offset().top,r.find(">span>.AttributeCheckBox").length==1&&(f=r.find(">span>.AttributeCheckBox").offset().top-r.offset().top-parseInt(r.find(">span>.AttributeCheckBox").css("margin-top"))),f>0&&r.css("padding-top",f)),this.settings.foot&&(o=n.find(">tfoot>tr:not(.FGFootRow)>td:eq("+t+")"),o.find(">*").length>0&&(f=o.find(">*:eq(0)").offset().top-o.offset().top,f>0&&o.css("padding-top",f)));for(t=this.settings.totalColumns-1;t>=this.settings.firstRightColumn;t--)i[t]=(t==this.settings.totalColumns-1?c:i[t+1])-e[t];n.find(this.settings.S_Rows+":eq(0)>td").each(function(){$(this).css("min-width",e[$(this).index()])});s=n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV)>th:visible").first().outerHeight();y=parseInt(n.css("margin-top"))+parseInt(n.parent().css("border-top-width"));n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV)>th").css({top:"",position:"absolute",height:s});n.find(">thead>tr.FGHeaderRowV>th").css({top:"",position:"absolute"});n.find(">thead>tr.FGHeaderRowH>th").css({top:"",position:"absolute",height:n.find(">thead>tr.FGHeaderRowH>th:eq(0)").outerHeight(),width:a});n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV)").css({height:s});s=n.find(">tfoot>tr:not(.FGFootRow)>td:visible").first().outerHeight();l=n.parent().outerHeight()-n.find(">tfoot>tr:not(.FGFootRow)").outerHeight()-getScrollWidthIfVisible(n.parent(),!1)-parseInt(n.parent().css("border-bottom-width"));n.find(">tfoot>tr:not(.FGFootRow)>td").css({top:l,position:"absolute",height:s});n.find(">tfoot>tr.FGFootRow>td").css({top:l-parseInt(n.find(">tfoot>tr.FGFootRow").css("height")),position:"absolute",height:n.find(">tfoot>tr.FGFootRow").height(),width:n.parent().outerWidth()-getScrollWidthIfVisible(n.parent(),!0)});n.find(">thead>tr:not(.FGHeaderRowH)>th, >tfoot>tr:not(.FGFootRow)>td").each(function(){for(var n=e[$(this).index()],t=1;t<this.colSpan;t++)n+=e[$(this).index()+t];i[$(this).index()]>c||i[$(this).index()]+n<u?$(this).css({visibility:"hidden",left:-1e3}):i[$(this).index()]+n-1>c?($(this).css({width:c-i[$(this).index()],left:i[$(this).index()],visibility:""}),$(this).parent().hasClass("FGHeaderRowV")||$(this).addClass("FGCuttedCell")):i[$(this).index()]<u?($(this).css({width:n-(u-i[$(this).index()]),left:u,visibility:""}),$(this).parent().hasClass("FGHeaderRowV")||$(this).addClass("FGCuttedCell")):$(this).css({width:n,left:i[$(this).index()],visibility:""})})};this.tableAvailableWidthForGrid=function(){return this.settings.$parent.outerWidth()-(this.settings.hasFixedTitles?getScrollWidthIfVisible(this.settings.$parent,!0):0)-parseInt(this.settings.$parent.css("border-left-width"))-parseInt(this.settings.$parent.css("border-right-width"))};this.tableAvailableHeightForGrid=function(){return this.settings.$parent.outerHeight()-getScrollWidthIfVisible(this.settings.$parent,!1)-parseInt(this.settings.$parent.css("border-top-width"))-parseInt(this.settings.$parent.css("border-bottom-width"))};this.updateFrozenColumnsAbsolute=function(){var f,u,o,e,l,it,w,b;if(this.settings.left+this.settings.right!=0){WWP_Debug_Log(!1,"updateFrozenColumnsAbsolute");var t=this.settings.$table,y=t.parent().scrollTop(),s=[],r=[],p=[],g=[],nt=0,tt=0;for(f=0;f<this.settings.left;f++)u=t.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:eq("+f+")"),s.push(u.position().left),r.push(u.outerWidth()),u.find(">*").length>0&&(e=u.find(">*:eq(0)").offset().top-u.offset().top,e>0&&u.css("padding-top",e)),t.find(this.settings.S_RowCells+":eq("+f+")").css("display")!="none"&&(nt+=r[f]),o=t.find(">thead>tr.GridGroupTitleRow>th:eq("+f+")"),o.length>0&&o.find(">*").length>0&&(e=o.find(">*:eq(0)").offset().top-o.offset().top,e>0&&o.css("padding-top",e));for(f=this.settings.firstRightColumn;f<this.settings.totalColumns;f++)u=t.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:eq("+f+")"),s.push(u.position().left),r.push(u.outerWidth()),u.find(">*").length>0&&(e=u.find(">*:eq(0)").offset().top-u.offset().top,e>0&&u.css("padding-top",e)),t.find(this.settings.S_RowCells+":eq("+f+")").css("display")!="none"&&(tt+=r[r.length-1]),o=t.find(">thead>tr.GridGroupTitleRow>th:eq("+f+")"),o.length>0&&o.find(">*").length>0&&(e=o.find(">*:eq(0)").offset().top-o.offset().top,e>0&&o.css("padding-top",e));for(l=t.find(">tbody>tr:not(.FGRowLine,.WCD_tr)"),it=l.length,w=0;w<it;w++)b=$(l[w]),p.push(b.outerHeight()),g.push(b.position().top-y+parseInt(t.parent().css("border-top-width"))),b.css("height",p[p.length-1]);var d=t.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)").outerHeight(),ut=t.find(">tfoot>tr:not(.FGFootRow)").outerHeight(),h=parseInt(t.css("margin-top"))+parseInt(t.parent().css("border-top-width")),k=h+this.tableAvailableHeightForGrid(),ft=k-t.find(">tfoot>tr:not(.FGFootRow)").outerHeight(),n=this;if(l.find(">td").each(function(){var t=$(this),i=t.index(),r;(i<n.settings.left||i>=n.settings.firstRightColumn)&&(i>=n.settings.firstRightColumn&&(i=i-(n.settings.firstRightColumn-n.settings.left)),t.find(">*").length>0&&(r=t.find(">*:eq(0)").offset().top-t.offset().top,r>0&&t.css("padding-top",r)))}),!this.settings.initializing){var rt=this.settings.hasRowGroups?this.tableAvailableWidthForGrid():null,a=null,v=null,c=this.settings.hasFixedTitles;t.find(">tbody>tr:not(.FGRowLine,.WCD_tr)>td, >thead>tr:not(.FGHeaderRowH,.GridGroupTitleRow)>th, >tfoot>tr:not(.FGFootRow)>td").each(function(){var u=$(this),f=u.index(),tt,it,e,b,et;if(f<n.settings.left||f>=n.settings.firstRightColumn||n.settings.left==0&&u.is("[titleCell]"))if(f>=n.settings.firstRightColumn&&(f=f-(n.settings.firstRightColumn-n.settings.left)),u.parent().parent()[0].tagName=="TBODY"){var nt=l.index(u.parent()),o=g[nt],w=p[nt];if(n.settings.hasRowGroups&&u.parent().hasClass("DVGroupByRow"))if(i(u),u.is("[titleCell]")&&u.attr("colspan")!=n.settings.totalColumnsVisibles){if(a==null){for(a=rt,e=n.settings.firstRightColumn;e<n.settings.totalColumns;e++)b=t.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:eq("+e+")"),b.is(":visible")&&(a-=r[e-(n.settings.firstRightColumn-n.settings.left)]);if(t.data("groupNoNotFixedTot")!=null)v=a-(n.settings.hasVerticalBorders?1:0);else if(n.settings.left>0){for(v=0,e=0;e<n.settings.left;e++)b=t.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:eq("+e+")"),b.is(":visible")&&(v+=r[e]);n.settings.hasVerticalBorders&&v--}}u.css({"padding-left":"","padding-right":"",position:"absolute",left:s[f],"max-width":a,"min-width":v,top:"inherit",height:w-(n.settings.isIE?1:0)+"px","z-index":n.settings.zIndex+3})}else tt=u.is("[titleCell]")?rt:r[f],it=u.is("[titleCell]")?n.settings.zIndex+3:u.index()>=n.settings.firstRightColumn?n.settings.zIndex:"",u.css({"padding-left":"","padding-right":"",position:"absolute",left:s[f],width:tt,top:"inherit",height:w-(n.settings.isIE?1:0)+"px","z-index":it});else o>k||o+w<h?u.css({visibility:"hidden",position:"absolute",top:c?-1e3:"",left:-1e3}):o+w>k+1?(u.css({"padding-top":"",visibility:"",position:"absolute",right:"",left:s[f],width:r[f],top:c?o+(n.settings.isIE?1:0):"",height:k-o-(n.settings.isIE?1:0)+"px"}),u.addClass("FGCuttedCell")):o<h?(u.css({visibility:"",position:"absolute",right:"",left:s[f],width:r[f],top:c?h:"",height:w-(h-o)+"px"}),u.addClass("FGCuttedCell")):(u.css({visibility:"",position:"absolute",right:"",left:s[f],width:r[f],top:"",height:w-(n.settings.isIE?1:0)+"px"}),c&&y>0&&(et=u.css("top"),et=="auto"?u.css({top:u.position().top-y}):u.css({top:parseInt(u.css("top"))-y})))}else u[0].tagName=="TH"?u.parent().hasClass("FGHeaderRowV")?u.css({position:"absolute",left:s[f],width:r[f],top:""}):u.css({position:"absolute",left:s[f],width:r[f],top:"",height:d+"px"}):u.css({position:"absolute",left:s[f],width:r[f],top:c?ft:"",height:ut-1+"px"})});this.settings.hasGroupTitles&&(d=t.find(">thead>tr.GridGroupTitleRow").outerHeight(),t.find(">thead>tr.GridGroupTitleRow>th").each(function(){var f=$(this),t=parseInt(f.attr("mColIndex")),u,e,i;if(t<n.settings.left||t>=n.settings.firstRightColumn){for(t>=n.settings.firstRightColumn&&(t=t-(n.settings.firstRightColumn-n.settings.left)),u=r[t],e=this.colSpan,i=1;i<e;i++)u+=r[t+i];f.css({position:"absolute",left:s[t],width:u,top:c?h:"",height:d+"px"})}}))}this.settings.left>0&&this.appendPaddingToFirstNotFixed(t,!0,this.settings.firstNotFixedLeft,nt);this.settings.right>0&&this.appendPaddingToFirstNotFixed(t,!1,this.settings.lastNotFixedRight,tt);this.settings.left>0||this.settings.right>0}};this.appendPaddingToFirstNotFixed=function(n,t,i,r){var u=t?"left":"right",f,o,e;if(i++,n.find(this.settings.S_RowCells+":nth-child("+i+")").css("padding-"+u,r+parseInt(n.find(this.settings.S_RowCells+":nth-child("+i+"):eq(0)").css("padding-"+u))+"px"),n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:nth-child("+i+")").css("padding-"+u,r+parseInt(n.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:nth-child("+i+"):eq(0)").css("padding-"+u))+"px"),n.find(">tfoot>tr:not(.FGFootRow)>td:nth-child("+i+")").css("padding-"+u,r+parseInt(n.find(">tfoot>tr:not(.FGFootRow)>td:nth-child("+i+"):eq(0)").css("padding-"+u))+"px"),this.settings.hasGroupTitles&&(n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+(i-1)+"]").css("padding-"+u,r+parseInt(n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+(i-1)+"]:eq(0)").css("padding-"+u))+"px"),!t&&n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+(i-1)+"]").length==0)){for(f=i-2;f>=0&&n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+f+"]").length==0;)f--;n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+f+"]").css("padding-"+u,r+parseInt(n.find(">thead>tr.GridGroupTitleRow>th[mColIndex="+f+"]:eq(0)").css("padding-"+u))+"px")}this.settings.hasRowGroups&&n.find(">tbody>tr.DVGroupByRow:eq(0)>td[totCol]:nth-child("+i+")").length>0&&(o=parseInt(this.settings.$table.find(">tbody>tr.DVGroupByRow:eq(0)>td[totCol]:nth-child("+i+")").css("padding-"+u)),n.find(">tbody>tr.DVGroupByRow>td:nth-child("+i+")").css("padding-"+u,o+r));e=n.find(this.settings.S_RowCells+":nth-child("+i+"):eq(0)").css("min-width");n.find(this.settings.S_RowCells+":nth-child("+i+"):eq(0)").css({"min-width":r+parseInt(e)+"px"});t?(this.settings.firstNotFixedLeft_minWidth=e,this.settings.firstNotFixedLeft_addedPadding=r):(this.settings.left==0||this.settings.firstNotFixedLeft!=this.settings.lastNotFixedRight)&&(this.settings.lastNotFixedRight_minWidth=e)};this.geVisibleColumns=function(){var n="";return this.settings.$table.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th*").each(function(){n!=""&&(n+=";");n+=$(this).css("display")!="none"?"1":"0"}),n};this.getVisibleColumnsCount=function(){var n=0;return this.settings.$table.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th*").each(function(){$(this).css("display")!="none"&&n++}),n};this.undoAllModifications=function(){this.preparedAndFixed&&(this.preparedAndFixed=!1,this.settings.$table.find(">thead>tr.FGHeaderRowV,>thead>tr.FGHeaderRowH,>tbody>tr.FGRowLine,>tfoot>tr.FGFootRow").remove(),this.settings.$table.find(this.settings.S_Rows).css("height",""),this.settings.$table.find(">thead>tr>th,>tfoot>tr>td,>tbody>tr>td").css({left:"",position:"","padding-left":"",top:"",visibility:"","padding-top":"","min-width":"","max-width":"",right:"","padding-right":"",width:"",height:"","background-color":""}).removeClass("FGCuttedCell"),this.settings.$table.css("border-style","").removeClass("FTBRemoveBorders"),this.settings.$parent.off("scroll mousewheel mousedown keydown"));WWPEmpowerGrid_UpdateGrdiColumnsMinWidth(this.settings.$table,this.settings.hasFixedTitles,this.settings.hasResizableTitles)};this.prepareAndFix=function(){var n=this.settings.$table,t,b,o,r,s,e,f,h,c,p,a,w,l,u,y;if(this.settings.left+this.settings.right>0&&this.gridWidthOverlapped>0&&this.gridWidthOverlapped>=this.tableAvailableWidthForGrid()&&(this.settings.left=0,this.settings.right=0),this.visibleColumns=this.geVisibleColumns(),this.settings.hasFixedTitles||this.settings.left+this.settings.right>0){if(this.settings.$parent.css("overflow-x","auto"),this.settings.$parent.css("overflow-y",this.settings.hasFixedTitles?"auto":"hidden"),this.preparedAndFixed=!0,t=this,this.settings.left>0&&(this.settings.leftColumns=$(),b=n.find(">thead>tr, "+this.settings.S_Rows+", >tfoot>tr"),b.each(function(n,i){t.solverLeftColspan(i,function(n){t.settings.leftColumns=t.settings.leftColumns.add(n)})}),o=n.find(this.settings.S_Rows+".gx-row-selected"),o.removeClass("gx-row-selected"),this.settings.leftColumns.each(function(n,r){var r=$(r);i(r);r.css({position:"relative","z-index":t.settings.zIndex+(r[0].tagName=="TH"?2:r.parent().parent()[0].tagName=="TFOOT"?1:0)})}),o.addClass("gx-row-selected")),this.settings.right>0&&(this.settings.rightColumns=$(),n.find(">thead>tr, "+this.settings.S_Rows+", >tfoot>tr").each(function(n,i){t.solveRightColspan(i,function(n){t.settings.rightColumns=t.settings.rightColumns.add(n)})}),o=n.find(this.settings.S_Rows+".gx-row-selected"),o.removeClass("gx-row-selected"),this.settings.rightColumns.each(function(n,r){var r=$(r);i(r);r.css({position:"relative","z-index":t.settings.zIndex+(r[0].tagName=="TH"?2:r.parent().parent()[0].tagName=="TFOOT"?1:0)})}),o.addClass("gx-row-selected")),this.settings.hasFixedTitles&&(n.find(">thead>tr>th").each(function(n,r){r=$(r);var u=r.index();u>=t.settings.left&&u<t.settings.firstRightColumn&&(i(r),r.css("z-index",t.settings.zIndex))}),n.find(">tfoot>tr>td").each(function(n,r){r=$(r);var u=r.index();u>=t.settings.left&&u<t.settings.firstRightColumn&&(i(r),r.css("z-index",t.settings.zIndex-1))})),this.settings.hasFixedTitles||this.settings.left+this.settings.right>0){if(n.css("border-style","none"),r=this.gridHeaderLineCell(),r.length==0){if(s=n.find(">thead>tr:last-child()"),e=s.find(">*:visible").length,e==0&&(e=this.getVisibleColumnsCount()),this.settings.hasVerticalBorders=n.closest(".gx-grid").parent().closest(".HasGridEmpowerer,.gx-grid").hasClass("GridFixedColumnBorders"),this.settings.hasVerticalBorders){for(u=document.createElement("tr"),u.className="FGHeaderRowV",$(u).css("height","0"),f=0;f<this.settings.totalColumns;f++)r=document.createElement("th"),h=n.find(">thead>tr:not(.FGHeaderRowH)").last().find(">th:eq("+f+")"),c=h.css("display"),c=="none"&&h[0].style.display!="none"&&h.hasClass("hidden-xs")&&(c=""),c!="none"?(h.hasClass("hidden-xs")&&$(r).addClass("hidden-xs"),$(r).css({"z-index":this.settings.zIndex+(f<this.settings.left||f>=this.settings.firstRightColumn?2:0)}),p=document.createElement("div"),this.settings.lastNotFixedRight==f&&$(p).css("visibility","hidden"),$(r).append(p)):$(r).css("display",c),$(u).append(r),f<this.settings.left?this.settings.leftColumns=this.settings.leftColumns.add($(r)):f>=this.settings.firstRightColumn&&(this.settings.rightColumns=this.settings.rightColumns.add($(r)),$(r).addClass("FixedR"));n.find(">thead").append(u)}if(parseFloat(s.css("border-bottom-width"))>0&&(u=document.createElement("tr"),u.className="FGHeaderRowH",$(u).css("height",s.css("border-bottom-width")),r=document.createElement("th"),r.colSpan=e,$(r).css({"background-color":s.css("border-bottom-color"),"z-index":this.settings.zIndex+2}),$(u).append(r),n.find(">thead").append(u)),a=n.find(this.settings.S_Rows+":eq(0)"),parseFloat(a.css("border-top-width"))>0){var k=a.css("border-top-width"),d=a.css("border-top-color"),v=n.data("IS_ProcessedRecords");v!=null&&n.find(">tbody").children().length!=v&&(v=null);w=this.settings.isRptStyle?'<tr class="FGRowLine" style="display:none" />':"";this.settings.isIE?($(w+'<tr class="FGRowLine"><td colSpan="'+e+'"><div><\/div><\/td><\/tr>').insertAfter(n.find(">tbody>tr")),n.find(">tbody>tr.FGRowLine>td>div").css("border-top","solid "+k+" "+d)):($(w+'<tr class="FGRowLine"><td colSpan="'+e+'"><\/td><\/tr>').insertAfter(n.find(">tbody>tr")),n.find(">tbody>tr.FGRowLine").css("height",k),n.find(">tbody>tr.FGRowLine>td").css("background-color",d));n.find(">tbody>tr.FGRowLine:last-child()").remove();v!=null&&n.data("IS_ProcessedRecords",n.find(">tbody").children().length)}this.settings.footer&&(l=n.find(">tfoot>tr"),parseFloat(l.css("border-top-width"))>0&&(u=document.createElement("tr"),u.className="FGFootRow",$(u).css("height",l.css("border-top-width")),y=document.createElement("td"),y.colSpan=e,$(y).css({"background-color":l.css("border-top-color"),"z-index":this.settings.zIndex+2}),$(u).append(y),$(u).insertBefore(l)))}n.addClass("FTBRemoveBorders")}this.updateAllRelative();this.settings.hasFixedTitles||this.updateFrozenColumnsAbsolute()}else this.settings.$parent.css("overflow",""),this.settings.$parent.css("overflow-y","");this.bindScrollEvent()};this.gridHeaderLineCell=function(){return this.settings.$table.find(">thead>tr.FGHeaderRowH>th")};this.solverLeftColspan=function(n,t){var i,r;if($(n).hasClass("GridGroupTitleRow"))for(i=0;i<this.settings.left;i++)$(n.childNodes[i]).attr("mColIndex")<=i&&t($(n.childNodes[i]));else for(i=1;i<=this.settings.left;i++)r=$(n).find("> *:nth-child("+i+")"),t(r)};this.solveRightColspan=function(n,t){var i,r;if($(n).hasClass("GridGroupTitleRow"))for(i=0;i<n.childNodes.length;i++)$(n.childNodes[i]).attr("mColIndex")>=this.settings.firstRightColumn&&t($(n.childNodes[i]));else for(i=1;i<=this.settings.right;i++)r=$(n).find("> *:nth-child("+(this.settings.firstRightColumn+i)+")"),t(r)};this.UpdateInfiniteScrollingNewRecords=function(){this.visibleColumns=null;this.Refresh()};this.WCD_PrepareToExpand=function(n){var u,e,i;if(this.settings.hasVerticalBorders){this.settings.hasExpandedWC=!0;var t=this.settings.$table,f=$(n).position().top+$(n).outerHeight(),r=t.find(">tbody>tr.WCD_tr");r.length==1&&r.index()<$(n).index()&&(f-=r.outerHeight());this.updateVerticalBordersCss(null,f);u=t.parent().outerHeight()-getScrollWidthIfVisible(t.parent(),!1)-parseInt(t.css("margin-top"))-parseInt(t.parent().css("border-bottom-width"))-parseInt(t.parent().css("border-top-width"))-1;u-=f;r.length==1&&(u-=r.outerHeight());t.find(">tbody>tr.FGHeaderRowV").remove();u>0&&(e=t.find(">thead>tr.FGHeaderRowV"),i=document.createElement("tr"),i.className="FGHeaderRowV",$(i).css("height","0"),i.innerHTML=WWP_replaceAll(WWP_replaceAll(e[0].innerHTML,"<th","<td"),"<\/th","<\/td"),$(i).find(">td>div").css({top:"",height:u}),n.parentNode.insertBefore(i,n.nextSibling))}};this.WCD_Collapsed=function(){if(this.settings.hasVerticalBorders){delete this.settings.hasExpandedWC;var n=this.settings.$table,t=n.parent().outerHeight()-getScrollWidthIfVisible(n.parent(),!1)-parseInt(n.css("margin-top"))-parseInt(n.parent().css("border-bottom-width"))-parseInt(n.parent().css("border-top-width"))-1;this.updateVerticalBordersCss(null,t);n.find(">tbody>tr.FGHeaderRowV").remove()}};this.Refresh=function(n){var r,u,f;WWP_Debug_Log(!1,"refreshing");var t=0,i=">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th",e=this.settings.$table.find(i+".FixedColumnR:visible").first().index();e!=-1&&(t=this.settings.$table.find(i).length-e);r=this.settings.$table.find(i+".FixedColumnL:visible").last().index()+1;n=n||this.settings.origLeft+this.settings.origRight>0!=r+t>0||this.geVisibleColumns()!=this.visibleColumns;n?(WWP_Debug_Log(!1,"changed"),u=this.settings.$parent.data("WWP.GridTitlesCategories"),u!=null&&(this.settings.$table.data("titlesCategories",null),u.mergeTitlesCategoryCells()),f=this.settings.$parent.data("WWP.RowGroupsHelper"),f!=null&&(this.settings.$table.data("groupProcessed",null),f.mergeGroupRowCellsAndAddTitle()),this.undoAllModifications(),this.gridWidthOverlapped=0,this.gridWidthNotOverlapped=99999,this.initializeSettings(this.settings.$table,{left:r,right:t,hasFixedTitles:this.settings.hasFixedTitles,hasResizableTitles:this.settings.hasResizableTitles,isRptStyle:this.settings.isRptStyle}),this.prepareAndFix()):this.preparedAndFixed&&(this.updateAllRelative(),this.settings.hasFixedTitles||this.updateFrozenColumnsAbsolute());this.checkIfFixedColumnsExceedWidth()};this.checkIfFixedColumnsExceedWidth=function(){var t,n,i,r,u;if(this.settings.origLeft+this.settings.origRight>0){if(t=!1,n=this.tableAvailableWidthForGrid(),n<this.gridWidthNotOverlapped&&(this.gridWidthOverlapped>=n?t=!0:(this.preparedAndFixed||(this.initializeSettings(this.settings.$table,{left:this.settings.origLeft,right:this.settings.origRight,hasFixedTitles:this.settings.hasFixedTitles,hasResizableTitles:this.settings.hasResizableTitles,isRptStyle:this.settings.isRptStyle}),this.prepareAndFix()),WWP_Debug_Log(!1,"calculating"),i=0,this.settings.left>0&&(r=this.settings.$table.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:eq("+(this.settings.left-1)+")"),i=r.offset().left+r.outerWidth()),u=this.settings.right>0?this.settings.$table.find(">thead>tr:not(.FGHeaderRowH,.FGHeaderRowV,.GridGroupTitleRow)>th:eq("+this.settings.firstRightColumn+")").offset().left:n+this.settings.$table.offset().left+this.settings.$table.parent().scrollLeft(),i+50>=u&&(t=!0))),t)return this.gridWidthOverlapped<n&&(this.gridWidthOverlapped=n+getScrollBarWidth(!0),this.gridWidthNotOverlapped<this.gridWidthOverlapped&&(this.gridWidthNotOverlapped=this.gridWidthOverlapped)),WWP_Debug_Log(!1,"overlaped"),this.settings.left+this.settings.right>0&&(this.undoAllModifications(),this.prepareAndFix()),!0;WWP_Debug_Log(!1,"not overlaped");this.gridWidthNotOverlapped>n&&this.gridWidthNotOverlapped>=this.gridWidthOverlapped&&(this.gridWidthNotOverlapped=n);this.preparedAndFixed&&this.settings.left+this.settings.right==0&&this.undoAllModifications();this.preparedAndFixed||(this.initializeSettings(this.settings.$table,{left:this.settings.origLeft,right:this.settings.origRight,hasFixedTitles:this.settings.hasFixedTitles,hasResizableTitles:this.settings.hasResizableTitles,isRptStyle:this.settings.isRptStyle}),this.prepareAndFix())}return!1};this.initializeSettings=function(n,t){var i,r;this.settings!=null&&this.settings.myT!=null&&clearInterval(this.settings.myT);this.settings=$.extend({},{head:!0,foot:!0,left:0,right:0,zIndex:2},t);this.settings.$table=n;this.settings.$parent=this.settings.$table.parent();this.settings.totalColumns=this.settings.$table.find(">thead>tr:last-child()>*").length;this.settings.firstRightColumn=this.settings.totalColumns-this.settings.right;this.settings.firstNotFixedLeft=null;this.settings.lastNotFixedRight=null;this.settings.footer=this.settings.$table.find(">tfoot>tr>td:eq(0)").length>0;this.settings.isIE=WWP_IsIE();this.settings.S_Rows=">tbody>tr:not(.DVGroupByRow,.FGRowLine,.Invisible)";this.settings.S_RowCells=">tbody>tr:not(.DVGroupByRow,.FGRowLine,.Invisible)>td";this.settings.unprepare=!0;this.settings.origLeft=this.settings.left;this.settings.origRight=this.settings.right;this.settings.hasGroupTitles=this.settings.$table.find(">thead>tr.GridGroupTitleRow").length>0;this.settings.hasRowGroups=this.settings.$table.find(">tbody>tr.DVGroupByRow:eq(0)").length>0;this.hasRowGroupsWithTot=this.settings.hasRowGroups&&this.settings.$table.find(">tbody>tr.DVGroupByRow>td:visible[totCol]:eq(0)").length>0;this.DVGroupByRowOriginalPaddingR=this.settings.hasRowGroupsWithTot?parseInt(this.settings.$table.find(">tbody>tr.DVGroupByRow>td[titleCell]:eq(0)").css("padding-right")):null;i=this;this.settings.left+this.settings.right>0&&(r=!1,this.settings.hasRowGroups&&this.settings.hasFixedTitles?console.warn('WorkWithPlus Error: a grid cannot have "Grouped by", "Fixed Titles" and a "Fixed Column" at the same time.'):this.settings.$table.find(">thead>tr>th:visible").each(function(){if((i.settings.left==0||$(this).index()>i.settings.left-1)&&(i.settings.right==0||$(this).index()<i.settings.firstRightColumn))return r=!0,!1}),r||(this.settings.left=0,this.settings.right=0));this.settings.totalColumnsVisibles=this.settings.$table.find(">thead>tr:last-child()>*:visible").each(function(){var n=$(this).index();i.settings.firstNotFixedLeft==null&&n>=i.settings.left&&(i.settings.firstNotFixedLeft=n);n<i.settings.firstRightColumn&&(i.settings.lastNotFixedRight=n);n<i.settings.left?$(this).addClass("FixedColumnL"):n>=i.settings.firstRightColumn&&$(this).addClass("FixedColumnR")}).length};this.gridWidthOverlapped=0;this.gridWidthNotOverlapped=99999;this.initializeSettings(n,t);typeof SetMinWidthTotalizers=="function"&&SetMinWidthTotalizers();this.prepareAndFix();this.checkIfFixedColumnsExceedWidth()}var scrollWidthZoom=null;$(window).one('load',function(){WWP_VV([['WWP.GridEmpowerer','15.4.0']]);});
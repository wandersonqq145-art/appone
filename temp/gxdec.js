gx.num.dec={bigDecimal:function(n,t,i){var c;if(this.div=function(n,t){return(n-n%t)/t},this.arraycopy=function(n,t,i,r,u){var f;if(r>t)for(f=u-1;0<=f;--f)i[f+r]=n[f+t];else for(f=0;f<u;++f)i[f+r]=n[f+t]},this.createArrayWithZeros=function(n){for(var i=Array(n),t=0;t<n;++t)i[t]=0;return i},this.abs=function(n){return"undefined"==typeof n&&(n=this.plainMC),this.ind==this.isneg?this.negate(n):this.plus(n)},this.add=function(n,t){var f,r,i,l,a;if("undefined"==typeof t&&(t=this.plainMC),t.lostDigits&&this.checkdigits(n,t.digits),f=this,0==f.ind&&t.form!=gx.num.dec.PLAIN)return n.plus(t);if(0==n.ind&&t.form!=gx.num.dec.PLAIN)return f.plus(t);r=t.digits;0<r&&(f.mant.length>r&&(f=this.clone(f).round(t)),n.mant.length>r&&(n=this.clone(n).round(t)));var u=new gx.num.dec.bigDecimal,s=f.mant,e=f.mant.length,h=n.mant,o=n.mant.length;if(f.exp==n.exp)u.exp=f.exp;else if(f.exp>n.exp){if(i=e+f.exp-n.exp,i>=o+r+1&&0<r)return u.mant=s,u.exp=f.exp,u.ind=f.ind,e<r&&(u.mant=this.extend(f.mant,r),u.exp-=r-e),u.finish(t,!1);u.exp=n.exp;i>r+1&&0<r&&(i=i-r-1,o-=i,u.exp+=i,i=r+1);i>e&&(e=i)}else{if(i=o+n.exp-f.exp,i>=e+r+1&&0<r)return u.mant=h,u.exp=n.exp,u.ind=n.ind,o<r&&(u.mant=this.extend(n.mant,r),u.exp-=r-o),u.finish(t,!1);u.exp=f.exp;i>r+1&&0<r&&(i=i-r-1,e-=i,u.exp+=i,i=r+1);i>o&&(o=i)}if(u.ind=f.ind==this.iszero?this.ispos:f.ind,(f.ind==this.isneg?1:0)==(n.ind==this.isneg?1:0))r=1;else if(r=-1,n.ind!=this.iszero)if(e<o||f.ind==this.iszero)i=s,s=h,h=i,i=e,e=o,o=i,u.ind=-u.ind;else if(!(e>o)){var c=i=0,y=s.length-1,v=h.length-1;n:for(;;){if(i<=y)l=s[i];else{if(c>v){if(t.form!=gx.num.dec.PLAIN)return new gx.num.dec.bigDecimal("0");break n}l=0}if(a=c<=v?h[c]:0,l!=a){l<a&&(i=s,s=h,h=i,i=e,e=o,o=i,u.ind=-u.ind);break n}i++;c++}}return u.mant=this.byteaddsub(s,e,h,o,r,!1),u.finish(t,!1)},this.compareTo=function(n,t){if("undefined"==typeof t&&(t=this.plainMC),t.lostDigits&&this.checkdigits(n,t.digits),this.ind==n.ind&&this.exp==n.exp){var i=this.mant.length;if(i<n.mant.length)return-this.ind;if(i>n.mant.length)return this.ind;if(i<=t.digits||0==t.digits){for(t=0;0<i;i--,t++){if(this.mant[t]<n.mant[t])return-this.ind;if(this.mant[t]>n.mant[t])return this.ind}return 0}}else{if(this.ind<n.ind)return-1;if(this.ind>n.ind)return 1}return n=this.clone(n),n.ind=-n.ind,this.add(n,t).ind},this.divide=function(n,t,i){var r=-1;if("undefined"!=typeof t)"number"==typeof t&&(t=new gx.num.dec.mthctx(0,gx.num.dec.PLAIN,!1,t));else if("undefined"!=typeof i){if(r=t,0>r)throw"divide(): Negative scale: "+r;t=new gx.num.dec.mthctx(0,gx.num.dec.PLAIN,!1,i)}else"undefined"==typeof t&&(t=this.plainMC);return this.dodivide("D",n,t,r)},this.divideInteger=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),this.dodivide("I",n,t,0)},this.max=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),0<=this.compareTo(n,t)?this.plus(t):n.plus(t)},this.min=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),0>=this.compareTo(n,t)?this.plus(t):n.plus(t)},this.multiply=function(n,t){var e,h,c,l;"undefined"==typeof t&&(t=this.plainMC);t.lostDigits&&this.checkdigits(n,t.digits);var i=this,f=0,r=t.digits;0<r?(i.mant.length>r&&(i=this.clone(i).round(t)),n.mant.length>r&&(n=this.clone(n).round(t))):(0<i.exp&&(f+=i.exp),0<n.exp&&(f+=n.exp));i.mant.length<n.mant.length?(r=i.mant,e=n.mant):(r=n.mant,e=i.mant);var o=r.length+e.length-1,u=9<r[0]*e[0]?o+1:o,s=new gx.num.dec.bigDecimal;for(u=this.createArrayWithZeros(u),h=r.length,c=0;0<h;h--,c++)l=r[c],0!=l&&(u=this.byteaddsub(u,u.length,e,o,l,!0)),o--;return s.ind=i.ind*n.ind,s.exp=i.exp+n.exp-f,s.mant=0==f?u:this.extend(u,u.length+f),s.finish(t,!1)},this.negate=function(n){"undefined"==typeof n&&(n=this.plainMC);n.lostDigits&&this.checkdigits(null,n.digits);var t=this.clone(this);return t.ind=-t.ind,t.finish(n,!1)},this.plus=function(n){return"undefined"==typeof n&&(n=this.plainMC),n.lostDigits&&this.checkdigits(null,n.digits),n.form==gx.num.dec.PLAIN&&this.form==gx.num.dec.PLAIN&&(this.mant.length<=n.digits||0==n.digits)?this:this.clone(this).finish(n,!1)},this.pow=function(n,t){var i,e,o;"undefined"==typeof t&&(t=this.plainMC);t.lostDigits&&this.checkdigits(n,t.digits);var u=n.intcheck(this.MinArg,this.MaxArg),f=this,r=t.digits;if(0==r){if(n.ind==this.isneg)throw"pow(): Negative power: "+n.toString();r=0}else{if(n.mant.length+n.exp>r)throw"pow(): Too many digits: "+n.toString();f.mant.length>r&&(f=this.clone(f).round(t));i=n.mant.length+n.exp;r=r+i+1}if(r=new gx.num.dec.mthctx(r,t.form,!1,t.roundingMode),i=new gx.num.dec.bigDecimal("1"),0==u)return i;0>u&&(u=-u);e=!1;o=1;n:for(;;o++){if(u+=u,0>u&&(e=!0,i=i.multiply(f,r)),31==o)break n;e&&(i=i.multiply(i,r))}return 0>n.ind&&(i=new gx.num.dec.bigDecimal("1").divide(i,r)),i.finish(t,!0)},this.remainder=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),this.dodivide("R",n,t,-1)},this.substract=function(n,t){return"undefined"==typeof t&&(t=this.plainMC),t.lostDigits&&this.checkdigits(n,t.digits),n=this.clone(n),n.ind=-n.ind,this.add(n,t)},this.equals=function(n){var i,t,r;if(null==n||!(n instanceof gx.num.dec.bigDecimal)||this.ind!=n.ind)return!1;if(this.mant.length==n.mant.length&&this.exp==n.exp&&this.form==n.form){for(i=this.mant.length,t=0;0<i;i--,t++)if(this.mant[t]!=n.mant[t])return!1}else{if(i=this.layout(),n=n.layout(),i.length!=n.length)return!1;for(r=i.length,t=0;0<r;r--,t++)if(i[t]!=n[t])return!1}return!0},this.format=function(n,t,i,r,u,f){var e,o;if("undefined"==typeof i&&(r=i=-1,u=gx.num.dec.SCIENTIFIC,f=gx.num.dec.ROUND_HALF_UP),(-1>n||0==n)&&this.badarg("format",1,n),-1>t&&this.badarg("format",2,t),(-1>i||0==i)&&this.badarg("format",3,i),-1>r&&this.badarg("format",4,r),u!=gx.num.dec.SCIENTIFIC&&u!=gx.num.dec.ENGINEERING&&(-1==u?u=gx.num.dec.SCIENTIFIC:this.badarg("format",5,u)),f!=gx.num.dec.ROUND_HALF_UP)try{-1==f?f=gx.num.dec.ROUND_HALF_UP:new gx.num.dec.mthctx(9,gx.num.dec.SCIENTIFIC,!1,f)}catch(s){this.badarg("format",6,f)}if(e=this.clone(this),-1==r?e.form=gx.num.dec.PLAIN:e.ind==this.iszero?e.form=gx.num.dec.PLAIN:(o=e.exp+e.mant.length,e.form=o>r?u:-5>o?u:gx.num.dec.PLAIN),0<=t)n:for(;;){if(e.form==gx.num.dec.PLAIN?r=-e.exp:e.form==gx.num.dec.SCIENTIFIC?r=e.mant.length-1:(r=(e.exp+e.mant.length-1)%3,0>r&&(r=3+r),r++,r=r>=e.mant.length?0:e.mant.length-r),r==t)break n;if(r<t){if(f=this.extend(e.mant,e.mant.length+t-r),e.mant=f,e.exp-=t-r,e.exp<this.MinExp)throw"format(): Exponent Overflow: "+e.exp;break n}if(r-=t,r>e.mant.length){e.mant=new gx.num.dec.bigDecimal("0").mant;e.ind=this.iszero;e.exp=0;continue n}if(u=e.mant.length-r,o=e.exp,e.round(u,f),e.exp-o==r)break n}if(t=e.layout(),0<n){f=t.length;e=0;n:for(;0<f;f--,e++){if("."==t[e])break n;if("E"==t[e])break n}if(e>n&&this.badarg("format",1,n),e<n){for(f=Array(t.length+n-e),e=n-e,n=0;0<e;e--,n++)f[n]=" ";this.arraycopy(t,0,f,n,t.length);t=f}}if(0<i){n=t.length-1;e=t.length-1;n:for(;0<n;n--,e--)if("E"==t[e])break n;if(0==e){for(f=Array(t.length+i+2),this.arraycopy(t,0,f,0,t.length),i+=2,n=t.length;0<i;i--,n++)f[n]=" ";t=f}else if(r=t.length-e-2,r>i&&this.badarg("format",3,i),r<i){for(f=Array(t.length+i-r),this.arraycopy(t,0,f,0,e+2),i-=r,n=e+2;0<i;i--,n++)f[n]="0";this.arraycopy(t,e+2,f,n,r);t=f}}return t.join("")},this.intValueExact=function(){var n,i;if(this.ind==this.iszero)return 0;if(n=this.mant.length-1,0>this.exp){if(n+=this.exp,!this.allzero(this.mant,n+1))throw"intValueExact(): Decimal part non-zero: "+this.toString();if(0>n)return 0;i=0}else{if(9<this.exp+n)throw"intValueExact(): Conversion overflow: "+this.toString();i=this.exp}for(var t=0,u=n+i,r=0;r<=u;r++)t*=10,r<=n&&(t+=this.mant[r]);if(9==n+i&&(n=div(t,1e9),n!=this.mant[0])){if(-2147483648==t&&this.ind==this.isneg&&2==this.mant[0])return t;throw"intValueExact(): Conversion overflow: "+this.toString();}return this.ind==this.ispos?t:-t},this.movePointLeft=function(n){var t=this.clone(this);return t.exp-=n,t.finish(this.plainMC,!1)},this.movePointRight=function(n){var t=this.clone(this);return t.exp+=n,t.finish(this.plainMC,!1)},this.scale=function(){return 0<=this.exp?0:-this.exp},this.setScale=function(n,t){var r,i;if("undefined"==typeof t&&(t=gx.num.dec.ROUND_UNNECESSARY),r=this.scale(),r==n&&this.form==gx.num.dec.PLAIN)return this;if(i=this.clone(this),r<=n)t=0==r?i.exp+n:n-r,i.mant=this.extend(i.mant,i.mant.length+t),i.exp=-n;else{if(0>n)throw"setScale(): Negative scale: "+n;r=i.mant.length-(r-n);i=i.round(r,t);i.exp!=-n&&(i.mant=this.extend(i.mant,i.mant.length+1),--i.exp)}return i.form=gx.num.dec.PLAIN,i},this.signum=function(){return this.ind},this.toString=function(){return this.layout().join("")},this.toFixed=function(n){return this.setScale(n,gx.num.dec.ROUND_UP).toString()},this.layout=function(){for(var t=Array(this.mant.length),i=this.mant.length,r=0,n,u,f;0<i;i--,r++)t[r]=this.mant[r]+"";if(this.form!=gx.num.dec.PLAIN){if(r="",this.ind==this.isneg&&(r+="-"),i=this.exp+t.length-1,this.form==gx.num.dec.SCIENTIFIC)r+=t[0],1<t.length&&(r+="."),r+=t.slice(1).join("");else if(n=i%3,0>n&&(n=3+n),i-=n,n++,n>=t.length)for(r+=t.join(""),n-=t.length;0<n;n--)r+="0";else r+=t.slice(0,n).join(""),r+=".",r+=t.slice(n).join("");return 0!=i&&(0>i?(t="-",i=-i):t="+",r=r+"E"+t+i),r.split("")}if(0==this.exp)return 0<=this.ind?t:(n=Array(t.length+1),n[0]="-",this.arraycopy(t,0,n,1,t.length),n);if(i=this.ind==this.isneg?1:0,u=this.exp+t.length,1>u){for(r=i+2-this.exp,n=Array(r),0!=i&&(n[0]="-"),n[i]="0",n[i+1]=".",f=-u,r=i+2;0<f;f--,r++)n[r]="0";return this.arraycopy(t,0,n,i+2-u,t.length),n}if(u>t.length){for(n=Array(i+u),0!=i&&(n[0]="-"),this.arraycopy(t,0,n,i,t.length),u-=t.length,r=i+t.length;0<u;u--,r++)n[r]="0";return n}return r=i+1+t.length,n=Array(r),0!=i&&(n[0]="-"),this.arraycopy(t,0,n,i,u),n[i+u]=".",this.arraycopy(t,u,n,i+u+1,t.length-u),n},this.intcheck=function(n,t){var i=this.intValueExact();if(i<n||i>t)throw"intcheck(): Conversion overflow: "+i;return i},this.dodivide=function(n,t,i,r){var o,h,e,u,s,a,p,f,v;if(i.lostDigits&&this.checkdigits(t,i.digits),o=this,0==t.ind)throw"dodivide(): Divide by 0";if(0==o.ind)return i.form!=gx.num.dec.PLAIN?new gx.num.dec.bigDecimal("0"):-1==r?o:o.setScale(r);if(h=i.digits,0<h?(o.mant.length>h&&(o=this.clone(o).round(i)),t.mant.length>h&&(t=this.clone(t).round(i))):(-1==r&&(r=o.scale()),h=o.mant.length,r!=-o.exp&&(h=h+r+o.exp),h=h-(t.mant.length-1)-t.exp,h<o.mant.length&&(h=o.mant.length),h<t.mant.length&&(h=t.mant.length)),e=o.exp-t.exp+o.mant.length-t.mant.length,0>e&&"D"!=n)return"I"==n?new gx.num.dec.bigDecimal("0"):this.clone(o).finish(i,!1);u=new gx.num.dec.bigDecimal;u.ind=o.ind*t.ind;u.exp=e;u.mant=this.createArrayWithZeros(h+1);s=h+h+1;e=this.extend(o.mant,s);var c=s,l=t.mant,y=s,w=10*l[0]+1;1<l.length&&(w+=l[1]);s=0;n:for(;;){a=0;t:for(;;){if(c<y)break t;if(c==y){i:{for(p=c,f=0;0<p;p--,f++){if(v=f<l.length?l[f]:0,e[f]<v)break t;if(e[f]>v)break i}a++;u.mant[s]=a;s++;e[0]=0;break n}f=e[0]}else f=10*e[0],1<c&&(f+=e[1]);if(f=div(10*f,w),0==f&&(f=1),a+=f,e=this.byteaddsub(e,c,l,y,-f,!0),0==e[0]){v=c-2;f=0;i:for(;f<=v;f++){if(0!=e[f])break i;c--}0!=f&&this.arraycopy(e,f,e,0,c)}}if(0!=s||0!=a){if(u.mant[s]=a,s++,s==h+1)break n;if(0==e[0])break n}if(0<=r&&-u.exp>r)break n;if("D"!=n&&0>=u.exp)break n;--u.exp;y--}if(0==s&&(s=1),"I"==n||"R"==n){if(s+u.exp>h)throw"dodivide(): Integer overflow";if("R"==n){if(0==u.mant[0])return this.clone(o).finish(i,!1);if(0==e[0])return new gx.num.dec.bigDecimal("0");u.ind=o.ind;r=h+h+1-o.mant.length;u.exp=u.exp-r+o.exp;r=c;f=r-1;n:for(;1<=f&&u.exp<o.exp&&u.exp<t.exp;f--){if(0!=e[f])break n;r--;u.exp+=1}return r<e.length&&(t=Array(r),this.arraycopy(e,0,t,0,r),e=t),u.mant=e,u.finish(i,!1)}}else 0!=e[0]&&(t=u.mant[s-1],0==t%5&&(u.mant[s-1]=t+1));if(0<=r)return s!=u.mant.length&&(u.exp-=u.mant.length-s),t=u.mant.length-(-u.exp-r),u.round(t,i.roundingMode),u.exp!=-r&&(u.mant=this.extend(u.mant,u.mant.length+1),--u.exp),u.finish(i,!0);if(s==u.mant.length)u.round(i);else{if(0==u.mant[0])return new gx.num.dec.bigDecimal("0");t=Array(s);this.arraycopy(u.mant,0,t,0,s);u.mant=t}return u.finish(i,!0)},this.bad=function(n,t){throw n+"Not a number: "+t;},this.badarg=function(n,t,i){throw"Bad argument "+t+" to "+n+": "+i;},this.extend=function(n,t){return n.length==t?n:(t=createArrayWithZeros(t),this.arraycopy(n,0,t,0,n.length),t)},this.byteaddsub=function(n,t,i,r,u,f){var s,l=n.length,a=i.length,o,c,e,h;--t;o=s=r-1;o<t&&(o=t);r=null;f&&o+1==l&&(r=n);null==r&&(r=this.createArrayWithZeros(o+1));c=!1;1==u?c=!0:-1==u&&(c=!0);e=0;h=o;n:for(;0<=h;h--){if(0<=t&&(t<l&&(e+=n[t]),t--),0<=s&&(s<a&&(e=c?0<u?e+i[s]:e-i[s]:e+i[s]*u),s--),10>e&&0<=e){r[h]=e;e=0;continue n}e+=90;r[h]=this.diginit()[e];e=this.bytecar[e]}if(0==e)return r;for(i=null,f&&o+2==n.length&&(i=n),null==i&&(i=Array(o+2)),i[0]=e,f=o+1,n=0;0<f;f--,n++)i[n+1]=r[n];return i},this.diginit=function(){var i=Array(190),n=0,t;n:for(;189>=n;n++){if(t=n-90,0<=t){i[n]=t%10;this.bytecar[n]=this.div(t,10);continue n}t+=100;i[n]=t%10;this.bytecar[n]=this.div(t,10)-10}return i},this.clone=function(n){var t=new gx.num.dec.bigDecimal;return t.ind=n.ind,t.exp=n.exp,t.form=n.form,t.mant=n.mant,t},this.checkdigits=function(n,t){if(0!=t){if(this.mant.length>t&&!this.allzero(this.mant,t))throw"Too many digits: "+this.toString();if(null!=n&&n.mant.length>t&&!this.allzero(n.mant,t))throw"Too many digits: "+n.toString();}},this.round=function(n,t){var e,r,u,f,i;if("undefined"==typeof t&&(t=n,n=t.digits,t=t.roundingMode),e=this.mant.length-n,0>=e)return this;if(this.exp+=e,r=this.ind,u=this.mant,0<n?(this.mant=Array(n),this.arraycopy(u,0,this.mant,0,n),e=!0,f=u[n]):(this.mant=new gx.num.dec.bigDecimal("0").mant,this.ind=this.iszero,e=!1,f=0==n?u[0]:0),i=0,t==gx.num.dec.ROUND_HALF_UP)5<=f&&(i=r);else if(t==gx.num.dec.ROUND_UNNECESSARY){if(!this.allzero(u,n))throw"round(): Rounding necessary";}else if(t==gx.num.dec.ROUND_HALF_DOWN)5<f?i=r:5==f&&(this.allzero(u,n+1)||(i=r));else if(t==gx.num.dec.ROUND_HALF_EVEN)5<f?i=r:5==f&&(this.allzero(u,n+1)?1==this.mant[this.mant.length-1]%2&&(i=r):i=r);else if(t!=gx.num.dec.ROUND_DOWN)if(t==gx.num.dec.ROUND_UP)this.allzero(u,n)||(i=r);else if(t==gx.num.dec.ROUND_CEILING)0<r&&(this.allzero(u,n)||(i=r));else if(t==gx.num.dec.ROUND_FLOOR)0>r&&(this.allzero(u,n)||(i=r));else throw"round(): Bad round value: "+t;if(0!=i&&(this.ind==this.iszero?(this.mant=new gx.num.dec.bigDecimal("1").mant,this.ind=i):(this.ind==this.isneg&&(i=-i),n=this.byteaddsub(this.mant,this.mant.length,new gx.num.dec.bigDecimal("1").mant,1,i,e),n.length>this.mant.length?(this.exp++,this.arraycopy(n,0,this.mant,0,this.mant.length)):this.mant=n)),this.exp>this.MaxExp)throw"round(): Exponent Overflow: "+this.exp;return this},this.allzero=function(n,t){0>t&&(t=0);for(var i=n.length-1;t<=i;t++)if(0!=n[t])return!1;return!0},this.finish=function(n,t){var i,r;if(0!=n.digits&&this.mant.length>n.digits&&this.round(n),t&&n.form!=gx.num.dec.PLAIN){i=this.mant.length;t=i-1;n:for(;1<=t;t--){if(0!=this.mant[t])break n;i--;this.exp++}i<this.mant.length&&(r=Array(i),this.arraycopy(this.mant,0,r,0,i),this.mant=r)}for(this.form=gx.num.dec.PLAIN,i=this.mant.length,t=0;0<i;i--,t++)if(0!=this.mant[t]){if(0<t&&(r=Array(this.mant.length-t),this.arraycopy(this.mant,t,r,0,this.mant.length-t),this.mant=r),t=this.exp+this.mant.length,0<t){if(t>n.digits&&0!=n.digits&&(this.form=n.form),t-1<=this.MaxExp)return this}else-5>t&&(this.form=n.form);if(t--,t<this.MinExp||t>this.MaxExp)n:{if(this.form==gx.num.dec.ENGINEERING&&(n=t%3,0>n&&(n=3+n),t-=n,t>=this.MinExp&&t<=this.MaxExp))break n;throw"finish(): Exponent Overflow: "+t;}return this}if(this.ind=this.iszero,n.form!=gx.num.dec.PLAIN)this.exp=0;else if(0<this.exp)this.exp=0;else if(this.exp<this.MinExp)throw"finish(): Exponent Overflow: "+this.exp;return this.mant=new gx.num.dec.bigDecimal("0").mant,this},this.ispos=1,this.iszero=0,this.isneg=-1,this.MinExp=-999999999,this.MaxExp=999999999,this.MinArg=-999999999,this.MaxArg=999999999,this.plainMC=new gx.num.dec.mthctx(0,gx.num.dec.PLAIN),this.bytecar=Array(190),this.ind=0,this.form=gx.num.dec.PLAIN,this.mant=null,this.exp=0,"undefined"!=typeof n){"undefined"==typeof t&&(t=0);"undefined"==typeof i&&(i=n.length);"string"==typeof n&&(n=gx.text.trim(n),n=n.split(""));var l,o,r=0,u=0,s=!1,e=u=u=r=0,h=0,f=0;0>=i&&this.bad("bigDecimal(): ",n);this.ind=this.ispos;"-"==n[0]?(i--,0==i&&this.bad("bigDecimal(): ",n),this.ind=this.isneg,t++):"+"==n[0]&&(i--,0==i&&this.bad("bigDecimal(): ",n),t++);s=l=!1;f=0;c=o=-1;e=i;r=t;n:for(;0<e;e--,r++){if(u=n[r],"0"<=u&&"9">=u){c=r;f++;continue n}if("."==u){0<=o&&this.bad("bigDecimal(): ",n);o=r-t;continue n}if("e"!=u&&"E"!=u){("0">u||"9"<u)&&this.bad("bigDecimal(): ",n);l=!0;c=r;f++;continue n}for(r-t>i-2&&this.bad("bigDecimal(): ",n),s=!1,"-"==n[r+1]?(s=!0,r+=2):r="+"==n[r+1]?r+2:r+1,u=i-(r-t),(0==u||9<u)&&this.bad("bigDecimal(): ",n),i=u,u=r;0<i;i--,u++)e=n[u],"0">e&&this.bad("bigDecimal(): ",n),"9"<e?this.bad("bigDecimal(): ",n):h=+e,this.exp=10*this.exp+h;s&&(this.exp=-this.exp);s=!0;break n}0==f&&this.bad("bigDecimal(): ",n);0<=o&&(this.exp=this.exp+o-f);h=c-1;r=t;n:for(;r<=h;r++)if(u=n[r],"0"==u)t++,o--,f--;else if("."==u)t++,o--;else break n;if(this.mant=Array(f),u=t,l)for(t=f,r=0;0<t;t--,r++)r==o&&u++,e=n[u],"9">=e?this.mant[r]=+e:this.bad("bigDecimal(): ",n),u++;else for(t=f,r=0;0<t;t--,r++)r==o&&u++,this.mant[r]=n[u]-0,u++;0==this.mant[0]?(this.ind=this.iszero,0<this.exp&&(this.exp=0),s&&(this.mant=new gx.num.dec.bigDecimal("0").mant,this.exp=0)):s&&(this.form=gx.num.dec.SCIENTIFIC,f=this.exp+this.mant.length-1,(f<this.MinExp||f>this.MaxExp)&&this.bad("bigDecimal(): ",n))}},mthctx:function(n,t,i,r){if(this.getDigits=function(){return this.digits},this.getForm=function(){return this.form},this.getLostDigits=function(){return this.lostDigits},this.getRoundingMode=function(){return this.roundingMode},this.toString=function(){var t=null,r=this.form==gx.num.dec.SCIENTIFIC?"SCIENTIFIC":this.form==gx.num.dec.ENGINEERING?"ENGINEERING":"PLAIN",i=gx.num.dec.ROUNDS.length,n=0;n:for(;0<i;i--,n++)if(this.roundingMode==gx.num.dec.ROUNDS[n]){t=gx.num.dec.ROUNDWORDS[n];break n}return"digits="+this.digits+" form="+r+" lostDigits="+(this.lostDigits?"1":"0")+" roundingMode="+t},this.isValidRound=function(n){for(var t=gx.num.dec.ROUNDS.length,i=0;0<t;t--,i++)if(n==gx.num.dec.ROUNDS[i])return!0;return!1},this.form=this.digits=0,this.lostDigits=!1,this.roundingMode=0,"undefined"==typeof r&&(r=gx.num.dec.DEFAULT_ROUNDINGMODE),"undefined"==typeof i&&(i=gx.num.dec.DEFAULT_LOSTDIGITS),"undefined"==typeof t&&(t=gx.num.dec.DEFAULT_FORM),n!=gx.num.dec.DEFAULT_DIGITS){if(n<gx.num.dec.MIN_DIGITS)throw"mthctx(): Digits too small: "+n;if(n>gx.num.dec.MAX_DIGITS)throw"mthctx(): Digits too large: "+n;}if(t!=gx.num.dec.SCIENTIFIC&&t!=gx.num.dec.ENGINEERING&&t!=gx.num.dec.PLAIN)throw"mthctx() Bad form value: "+t;if(!this.isValidRound(r))throw"mthctx(): Bad roundingMode value: "+r;this.digits=n;this.form=t;this.lostDigits=i;this.roundingMode=r},PLAIN:0,SCIENTIFIC:1,ENGINEERING:2,ROUND_DOWN:1,ROUND_CEILING:2,ROUND_FLOOR:3,ROUND_HALF_DOWN:5,ROUND_HALF_EVEN:6,ROUND_HALF_UP:4,ROUND_UNNECESSARY:7,ROUND_UP:0,DEFAULT_FORM:1,DEFAULT_DIGITS:9,DEFAULT_LOSTDIGITS:!1,DEFAULT_ROUNDINGMODE:4,MIN_DIGITS:0,MAX_DIGITS:999999999,ROUNDS:[4,7,2,1,3,5,6,0],ROUNDWORDS:"ROUND_HALF_UP ROUND_UNNECESSARY ROUND_CEILING ROUND_DOWN ROUND_FLOOR ROUND_HALF_DOWN ROUND_HALF_EVEN ROUND_UP".split(" ")}